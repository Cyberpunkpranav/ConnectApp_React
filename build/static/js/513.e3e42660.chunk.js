"use strict";(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[513,158,751,867,777],{9513:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var s=a(9439),c=a(9867),l=a(6626),n=a(606),o=a(7992),r=a.n(o),i=a(7548),d=a.n(i),h=a(5517),x=a(2834),m=function(){var e=(0,c.useContext)(l.q2),t=((0,c.useContext)(l.Pl),(0,c.useContext)(l.U8)),a=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx),(0,c.useRef)()),o=(0,c.useState)(""),i=(0,s.Z)(o,2),m=(i[0],i[1],(0,c.useState)()),u=(0,s.Z)(m,2),f=u[0],b=u[1],p=(0,c.useState)(),N=(0,s.Z)(p,2),g=N[0],j=N[1],v=(0,c.useState)(!1),w=(0,s.Z)(v,2),y=w[0],_=w[1],k=(0,c.useState)([]),S=(0,s.Z)(k,2),C=S[0],Z=S[1],D=(0,c.useState)([]),T=(0,s.Z)(D,2),P=T[0],L=(T[1],(0,c.useState)()),I=(0,s.Z)(L,2),R=I[0],H=(I[1],(0,c.useState)()),E=(0,s.Z)(H,2),F=E[0],G=E[1],M=function(e){if(e)return e=e.split("-").reverse().join("-")};function O(e){_(!0);try{n.Z.get("https://aartas-qaapp-as.azurewebsites.net/aartas_uat/public/api/transfer/stocks/list?location_id=".concat(F," ")).then((function(e){Z(e.data.data.transfer_stocks_recevied),_(!1)})).catch((function(e){r().Notify.warning(e),_(!1)}))}catch(t){r().Notify.warning(t.message),_(!1)}}return(0,c.useEffect)((function(){O()}),[F]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",R," ",R>1?"Transfer Stocks In":"Transfer Stock In"," ","  "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell",children:(0,x.jsxs)("select",{className:"fw-bold form-control bg-seashell border-0 text-charcoal",onChange:function(e){G(e.target.value)},children:[(0,x.jsx)("option",{value:"Choose Location",children:"Choose Location"}),e.map((function(e){return(0,x.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell  ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control bg-seashell text-charcoal text-center border-0 fw-bolder ",value:f||(t||""),onChange:function(e){b(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal  text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"date",className:" form-control bg-seashell text-charcoal text-center border-0 fw-bolder",value:g||(f||(t||"")),onChange:function(e){j(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(M(f)+" to "+M(g)," Stock transfer In"),sheet:"StockTransferIn",currentTableRef:a.current,children:(0,x.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:a,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Delivery Note No. "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Date"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Location Name"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Item name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Qty "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Batch"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Expiry "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Taxable "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Tax Rate"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Total "})]})}),y?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):C&&0!=C.length?(0,x.jsx)("tbody",{children:C.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold"}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stocks Transfers In "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:P,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:O,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})},u=a(4165),f=a(5861),b=function(){var e=(0,c.useContext)(l.q2),t=((0,c.useContext)(l.Pl),(0,c.useContext)(l.U8)),a=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx),(0,c.useRef)()),o=(0,c.useState)(""),i=(0,s.Z)(o,2),m=i[0],b=i[1],p=(0,c.useState)(),N=(0,s.Z)(p,2),g=N[0],j=N[1],v=(0,c.useState)(),w=(0,s.Z)(v,2),y=w[0],_=w[1],k=(0,c.useState)(!1),S=(0,s.Z)(k,2),C=S[0],Z=S[1],D=(0,c.useState)([]),T=(0,s.Z)(D,2),P=T[0],L=T[1],I=(0,c.useState)([]),R=(0,s.Z)(I,2),H=R[0],E=(R[1],(0,c.useState)()),F=(0,s.Z)(E,2),G=F[0],M=(F[1],(0,c.useState)()),O=(0,s.Z)(M,2),q=O[0],B=O[1],z=function(e){if(e)return e=e.split("-").reverse().join("-")};function V(e){Z(!0);try{n.Z.get("https://aartas-qaapp-as.azurewebsites.net/aartas_uat/public/api/transfer/stocks/list?location_id=".concat(q," ")).then((function(e){L(e.data.data.transfer_stocks_sent),Z(!1)})).catch((function(e){r().Notify.warning(e),Z(!1)}))}catch(t){r().Notify.warning(t.message),Z(!1)}}var J={receipt_no:"",date:"",location:"",item_name:"",qty:"",batch:"",expiry:"",taxable:"",tax_rate:"",total:""},W=function(){var e=(0,f.Z)((0,u.Z)().mark((function e(){var t,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b(),t=[],a=0;a<P.length;a++)for(s=0;s<P[a].medicines.length;s++)J={receipt_no:"",date:P[a].transfer_date?P[a].transfer_date:"",location:void 0!=P[a].to_location.title?P[a].to_location.title:"",item_name:P[a].medicines[s].medicine_stock_details.medicine.display_name?P[a].medicines[s].medicine_stock_details.medicine.display_name:"",qty:P[a].medicines[s].qty,batch:P[a].medicines[s].medicine_stock_details.batch_no?P[a].medicines[s].medicine_stock_details.batch_no:"",expiry:P[a].medicines[s].medicine_stock_details.expiry_date?P[a].medicines[s].medicine_stock_details.expiry_date:"",taxable:P[a].medicines[s].medicine_stock_details.rate?P[a].medicines[s].medicine_stock_details.rate:"",tax_rate:"",total:P[a].total_amount},t.push(J);b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){W()}),[P]),(0,c.useEffect)((function(){V(),W()}),[q]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",G," ",G>1?"Transfer Stocks Out":"Transfer Stock Out"," ","  "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell",children:(0,x.jsxs)("select",{className:"fw-bold form-control bg-seashell border-0 text-charcoal",onChange:function(e){B(e.target.value)},children:[(0,x.jsx)("option",{value:"Choose Location",children:"Choose Location"}),e.map((function(e){return(0,x.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell  ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control bg-seashell text-charcoal text-center border-0 fw-bolder ",value:g||(t||""),onChange:function(e){j(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal  text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"date",className:" form-control bg-seashell text-charcoal text-center border-0 fw-bolder",value:y||(g||(t||"")),onChange:function(e){_(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto export",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(z(g)+" to "+z(y)," Stock transfer In"),sheet:"StockTransferIn",currentTableRef:a.current,children:(0,x.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:a,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Reciept Note No. "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Date"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"To Location "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Item name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Qty "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Batch"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Expiry "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Taxable "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Tax Rate"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Total "})]})}),C?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:" Getting Details please be Patient ... "}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):P&&0!=P.length?(0,x.jsx)("tbody",{children:m.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.receipt_no?e.receipt_no:""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.date?z(e.date):""}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.location?e.location:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.item_name?e.item_name:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.qty?e.qty:"","  "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.batch?e.batch:""}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.expiry?e.expiry:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.taxable?e.taxable:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.tax_rate?e.tax_rate:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.total?e.total:""," "]})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stocks Transfers Out "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:H,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:V,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})},p=function(){var e=(0,c.useContext)(l.U8),t=localStorage.getItem("ClinicId"),a=(localStorage.getItem("id"),(0,c.useContext)(l.Jx)),o=(0,c.useRef)(),i=(0,c.useState)(),m=(0,s.Z)(i,2),u=m[0],f=m[1],b=(0,c.useState)(),p=(0,s.Z)(b,2),N=p[0],g=p[1],j=(0,c.useState)(!1),v=(0,s.Z)(j,2),w=v[0],y=v[1],_=(0,c.useState)([]),k=(0,s.Z)(_,2),S=k[0],C=k[1],Z=(0,c.useState)([]),D=(0,s.Z)(Z,2),T=D[0],P=D[1],L=(0,c.useState)(),I=(0,s.Z)(L,2),R=I[0],H=I[1],E=function(e){if(e)return e=e.split("-").reverse().join("-")};function F(s){if(void 0==s||void 0==s.selected){y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=0&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){C(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}else{y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=").concat(25*s.selected,"&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){C(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}}return(0,c.useEffect)((function(){!function(){try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&from_date=").concat(u||e,"&to_date=").concat(N||u||e)).then((function(e){H(e.data.data.total_count),P(Math.round(e.data.data.total_count/25)+1),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(s){r().Notify.warning(s.message),y(!1)}}()}),[u,N]),(0,c.useEffect)((function(){F()}),[R]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",R," ",R>1?"Stock Confirmations":"Stock Confirmation"," ","  "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:u||(e||""),onChange:function(e){f(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bgseashell",children:(0,x.jsx)("input",{type:"date",className:" form-control border-0 bg-seashell text-charcoal text-center fw-bolder",value:N||(u||(e||"")),onChange:function(e){g(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(E(u)+" to "+E(N)," Stock Value Confirmation Certificate"),sheet:"Stock_Value_Confirmation_Certification",currentTableRef:o.current,children:(0,x.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:o,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Employee ID "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Employee Name"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Designation "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Location "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Counted By "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Checked By "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Certificate "})]})}),w?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):S&&0!=S.length?(0,x.jsx)("tbody",{children:S.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stock Value Confirmation "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:T,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:F,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})},N=a(1413),g=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx)),a=(0,c.useRef)(),o=(0,c.useState)(),i=(0,s.Z)(o,2),d=i[0],m=i[1],u=(0,c.useState)(),f=(0,s.Z)(u,2),b=f[0],p=f[1],g=(0,c.useState)(!1),j=(0,s.Z)(g,2),v=j[0],w=j[1],y=(0,c.useState)([]),_=(0,s.Z)(y,2),k=_[0],S=_[1],C=(0,c.useState)([]),Z=(0,s.Z)(C,2),D=Z[0],T=Z[1],P=(0,c.useState)([]),L=(0,s.Z)(P,2),I=(L[0],L[1],(0,c.useState)()),R=(0,s.Z)(I,2),H=(R[0],R[1],(0,c.useState)()),E=(0,s.Z)(H,2),F=E[0],G=E[1],M=(0,c.useContext)(l.j8),O=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,c.useEffect)((function(){!function(){if(F&&void 0!==F){w(!0);try{n.Z.get("".concat(t,"/reports/sales/doctor?from_date=").concat(d||e,"&to_date=").concat(b||d||e,"&doctor_id=").concat(F)).then((function(e){var t=[],a=[],s=[],c=Object.keys(e.data.data.medicine).map((function(t){return(0,N.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(c);var l=Object.keys(e.data.data.vaccine).map((function(t){return(0,N.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(l),s.push(t),s.push(a),s=s.flat(),S(s.flat()),w(!1)})).catch((function(e){r().Notify.warning(e),w(!1)}))}catch(a){r().Notify.warning(a.message),w(!1)}}}(),function(){if(F&&void 0!==F){w(!0);try{n.Z.get("".concat(t,"/reports/sales/return/doctor?from_date=").concat(d||e,"&to_date=").concat(b||d||e,"&doctor_id=").concat(F)).then((function(e){var t=[],a=[],s=[],c=Object.keys(e.data.data.medicine).map((function(t){return(0,N.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(c);var l=Object.keys(e.data.data.vaccine).map((function(t){return(0,N.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(l),s.push(t),s.push(a),s=s.flat(),T(s.flat()),w(!1)})).catch((function(e){r().Notify.warning(e),w(!1)}))}catch(a){r().Notify.warning(a.message),w(!1)}}}()}),[F,d,b]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:" Doctor Wise Sales"}),(0,x.jsxs)("div",{className:"row p-0 m-0 ms-2  mt-2",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell me-2 rounded-2",children:(0,x.jsxs)("select",{className:"button button-seashell border-0 text-charcoal fw-bold text-center",value:F||"",onChange:function(e){G(e.target.value)},children:[(0,x.jsx)("option",{selected:!0,value:"Select Doctor",children:"Select Doctor"}),M?M.map((function(e,t){return(0,x.jsxs)("option",{className:"form-control text-charcoal",value:e[0],children:["Dr. ",e[1]]},t)})):(0,x.jsx)("option",{children:"Loading.."})]})}),(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-burntumber text-center fw-bolder bg-pearl  rounded-1 ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control bg-seashell border-0 bg-seashell text-charcoal text-center fw-bolder ",value:d||(e||""),onChange:function(e){m(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0  text-burntumber text-center fw-bolder bg-pearl rounded-1",children:(0,x.jsx)("input",{type:"date",className:"form-control bg-seashell border-0 bg-seashell text-charcoal text-center fw-bolder",value:b||(d||(e||"")),onChange:function(e){p(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(O(d)+" to "+O(b)," Doctor Wise Sales"),sheet:"DoctorWiseSales",currentTableRef:a.current,children:(0,x.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:a,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Item Name"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Type"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"SaleType"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Batch No. "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Invoice "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Qty "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Taxable Amt "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Tax "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Total "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Total Profit "})]})}),v?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):k&&0!=k.length?(0,x.jsxs)("tbody",{children:[k.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.item?e.item:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.medicine_id?"medicine":e.vaccine_id?"vaccine":""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:"Sales"}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.batch_no?e.batch_no:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.invoice?e.invoice:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.date?O(e.date):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.qty?e.qty:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.taxable_amount?Number(e.taxable_amount).toFixed(2):"","  "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.tax?Number(e.tax).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.total?e.total:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.total_profit?Number(e.total_profit).toFixed(2):""," "]})]},t)})),void 0!==D.length?D.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.item?e.item:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.medicine_id?"medicine":e.vaccine_id?"vaccine":""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:"Sales Return"}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.batch_no?e.batch_no:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.invoice?e.invoice:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.date?O(e.date):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.qty?e.qty:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.taxable_amount?Number(e.taxable_amount).toFixed(2):"","  "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.tax?Number(e.tax).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.total?e.total:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.total_profit?Number(e.total_profit).toFixed(2):""," "]})]},t)})):""]}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Doctor Wise Sales "})})})]})})]})},j=function(){(0,c.useContext)(l.Pl),(0,c.useContext)(l.U8),localStorage.getItem("ClinicId"),localStorage.getItem("id");var e=(0,c.useContext)(l.Jx),t=(0,c.useRef)(),a=(0,c.useState)(),o=(0,s.Z)(a,2),i=(o[0],o[1],(0,c.useState)()),d=(0,s.Z)(i,2),m=(d[0],d[1],(0,c.useState)(!1)),b=(0,s.Z)(m,2),p=b[0],N=(b[1],(0,c.useState)([])),g=(0,s.Z)(N,2),j=(g[0],g[1],(0,c.useState)()),v=(0,s.Z)(j,2),w=(v[0],v[1],(0,c.useState)([])),y=(0,s.Z)(w,2),_=y[0],k=y[1],S=(0,c.useState)(!1),C=(0,s.Z)(S,2),Z=(C[0],C[1]),D=function(){var t=(0,f.Z)((0,u.Z)().mark((function t(a){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.prev=1,t.next=4,n.Z.get("".concat(e,"/kyc/list?limit=100&offset=0")).then((function(e){k(e.data.data),Z(!1)})).catch((function(e){r().Notify.warning(e.data.message),Z(!1)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Z(!1),r().Notify.warning(t.t0.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){D()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",_.length," ",_.length>1?"Vendors Details":"Vendor Details"," ","  "]}),(0,x.jsx)("div",{className:"row p-0 m-0 justify-content-start",children:(0,x.jsx)("div",{className:"col-auto p-0 m-0 export ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"Vendor Details",sheet:"VendorDetails",currentTableRef:t.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start px-2 fw-bold",children:" Export"})})})}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:t,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Vendor Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"GSTIN"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Pan "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"MSME Certificate "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Bank Account "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"IFSC "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Bank Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Contact Person Number "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Email ID "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"State "})]})}),p?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"60vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):_&&0!=_.length?(0,x.jsx)("tbody",{children:_.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.entity_name?e.entity_name:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.GSTIN_no?e.GSTIN_no:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.PAN_no?e.PAN_no:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.MSME_no?e.MSME_no:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.account_number?e.account_number:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.ifsc_code?e.ifsc_code:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.bank_name?e.bank_name:""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.mobile_no?e.mobile_no:""}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.email_for_communication?e.email_for_communication:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.state?e.state:""," "]})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Vendor Details "})})})]})})]})},v=a(3433),w=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx)),a=(0,c.useRef)(),o=(0,c.useState)(""),i=(0,s.Z)(o,2),m=i[0],b=i[1],p=(0,c.useState)(),N=(0,s.Z)(p,2),g=N[0],j=N[1],w=(0,c.useState)(),y=(0,s.Z)(w,2),_=y[0],k=y[1],S=(0,c.useState)(!1),C=(0,s.Z)(S,2),Z=C[0],D=C[1],T=(0,c.useState)([]),P=(0,s.Z)(T,2),L=P[0],I=P[1],R=(0,c.useState)([]),H=(0,s.Z)(R,2),E=H[0],F=H[1],G=(0,c.useState)([]),M=(0,s.Z)(G,2),O=M[0],q=M[1],B=(0,c.useState)(),z=(0,s.Z)(B,2),V=z[0],J=z[1],W=function(e){if(e)return e=e.split("-").reverse().join("-")};function A(e){if(void 0==e||void 0==e.selected){D(!0);try{n.Z.get("".concat(t,"/stock/list?search=").concat(m,"&limit=25&offset=0")).then((function(e){var t=e.data.data.vaccines.concat(e.data.data.medicines);I(t),D(!1)})).catch((function(e){r().Notify.warning(e),D(!1)}))}catch(a){r().Notify.warning(a.message),D(!1)}}else{D(!0);try{n.Z.get("".concat(t,"/stock/list?search=").concat(m,"&limit=25&offset=").concat(25*e.selected)).then((function(e){var t=e.data.data.vaccines.concat(e.data.data.medicines);I(t),D(!1)})).catch((function(e){r().Notify.warning(e),D(!1)}))}catch(a){r().Notify.warning(a.message),D(!1)}}}var U=function(){var e=(0,f.Z)((0,u.Z)().mark((function e(){var t,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F([]),t=(0,u.Z)().mark((function e(){var t,s,c,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0!=L[a].stock_info.length){e.next=6;break}s={id:L[a].id,name:L[a].name,manufacturer:L[a].manufacturer,max_stock_count:L[a].max_stock_count,alert_stock_count:L[a].alert_stock_count,min_stock_count:L[a].min_stock_count},void 0==L&&0==L.length?F(s):F((function(e){return[].concat((0,v.Z)(e),[s])})),e.next=13;break;case 6:c=(0,u.Z)().mark((function e(){var s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push(L[a].stock_info[l].current_stock),s={id:L[a].id,name:L[a].name,manufacturer:L[a].manufacturer,max_stock_count:L[a].max_stock_count,alert_stock_count:L[a].alert_stock_count,min_stock_count:L[a].min_stock_count,CGST:L[a].stock_info[l].CGST,CGST_rate:L[a].stock_info[l].CGST_rate,IGST:L[a].stock_info[l].IGST,IGST_rate:L[a].stock_info[l].IGST_rate,SGST:L[a].stock_info[l].SGST,SGST_rate:L[a].stock_info[l].SGST_rate,batch_no:L[a].stock_info[l].batch_no,channel:L[a].stock_info[l].channel,cost:L[a].stock_info[l].cost,current_stock:L[a].stock_info[l].current_stock,discount:L[a].stock_info[l].discount,expiry_date:L[a].stock_info[l].expiry_date,free_qty:L[a].stock_info[l].free_qty,Batch_stock_id:L[a].stock_info[l].id,mfd_date:L[a].stock_info[l].mfd_date,mrp:L[a].stock_info[l].mrp,purchase_entry_id:L[a].stock_info[l].purchase_entry_id,qty:L[a].stock_info[l].qty,rate:L[a].stock_info[l].rate,trade_discount:L[a].stock_info[l].trade_discount,total_amount:L[a].stock_info[l].total_amount,totalstock:t},void 0==L&&0==L.length?F(s):F((function(e){return[].concat((0,v.Z)(e),[s])}));case 3:case"end":return e.stop()}}),e)})),l=0;case 8:if(!(l<L[a].stock_info.length)){e.next=13;break}return e.delegateYield(c(),"t0",10);case 10:l++,e.next=8;break;case 13:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<L.length)){e.next=8;break}return e.delegateYield(t(),"t0",5);case 5:a++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){!function(){try{n.Z.get("".concat(t,"/stock/list?search=").concat(m,"&limit=25&offset=0")).then((function(e){J(Number(e.data.data.total_count_medicines+e.data.data.total_count_vaccines)),q(Math.round(Number(e.data.data.total_count_medicines+e.data.data.total_count_vaccines)/25)+1),D(!1)})).catch((function(e){r().Notify.warning(e),D(!1)}))}catch(e){r().Notify.warning(e.message),D(!1)}}(),A(),U()}),[m,g,_]),(0,c.useEffect)((function(){A()}),[V]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",V," ",V>1?"Batches Details":"Batch Details"," ","  "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 text-center mt-2 ms-2",children:[(0,x.jsx)("div",{className:"col-auto border-0 rounded-2 bg-seashell",children:(0,x.jsxs)("div",{className:"row p-0 m-0 fw-bolder align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"text",placeholder:"itemname",className:"button button-seashell rounded-0 text-charcoal text-center fw-bolder ",value:m||"",onChange:function(e){b(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 text-charcoal text-center fw-bolder ",value:g||(e||""),onChange:function(e){j(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0  text-charcoal text-center fw-bolder bg-seashell",children:(0,x.jsx)("input",{type:"date",className:"button button-seashell rounded-0 text-charcoal text-center bg-seashell fw-bolder",value:_||(g||(e||"")),onChange:function(e){k(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(W(g)+" to "+W(_)," Batch Details"),sheet:"BatchDetails",currentTableRef:a.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:a,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Item ID "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Item Name"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Batch No. "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Purchase Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Expiry Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Qty "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"MRP "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"Cost "})]})}),Z?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):E&&0!=E.length?(0,x.jsx)("tbody",{children:E.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.id?e.id:""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:e.name?e.name:""}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.batch_no?e.batch_no:""," "]}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.expiry_date?W(e.expiry_date):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.qty?e.qty:""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.mrp?e.mrp:""]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.cost?e.cost:""]})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Batch Details "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:O,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:A,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})},y=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=localStorage.getItem("ClinicId"),a=(localStorage.getItem("id"),(0,c.useContext)(l.Jx)),o=(0,c.useRef)(),i=(0,c.useState)(),m=(0,s.Z)(i,2),u=m[0],f=m[1],b=(0,c.useState)(),p=(0,s.Z)(b,2),N=p[0],g=p[1],j=(0,c.useState)(!1),v=(0,s.Z)(j,2),w=v[0],y=v[1],_=(0,c.useState)(),k=(0,s.Z)(_,2),S=k[0],C=k[1],Z=(0,c.useState)([]),D=(0,s.Z)(Z,2),T=D[0],P=D[1],L=(0,c.useState)([]),I=(0,s.Z)(L,2),R=I[0],H=I[1],E=(0,c.useState)(),F=(0,s.Z)(E,2),G=F[0],M=F[1],O=function(e){if(e)return e=e.split("-").reverse().join("-")};function q(s){if(void 0==s||void 0==s.selected){y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=0&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){P(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}else{y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=").concat(25*s.selected,"&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){P(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}}return(0,c.useEffect)((function(){!function(){try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&from_date=").concat(u||e,"&to_date=").concat(N||u||e)).then((function(e){M(e.data.data.total_count),H(Math.round(e.data.data.total_count/25)+1),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(s){r().Notify.warning(s.message),y(!1)}}()}),[S,u,N]),(0,c.useEffect)((function(){q()}),[G]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",G," ",G>0?"Sales":"Sale"," "," "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 mt-2 ms-2  ",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 fw-bolder align-items-center align-self-center ",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"text",placeholder:"schedule",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:S||"",onChange:function(e){C(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bg-seashell ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:u||(e||""),onChange:function(e){f(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0  text-center fw-bolder bgseashell",children:(0,x.jsx)("input",{type:"date",className:" form-control border-0 bg-seashell text-charcoal text-center fw-bolder",value:N||(u||(e||"")),onChange:function(e){g(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(O(u)+" to "+O(N)," Schedule Wise Sales"),sheet:"ScheduleWiseSales",currentTableRef:o.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:o,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Schedule Type "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Invoice No"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Patient Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Doctor Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Qty "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Amount "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Company "})]})}),w?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):T&&0!=T.length?(0,x.jsx)("tbody",{children:T.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Scheudle Wise Sales "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:R,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:q,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})},_=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx)),a=(0,c.useRef)(),o=(0,c.useState)(),i=(0,s.Z)(o,2),d=i[0],m=i[1],b=(0,c.useState)(),p=(0,s.Z)(b,2),g=p[0],j=p[1],v=(0,c.useState)(!1),w=(0,s.Z)(v,2),y=w[0],_=w[1],k=(0,c.useState)(),S=(0,s.Z)(k,2),C=(S[0],S[1],(0,c.useState)([])),Z=(0,s.Z)(C,2),D=Z[0],T=Z[1],P=(0,c.useState)([]),L=(0,s.Z)(P,2),I=L[0],R=L[1],H=(0,c.useState)([]),E=(0,s.Z)(H,2),F=(E[0],E[1],(0,c.useState)()),G=(0,s.Z)(F,2),M=G[0],O=(G[1],(0,c.useState)()),q=(0,s.Z)(O,2),B=q[0],z=q[1],V=(0,c.useState)(),J=(0,s.Z)(V,2),W=J[0],A=J[1],U=(0,c.useState)([]),Q=(0,s.Z)(U,2),Y=Q[0],K=Q[1],X=(0,c.useState)("none"),$=(0,s.Z)(X,2),ee=$[0],te=$[1],ae=(0,c.useState)(!1),se=(0,s.Z)(ae,2),ce=se[0],le=se[1],ne=function(e){if(e)return e=e.split("-").reverse().join("-")},oe=function(){var e=(0,f.Z)((0,u.Z)().mark((function e(t,a){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t),z(a),te("none");case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){!function(){if(B){_(!0);try{n.Z.get("".concat(t,"/reports/sales/patient?&from_date=").concat(d||e,"&to_date=").concat(g||d||e,"&patient_id=").concat(B)).then((function(e){var t=Object.keys(e.data.data.sales).map((function(t){return(0,N.Z)({invoice_no:t},e.data.data.sales[t])}));T(t),_(!1)})).catch((function(e){r().Notify.warning(e),_(!1)}))}catch(a){r().Notify.warning(a.message),_(!1)}}}(),function(){if(B){_(!0);try{n.Z.get("".concat(t,"/reports/sales/return/patient?&from_date=").concat(d||e,"&to_date=").concat(g||d||e,"&patient_id=").concat(B)).then((function(e){var t=Object.keys(e.data.data.sales_return).map((function(t){return(0,N.Z)({invoice_no:t},e.data.data.sales_return[t])}));R(t),_(!1)})).catch((function(e){r().Notify.warning(e.message),_(!1)}))}catch(a){r().Notify.warning(a.message),_(!1)}}}()}),[B,d,g]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[M," ","Patient Sales History"," "," "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 text-center mt-2 ms-2",children:[(0,x.jsxs)("div",{className:"col-auto p-0 m-0 text-burntumber text-center fw-bolder bg-seashell position-relative align-self-center rounded-2 ",children:[(0,x.jsx)("input",{type:"text",placeholder:"patient name",className:"button button-seashell selectpatient bg-seashell border-0 position-relative text-center text-charcoal fw-bold",value:W||"",onChange:function(e){le(!0),W&&W.length>=0?te("block"):te("none"),A(e.target.value),n.Z.get("".concat(t,"/patient/list?search=").concat(W,"&limit=5&offset=0")).then((function(e){K(e.data.data.patients_list),le(!1)}))}}),(0,x.jsx)("div",{className:"w-100 d-".concat(ee," position-absolute top-10 mt-2 border shadow-sm"),style:{zIndex:"10"},children:ce?(0,x.jsx)("p",{className:"btn text-charcoal75 fw-bold bg-pearl rounded-2  p-0 m-0 ps-1",children:"Loading... "}):W&&0==Y.length?(0,x.jsx)("p",{className:"text-danger btn bg-lightred p-0 m-0",children:"Patient not found add as new user to book appointements"}):(0,x.jsx)("div",{className:"p-2 bg-pearl",children:Y.map((function(e){return(0,x.jsxs)("div",{style:{cursor:"pointer"},className:"col-12 d-block p-0 m-0 ms-1 border-0 bg-pearl py-1 border-bottom text-charcoal text-start border border-1",onClick:function(t){return oe(e.full_name,e.id)},children:[e.full_name,"  ",e.phone_number]})}))})})]}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:(0,x.jsx)("div",{className:"row align-items-center rounded-2 bg-seashell rounded-2 ms-2",children:(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center bg-seashell",children:[(0,x.jsx)("div",{className:"col-auto text-burntumber text-center fw-bolder bg-seashell  rounded-1 ",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold",value:d||(e||""),onChange:function(e){m(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto text-charcoal text-center fw-bolder bg-seashell rounded-1",children:(0,x.jsx)("input",{type:"date",className:"border-0 button button-seashell text-charcoal text-center fw-bold",value:g||(d||(e||"")),onChange:function(e){j(e.target.value)}})})]})})})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(ne(d)+" to "+ne(g)," Patient Sales History"),sheet:"PatientSalesHistory",currentTableRef:a.current,children:(0,x.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:a,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Date "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Invoice"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Type "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Amount "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Tax "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Total "})]})}),y?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):D&&0!=D.length?(0,x.jsxs)("tbody",{children:[D.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:ne(e.date)}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:e.invoice}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.type," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",Number(e.amount).toFixed(2)]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.tax," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.total," "]})]},t)})),I.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:ne(e.date)}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:e.invoice}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[e.type," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",Number(e.amount).toFixed(2)]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.tax," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",e.total," "]})]},t)}))]}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Patient Sales History "})})})]})})]})},k=function(){(0,c.useContext)(l.Pl);var e=new Date,t=(e.getDate()<10?e.getDate():e.getDate(),e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1),a=e.getFullYear(),o="".concat(a,"-").concat(t),i=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx)),d=(0,c.useRef)(),m=(0,c.useState)(!1),u=(0,s.Z)(m,2),f=u[0],b=u[1],p=(0,c.useState)([]),g=(0,s.Z)(p,2),j=g[0],v=g[1],w=(0,c.useState)(),y=(0,s.Z)(w,2),_=(y[0],y[1],(0,c.useState)()),k=(0,s.Z)(_,2),S=k[0],C=k[1];(0,c.useEffect)((function(){!function(){b(!0);try{n.Z.get("".concat(i,"/reports/summary/wise/data?from_date=").concat(S||"")).then((function(e){var t=Object.keys(e.data.data).map((function(t){return(0,N.Z)({particular:t},e.data.data[t])}));v(t),b(!1)})).catch((function(e){r().Notify.warning(e.message),b(!1)}))}catch(e){r().Notify.warning(e.message),b(!1)}}()}),[S]);var Z=[["Jan","01"],["Feb","02"],["Mar","03"],["Apr","04"],["May","05"],["Jun","06"],["Jul","07"],["Aug","08"],["Sep","09"],["Oct","10"],["Nov","11"],["Dec","12"]];function D(e){var t=(e=e.split(" to "))[0];e[1];t=t.split("-");for(var a=0;a<Z.length;a++)t[1]==Z[a][1]&&(t[1]=Z[a][0]);return t[1]+" "+t[0]}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:["  ",j.length," Tax-Wise Data "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 text-center mt-2 ms-2",children:[(0,x.jsx)("div",{className:"col-auto text-charcoal text-center fw-bolder bg-seashell rounded-2",children:(0,x.jsx)("input",{type:"month",placeholder:"month",className:"form-control rounded-0 border-0 bg-seashell text-charcoal text-center fw-bolder ",value:S||(o||""),onChange:function(e){C(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"TaxWiseData",sheet:"StockReports",currentTableRef:d.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"70vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:d,children:[(0,x.jsxs)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:[(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bolder p-0 m-0 px-1 border-end",children:" Particular "}),(0,x.jsx)("th",{colSpan:"3",scope:"colgroup",className:"text-charcoal75 fw-bolder border-end",children:" 0% "}),(0,x.jsx)("th",{colSpan:"3",scope:"colgroup",className:"text-charcoal75 fw-bolder border-end",children:" 5% "}),(0,x.jsx)("th",{colSpan:"3",scope:"colgroup",className:"text-charcoal75 fw-bolder border-end",children:" 12% "}),(0,x.jsx)("th",{colSpan:"3",scope:"colgroup",className:"text-charcoal75 fw-bolder border-end",children:" 18% "}),(0,x.jsx)("th",{colSpan:"3",scope:"colgroup",className:"text-charcoal75 fw-bolder border-end",children:" 28% "})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Taxable "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Tax "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder border-end",children:" Total "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Taxable "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Tax "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder border-end",children:" Total "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Taxable "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Tax "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder border-end",children:" Total "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Taxable "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Tax "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder border-end",children:" Total "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Taxable "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder",children:" Tax "}),(0,x.jsx)("th",{scope:"col",className:"text-charcoal75 fw-bolder border-end",children:" Total "})]})]}),f?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):j&&0!=j.length?(0,x.jsx)("tbody",{children:j.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," p-3 align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:[D(e.particular)," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["taxable 0%"]?Number(e["taxable 0%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["tax 0%"]?Number(e["tax 0%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:["\u20b9",void 0!==e["taxable 0%"]&&void 0!==e["tax 0%"]?Number(Number(e["taxable 0%"])+Number(e["tax 0%"])).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["taxable 5%"]?Number(e["taxable 5%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["tax 5%"]?Number(e["tax 5%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:["\u20b9",void 0!==e["taxable 5%"]&&void 0!==Number(e["tax 5%"]).toFixed(2)?Number(Number(e["taxable 5%"])+Number(e["tax 5%"])).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["taxable 12%"]?Number(e["taxable 12%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["tax 12%"]?Number(e["tax 12%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:["\u20b9",void 0!==e["taxable 12%"]&&void 0!==Number(e["tax 12%"]).toFixed(2)?Number(Number(e["taxable 12%"])+Number(e["tax 12%"])).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["taxable 18%"]?Number(e["taxable 18%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["tax 18%"]?Number(e["tax 18%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:["\u20b9",void 0!==e["taxable 18%"]&&void 0!==Number(e["tax 18%"]).toFixed(2)?Number(Number(e["taxable 18%"])+Number(e["tax 18%"])).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["taxable 28%"]?Number(e["taxable 28%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold",children:["\u20b9",void 0!==e["tax 28%"]?Number(e["tax 28%"]).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal p-3 fw-bold border-end",children:["\u20b9",void 0!==e["taxable 28%"]&&void 0!==e["tax 28%"]?Number(Number(e["taxable 28%"])+Number(e["tax 28%"])).toFixed(2):""," "]})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Rate Lists "})})})]})})]})},S=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=localStorage.getItem("ClinicId"),a=(localStorage.getItem("id"),(0,c.useContext)(l.Jx)),o=(0,c.useRef)(),i=(0,c.useState)(),m=(0,s.Z)(i,2),u=m[0],f=m[1],b=(0,c.useState)(),p=(0,s.Z)(b,2),N=p[0],g=p[1],j=(0,c.useState)(!1),v=(0,s.Z)(j,2),w=v[0],y=v[1],_=(0,c.useState)(),k=(0,s.Z)(_,2),S=(k[0],k[1],(0,c.useState)([])),C=(0,s.Z)(S,2),Z=C[0],D=C[1],T=(0,c.useState)([]),P=(0,s.Z)(T,2),L=P[0],I=P[1],R=(0,c.useState)(),H=(0,s.Z)(R,2),E=H[0],F=H[1],G=function(e){if(e)return e=e.split("-").reverse().join("-")};function M(s){if(void 0==s||void 0==s.selected){y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=0&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){D(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}else{y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=").concat(25*s.selected,"&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){D(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}}return(0,c.useEffect)((function(){!function(){try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&from_date=").concat(u||e,"&to_date=").concat(N||u||e)).then((function(e){F(e.data.data.total_count),I(Math.round(e.data.data.total_count/25)+1),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(s){r().Notify.warning(s.message),y(!1)}}()}),[u,N]),(0,c.useEffect)((function(){M()}),[E]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",E," ",E>0?"Profit Margins":"Profit Margin"," "," "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 text-center mt-2 ms-2",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,x.jsxs)("div",{className:"row p-0 m-0 fw-bolder align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bg-seashell",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:u||(e||""),onChange:function(e){f(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsx)("div",{className:"col-auto p-0 m-0  text-burntumber text-center fw-bolder bg-seashell",children:(0,x.jsx)("input",{type:"date",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder",value:N||(u||(e||"")),onChange:function(e){g(e.target.value)}})})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(G(u)+" to "+G(N)," Gross Profit Margin"),sheet:"GrossProfitMargin",currentTableRef:o.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:o,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Id "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" MRP "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Purchases "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Tax "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Sales "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Tax "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Gross Profit Margin "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Gross Profit Margin % "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Gross Profit (With Tax) "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Total "})]})}),w?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):Z&&0!=Z.length?(0,x.jsx)("tbody",{children:Z.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Gross Profit Margins "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:L,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:M,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})},C=function(){(0,c.useContext)(l.Pl);var e=new Date,t=(e.getDate()<10?e.getDate():e.getDate(),e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1),a=e.getFullYear(),o="".concat(a,"-").concat(t),i=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,c.useContext)(l.Jx)),d=(0,c.useRef)(),m=(0,c.useState)(!1),u=(0,s.Z)(m,2),f=u[0],b=u[1],p=(0,c.useState)([]),g=(0,s.Z)(p,2),j=g[0],v=g[1],w=(0,c.useState)([]),y=(0,s.Z)(w,2),_=(y[0],y[1],(0,c.useState)()),k=(0,s.Z)(_,2),S=k[0],C=(k[1],(0,c.useState)()),Z=(0,s.Z)(C,2),D=Z[0],T=Z[1];(0,c.useEffect)((function(){!function(){b(!0);try{n.Z.get("".concat(i,"/reports/summary/wise/data?from_date=").concat(D||o)).then((function(e){var t=Object.keys(e.data.data).map((function(t){return(0,N.Z)({particular:t},e.data.data[t])}));v(t),b(!1)})).catch((function(e){r().Notify.warning(e.message),b(!1)}))}catch(e){r().Notify.warning(e.message),b(!1)}}()}),[D]);var P=[["Jan","01"],["Feb","02"],["Mar","03"],["Apr","04"],["May","05"],["Jun","06"],["Jul","07"],["Aug","08"],["Sep","09"],["Oct","10"],["Nov","11"],["Dec","12"]];function L(e){var t=(e=e.split(" to "))[0];e[1];t=t.split("-");for(var a=0;a<P.length;a++)t[1]==P[a][1]&&(t[1]=P[a][0]);return t[1]+" "+t[0]}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",S," ","Summary Data"," "," "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center ms-2",children:[(0,x.jsx)("div",{className:"col-auto text-charcoal text-center fw-bolder bg-seashell rounded-2",children:(0,x.jsx)("input",{type:"month",placeholder:"month",className:"form-control rounded-0 border-0 bg-seashell text-charcoal text-center fw-bolder ",value:D||(o||""),onChange:function(e){T(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:" Summary Data",sheet:"SummaryData",currentTableRef:d.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:d,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Particular"}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Taxable "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Tax "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Total "})]})}),f?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):j&&0!=j.length?(0,x.jsx)("tbody",{children:j.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!==e.particular?L(e.particular):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!==e.taxable?Number(e.taxable).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!==e.tax?Number(e.tax).toFixed(2):""," "]}),(0,x.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!==e.taxable&&void 0!==e.tax?Number(Number(e.taxable)+Number(e.tax)).toFixed(2):""," "]})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Rate Lists "})})})]})})]})},Z=function(){(0,c.useContext)(l.Pl);var e=(0,c.useContext)(l.U8),t=localStorage.getItem("ClinicId"),a=(localStorage.getItem("id"),(0,c.useContext)(l.Jx)),o=(0,c.useRef)(),i=(0,c.useState)(),m=(0,s.Z)(i,2),u=m[0],f=m[1],b=(0,c.useState)(),p=(0,s.Z)(b,2),N=p[0],g=p[1],j=(0,c.useState)(!1),v=(0,s.Z)(j,2),w=v[0],y=v[1],_=(0,c.useState)([]),k=(0,s.Z)(_,2),S=k[0],C=k[1],Z=(0,c.useState)([]),D=(0,s.Z)(Z,2),T=D[0],P=D[1],L=(0,c.useState)(),I=(0,s.Z)(L,2),R=I[0],H=I[1],E=function(e){if(e)return e=e.split("-").reverse().join("-")};function F(s){if(void 0==s||void 0==s.selected){y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=0&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){C(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}else{y(!0);try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&limit=25&offset=").concat(25*s.selected,"&from_date=").concat(u||e,"&to_date=").concat(N||(u||e))).then((function(e){C(e.data.data.sale_entry),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(c){r().Notify.warning(c.message),y(!1)}}}return(0,c.useEffect)((function(){!function(){try{n.Z.get("".concat(a,"/sale/entry?clinic_id=").concat(t,"&from_date=").concat(u||e,"&to_date=").concat(N||u||e)).then((function(e){H(e.data.data.total_count),P(Math.round(e.data.data.total_count/25)+1),y(!1)})).catch((function(e){r().Notify.warning(e),y(!1)}))}catch(s){r().Notify.warning(s.message),y(!1)}}()}),[u,N]),(0,c.useEffect)((function(){F()}),[R]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",R," ",R>0?"Rate Lists":"Rate List"," "," "]}),(0,x.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,x.jsx)("div",{className:"col-auto bg-seashell rounded-2 ",children:(0,x.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:(0,x.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold ",value:u||(e||""),onChange:function(e){f(e.target.value)}})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,x.jsxs)("div",{className:"col-auto p-0 m-0",children:[(0,x.jsx)("input",{type:"date",className:" border-0 button button-seashell text-charcoal text-center fw-bold",value:N||(u||(e||"")),onChange:function(e){g(e.target.value)}}),"                "]})]})}),(0,x.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ",children:(0,x.jsx)(h.DownloadTableExcel,{filename:"".concat(E(u)+" to "+E(N)," StockReports"),sheet:"StockReports",currentTableRef:o.current,children:(0,x.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,x.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,x.jsxs)("table",{className:"table text-start table-responsive",ref:o,children:[(0,x.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,x.jsxs)("tr",{className:" ",children:[(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item ID "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Party "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" GST Rate "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Sales Price "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Purchase Price "}),(0,x.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" MRP "})]})}),w?(0,x.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,x.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,x.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,x.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,x.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):S&&0!=S.length?(0,x.jsx)("tbody",{children:S.map((function(e,t){return(0,x.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:"  "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,x.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,x.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,x.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,x.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Rate Lists "})})})]})}),(0,x.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,x.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:T,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:F,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})},D=(a(751),a(3158),a(5777),a(2867),a(9045),a(9371),a(4594),function(){var e=(0,c.useContext)(l.Pl),t=(0,c.useState)(""),a=(0,s.Z)(t,2),n=a[0],o=a[1],r=(0,c.useState)(""),i=(0,s.Z)(r,2),d=i[0],h=i[1],u=[{option:"Pharmacy",display:e.sale_entry_view?1:0},{option:"Clinic",display:e.sale_return_view?1:0}],f=(0,c.useState)(0),N=(0,s.Z)(f,2),v=N[0],D=N[1],T=(0,c.useState)("Pharmacy"),P=(0,s.Z)(T,2),L=P[0],I=P[1];var R;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("section",{className:"pharmacy_report_section pt-2",children:(0,x.jsx)("div",{className:"container-fluid p-0 m-0 mt-3",children:(0,x.jsxs)("div",{className:"row gx-3 p-0 m-0",children:[(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{class:"dropdown",children:[(0,x.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:L||"Report Type "}),(0,x.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:u.map((function(e,t){return(0,x.jsxs)("li",{className:"dropdown-item text-".concat(t===v?"light":"dark"," fw-bold bg-").concat(t===v?"charcoal":"seashell"),onClick:function(a){D(t),I(e.option)},children:[" ",e.option," "]})}))})]})}),(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsx)("div",{className:"",children:(R=v,0===R?(0,x.jsxs)("div",{class:"dropdown",children:[(0,x.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:d||"Select Report"}),(0,x.jsxs)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:[(0,x.jsxs)("li",{className:"dropdown-item fw-bold text-charcoal",onClick:function(e){o(16),h("Stock Report")},children:["Stock Report",(0,x.jsx)("img",{src:"/images/new_tab.png",className:"img-fluid"})]}),(0,x.jsxs)("li",{className:"dropdown-item fw-bold text-charcoal",onClick:function(e){o(1),h("StockReport By ItemName ")},children:["StockReport By ItemName",(0,x.jsx)("img",{src:"/images/new_tab.png",className:"img-fluid"})]}),(0,x.jsxs)("li",{className:"dropdown-item fw-bold text-charcoal",onClick:function(e){o(2),h("Stock Valuation")},children:["Stock Valuation",(0,x.jsx)("img",{src:"/images/new_tab.png",className:"img-fluid"})]}),(0,x.jsxs)("li",{className:"dropdown-item fw-bold text-charcoal",onClick:function(e){o(3),h("Opening Stocks")},children:["Opening Stocks ",(0,x.jsx)("img",{src:"/images/new_tab.png",className:"img-fluid"})]}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(4),h("Rate List")},children:"Rate List"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(5),h("Summary Wise Data (for All)")},children:"Summary Wise Data (for All)"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(6),h("Tax Rate Wise Data")},children:"Tax Rate Wise Data"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(7),h("Gross Profit Margin")},children:"Gross Profit Margin"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(8),h("Patient Sales History")},children:"Patient Sales History"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(9),h("Schedule Wise Sales")},children:"Schedule Wise Sales"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(10),h("Vendor Details")},children:"Vendor Details"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(11),h("Batch Details")},children:"Batch Details"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(12),h("Stock Value Confirmation")},children:"Stock Value Confirmation"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(13),h("Doctor Wise Sales")},children:"Doctor Wise Sales"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(14),h("Transfer Stocks In")},children:"Transfer Stocks In"}),(0,x.jsx)("li",{className:"dropdown-item fw-bold text-charcoal py-2",onClick:function(e){o(15),h("Transfer Stocks Out")},children:"Transfer Stocks Out"})]})]}):(0,x.jsx)("div",{className:"fs-2",children:"Nothing Selected"}))})})]})})}),(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsx)("section",{className:"tablesrender position-relative p-0 m-0",children:(0,x.jsx)("div",{className:"container-fluid p-0 m-0 ",children:(0,x.jsx)("div",{children:""==n?(0,x.jsx)("div",{className:"container rounded-4 border border-1  mt-5",children:(0,x.jsx)("h1",{className:"row p-0 m-0 align-items-center text-center fw-bold justify-content-center text-charcoal75",style:{height:"50vh"},children:"Select Report to show data"})}):(1==n&&(window.open("/Reports/stock_report_by_name","_blank"),window.location.reload()),2==n&&(window.open("/Reports/stock_valuation","_blank"),window.location.reload()),3==n&&(window.open("/Reports/opening_stock","_blank"),window.location.reload()),4==n?(0,x.jsx)(Z,{}):5==n?(0,x.jsx)(C,{}):6==n?(0,x.jsx)(k,{}):7==n||7==n?(0,x.jsx)(S,{}):8==n?(0,x.jsx)(_,{}):9==n?(0,x.jsx)(y,{}):10==n?(0,x.jsx)(j,{}):11==n?(0,x.jsx)(w,{}):12==n?(0,x.jsx)(p,{}):13==n?(0,x.jsx)(g,{}):14==n?(0,x.jsx)(m,{}):15==n?(0,x.jsx)(b,{}):void(16==n&&(window.open("/Reports/stock_report","_blank"),window.location.reload())))})})})})]})})},3158:function(e,t,a){a.r(t);var s=a(1413),c=a(9439),l=a(9867),n=a(606),o=a(6626),r=a(7992),i=a.n(r),d=a(7548),h=a.n(d),x=a(5517),m=a(2834);t.default=function(){(0,l.useContext)(o.Pl);var e=(0,l.useContext)(o.U8),t=(0,l.useContext)(o.q2),a=(localStorage.getItem("id"),(0,l.useContext)(o.Jx)),r=(0,l.useRef)(),d=(0,l.useState)(),u=(0,c.Z)(d,2),f=u[0],b=u[1],p=(0,l.useState)(),N=(0,c.Z)(p,2),g=N[0],j=N[1],v=(0,l.useState)(),w=(0,c.Z)(v,2),y=w[0],_=w[1],k=(0,l.useState)(!1),S=(0,c.Z)(k,2),C=S[0],Z=S[1],D=(0,l.useState)([]),T=(0,c.Z)(D,2),P=T[0],L=T[1],I=(0,l.useState)([]),R=(0,c.Z)(I,2),H=R[0],E=R[1],F=(0,l.useState)(),G=(0,c.Z)(F,2),M=G[0],O=G[1],q=function(e){if(e)return e=e.split("-").reverse().join("-")};function B(t){if(void 0==t||void 0==t.selected){Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&limit=10&offset=0&from_date=").concat(g||e,"&to_date=").concat(y||(g||e))).then((function(e){var t=[],a=[],c=[],l=Object.keys(e.data.data.medicine).map((function(t){return(0,s.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(l);var n=Object.keys(e.data.data.vaccine).map((function(t){return(0,s.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(n),c.push(t),c.push(a),c=c.flat(),L(c.flat()),Z(!1)})).catch((function(e){i().Notify.warning(e.message),Z(!1)}))}catch(c){i().Notify.warning(c.message),Z(!1)}}else{Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&limit=25&offset=").concat(10*t.selected,"&from_date=").concat(g||e,"&to_date=").concat(y||(g||e))).then((function(e){L(e.data.data.medicine),Z(!1)})).catch((function(e){i().Notify.warning(e.message),Z(!1)}))}catch(c){i().Notify.warning(c.message),Z(!1)}}}(0,l.useEffect)((function(){!function(){Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&from_date=").concat(g||e,"&to_date=").concat(y||g||e)).then((function(e){O(e.data.data.count),E(Math.round(e.data.data.count/10)+1),Z(!1)})).catch((function(e){i().Notify.warning(e.message),Z(!1)}))}catch(t){i().Notify.warning(t.message),Z(!1)}}()}),[f,g,y]),(0,l.useEffect)((function(){B()}),[M]);var z=Object.keys(P).map((function(e){return(0,s.Z)({id:e},P[e])}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-4",style:{width:"fit-content"},children:[" ",M," ",M>1?"Opening Stocks":"Opening Stock"," ","  "]}),(0,m.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,m.jsx)("div",{className:"col-auto p-0 m-0 text-center fw-bolder bg-seashell rounded-2 align-self-center me-2 text-center ",children:(0,m.jsxs)("select",{className:"fw-bold button button-seashell text-burntumber text-center border-0",onChange:function(e){b(e.target.value)},style:{cursor:"pointer"},children:[(0,m.jsx)("option",{value:"Choose Location",children:"Choose Location"}),t.map((function(e){return(0,m.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,m.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,m.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,m.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell ",children:(0,m.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 text-charcoal text-center fw-bolder ",value:g||(e||""),onChange:function(e){j(e.target.value)}})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,m.jsx)("div",{className:"col-auto p-0 m-0  text-charcoal text-center fw-bolder bg-seashell",children:(0,m.jsx)("input",{type:"date",className:"button button-seashell rounded-0 text-charcoal text-center bg-seashell fw-bolder",value:y||(g||(e||"")),onChange:function(e){_(e.target.value)}})})]})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0 export ms-xl-5 ms-lg-0 ",children:(0,m.jsx)(x.DownloadTableExcel,{filename:"".concat(q(g)+" to "+q(y)," StockReports"),sheet:"StockReports",currentTableRef:r.current,children:(0,m.jsx)("button",{className:"button button-seashell  fw-bold",children:" Export"})})})]}),(0,m.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,m.jsxs)("table",{className:"table text-start table-responsive",ref:r,children:[(0,m.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,m.jsxs)("tr",{className:" ",children:[(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item ID "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Stock Type "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Party "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Batch "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Stock Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Rate "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Total "})]})}),C?(0,m.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,m.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,m.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,m.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,m.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):P&&0!=P.length?(0,m.jsx)("tbody",{children:z.map((function(e,t){return(0,m.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.id?e.id:""," "]}),(0,m.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.item_name?e.item_name:""}),(0,m.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.distributor?e.distributor:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.batch?e.batch:""," "]}),(0,m.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.opening_qty?e.opening_qty:""}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.rate?Number(e.rate).toFixed(2):""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",void 0!=e.rate&&void 0!=e.opening_qty?(Number(e.opening_qty)*Number(e.rate)).toFixed(2):""]})]},t)}))}):(0,m.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,m.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,m.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Opening Stocks "})})})]})}),(0,m.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,m.jsx)(h(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:H,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:B,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}},751:function(e,t,a){a.r(t);var s=a(1413),c=a(9439),l=a(9867),n=a(606),o=a(6626),r=a(7992),i=a.n(r),d=a(7548),h=a.n(d),x=a(5517),m=(a(4012),a(9045),a(9371),a(4594),a(2834));t.default=function(){var e=(0,l.useContext)(o.q2),t=((0,l.useContext)(o.Pl),(0,l.useContext)(o.U8)),a=(localStorage.getItem("id"),(0,l.useContext)(o.Jx)),r=(0,l.useRef)(),d=(0,l.useState)(),u=(0,c.Z)(d,2),f=u[0],b=u[1],p=(0,l.useState)(),N=(0,c.Z)(p,2),g=N[0],j=N[1],v=(0,l.useState)(),w=(0,c.Z)(v,2),y=w[0],_=w[1],k=(0,l.useState)(!1),S=(0,c.Z)(k,2),C=S[0],Z=S[1],D=(0,l.useState)([]),T=(0,c.Z)(D,2),P=T[0],L=T[1],I=(0,l.useState)(),R=(0,c.Z)(I,2),H=(R[0],R[1],(0,l.useState)([])),E=(0,c.Z)(H,2),F=E[0],G=E[1],M=(0,l.useState)(),O=(0,c.Z)(M,2),q=(O[0],O[1],(0,l.useState)()),B=(0,c.Z)(q,2),z=B[0],V=B[1],J=function(e){if(e)return e=e.split("-").reverse().join("-")};function W(e){if(void 0==e||void 0==e.selected){Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&limit=10&offset=0&from_date=").concat(g||t,"&to_date=").concat(y||(g||t))).then((function(e){L(e.data.data.medicine),Z(!1)})).catch((function(e){i().Notify.warning(e.message),Z(!1)}))}catch(c){i().Notify.warning(c.message),Z(!1)}}else{Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&limit=10&offset=").concat(10*e.selected,"&from_date=").concat(g||t,"&to_date=").concat(y||(g||t))).then((function(e){var t=[],a=[],c=[],l=Object.keys(e.data.data.medicine).map((function(t){return(0,s.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(l);var n=Object.keys(e.data.data.vaccine).map((function(t){return(0,s.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(n),c.push(t),c.push(a),c=c.flat(),L(c.flat()),Z(!1)})).catch((function(e){i().Notify.warning(e),Z(!1)}))}catch(c){i().Notify.warning(c.message),Z(!1)}}}(0,l.useEffect)((function(){!function(){Z(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(f,"&from_date=").concat(g||t,"&to_date=").concat(y||g||t)).then((function(e){V(e.data.data.count),G(Math.round(e.data.data.count/10)+1),Z(!1)})).catch((function(e){i().Notify.warning(e.message),Z(!1)}))}catch(e){i().Notify.warning(e.message),Z(!1)}}()}),[f,g,y]),(0,l.useEffect)((function(){W()}),[z]);var A=Object.keys(P).map((function(e){return(0,s.Z)({id:e},P[e])}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-4",style:{width:"fit-content"},children:[" ",z," ",z>1?"Stock Reports":"Stock Report"," ","  "]}),(0,m.jsxs)("div",{className:"row p-0 m-0 text-center ms-2 mt-2",children:[(0,m.jsx)("div",{className:"col-auto text-charcoal text-center fw-bolder bg-seashell rounded-2 ",children:(0,m.jsxs)("select",{className:"fw-bold form-control bg-seashell text-burntumber text-center border-0",onChange:function(e){b(e.target.value)},children:[(0,m.jsxs)("option",{value:"Choose Location",children:["Choose Location ",(0,m.jsx)("div",{className:"mt-3 bg-seashell border-0"})," "]}),e.map((function(e){return(0,m.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,m.jsx)("div",{className:"col-auto ms-1 bg-seashell rounded-2",children:(0,m.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,m.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell ",children:(0,m.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:g||(t||""),onChange:function(e){j(e.target.value)}})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,m.jsx)("div",{className:"col-auto p-0 m-0  text-charcoal text-center fw-bolder bgseashell",children:(0,m.jsx)("input",{type:"date",className:" form-control border-0 bg-seashell text-charcoal text-center fw-bolder",value:y||(g||(t||"")),onChange:function(e){_(e.target.value)}})})]})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0 export align-self-center text-center ms-xl-4 ",children:(0,m.jsx)(x.DownloadTableExcel,{filename:"".concat(J(g)+" to "+J(y)," StockReports"),sheet:"StockReports",currentTableRef:r.current,children:(0,m.jsx)("button",{className:"button button-seashell text-start fw-bold",children:" Export"})})})]}),(0,m.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,m.jsxs)("table",{className:"table text-start table-responsive",ref:r,children:[(0,m.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,m.jsxs)("tr",{className:" ",children:[(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item ID "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Opening Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Opening Value "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Purchase Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Purchase Value "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Sale Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Sale Value "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Closing Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Closing Value "})]})}),C?(0,m.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,m.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,m.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,m.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,m.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):P&&0!=P.length?(0,m.jsx)("tbody",{children:A.map((function(e,t){return(0,m.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.id?e.id:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.item_name?e.item_name:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.opening_qty?e.opening_qty:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!=e.opening_value?Number(e.opening_value).toFixed(2):""]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.purchase_qty?e.purchase_qty:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!=e.purchase_value?Number(e.purchase_value).toFixed(2):""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.sale_qty?e.sale_qty:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!=e.sale_value?Number(e.sale_value).toFixed(2):""]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.closing_qty?e.closing_qty:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:["\u20b9",void 0!=e.closing_value?Number(e.closing_value).toFixed(2):""]})]},t)}))}):(0,m.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,m.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,m.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stock Reports "})})})]})}),(0,m.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,m.jsx)(h(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:F,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:W,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}},2867:function(e,t,a){a.r(t);var s=a(4165),c=a(5861),l=a(1413),n=a(9439),o=a(9867),r=a(606),i=a(6626),d=a(7992),h=a.n(d),x=a(7548),m=a.n(x),u=a(5517),f=(a(4012),a(9045),a(9371),a(4594),a(2834));t.default=function(){var e=(0,o.useRef)(null),t=((0,o.useContext)(i.Pl),(0,o.useContext)(i.U8)),a=(localStorage.getItem("ClinicId"),localStorage.getItem("id"),(0,o.useContext)(i.Jx)),d=(0,o.useRef)(),x=(0,o.useState)(),b=(0,n.Z)(x,2),p=b[0],N=b[1],g=(0,o.useState)(),j=(0,n.Z)(g,2),v=j[0],w=j[1],y=(0,o.useState)(!1),_=(0,n.Z)(y,2),k=_[0],S=_[1],C=(0,o.useState)([]),Z=(0,n.Z)(C,2),D=Z[0],T=Z[1],P=(0,o.useState)([]),L=(0,n.Z)(P,2),I=L[0],R=(L[1],(0,o.useState)()),H=(0,n.Z)(R,2),E=H[0],F=(H[1],(0,o.useState)([""])),G=(0,n.Z)(F,2),M=G[0],O=G[1],q=(0,o.useState)(),B=(0,n.Z)(q,2),z=B[0],V=B[1],J=(0,o.useState)(),W=(0,n.Z)(J,2),A=W[0],U=W[1],Q=(0,o.useState)(""),Y=(0,n.Z)(Q,2),K=Y[0],X=Y[1],$=(0,o.useState)(),ee=(0,n.Z)($,2),te=ee[0],ae=ee[1],se=function(e){if(e)return e=e.split("-").reverse().join("-")};function ce(e){if(void 0!==A)if(void 0==e||void 0==e.selected){S(!0);try{r.Z.get("".concat(a,"/reports/stock/report/by/item?item_id=").concat(A||"","&item_type=").concat(K||"","&from=").concat(p||t,"&to=").concat(v||(p||t))).then((function(e){var t=[],a=[],s=[],c=Object.keys(e.data.data.medicine).map((function(t){return(0,l.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(c);var n=Object.keys(e.data.data.vaccine).map((function(t){return(0,l.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(n),s.push(t),s.push(a),s=s.flat(),T(s.flat()),S(!1)})).catch((function(e){h().Notify.warning(e.message),S(!1)}))}catch(s){h().Notify.warning(s.message),S(!1)}}else{S(!0);try{r.Z.get("".concat(a,"/reports/stock/report/by/item?item_id=").concat(A,"&item_type=").concat(K,"&from=").concat(p||t,"&to=").concat(v||(p||t))).then((function(e){var t=[],a=[],s=[],c=Object.keys(e.data.data.medicine).map((function(t){return(0,l.Z)({medicine_id:t},e.data.data.medicine[t])}));t.push(c);var n=Object.keys(e.data.data.vaccine).map((function(t){return(0,l.Z)({vaccine_id:t},e.data.data.vaccine[t])}));a.push(n),s.push(t),s.push(a),s=s.flat(),T(s.flat()),S(!1)})).catch((function(e){h().Notify.warning(e.message),S(!1)}))}catch(s){h().Notify.warning(s.message),S(!1)}}}var le=function(){var t=(0,c.Z)((0,s.Z)().mark((function t(c){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ae(!0),t.prev=1,t.next=4,r.Z.get("".concat(a,"/item/search?search=").concat(c)).then((function(t){var a=[],s=[],l=[];a.push(t.data.data.medicines?t.data.data.medicines:[]),s.push(t.data.data.vaccines?t.data.data.vaccines:[]),l=(l=a.concat(s)).flat(),O(l),ae(!1),c.length>1?e.current.style.display="block":e.current.style.display="none"}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),h().Notify.warning(t.t0.data.message);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){ce()}),[A,p,v]);var ne=Object.keys(D).map((function(e){return(0,l.Z)({id:e},D[e])}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-4",style:{width:"fit-content"},children:[" ",E," ",E>1?" Stock Reports By Name":" Stock Report By Name"," ","  "]}),(0,f.jsxs)("div",{className:"row p-0 m-0  mt-2 ms-2",children:[(0,f.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell me-2 align-items-center rounded-2",children:(0,f.jsxs)("div",{className:"position-relative",children:[(0,f.jsx)("input",{className:"fw-bold button button-seashell text-charcoal border-0 text-center bg-seashell",placeholder:"Search Items",value:z||"",onChange:function(e){le(e.target.value),V(e.target.value),X()}}),(0,f.jsx)("div",{ref:e,className:"position-absolute rounded-4 col-12",style:{zIndex:"2"},children:M?te?(0,f.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,f.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,f.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==M.length?(0,f.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1 text-wrap",children:" Oops! Not Avaliable "}):(0,f.jsxs)("div",{className:"mt-1 rounded-4 bg-pearl shadow px-1 pb-2 d-".concat(M&&M.length>1?"block":"none"),children:[(0,f.jsxs)("p",{className:"p-0 m-0 bg-pearl fw-bold text-charcoal75 text-start rounded-4 ps-2 ",style:{fontSize:"0.8rem"},children:[" ",M.length," Search Results "]}),M.map((function(t,a){return(0,f.jsx)("div",{style:{cursor:"pointer"},className:"p-0 ps-1 text-start text-charcoal text-wrap py-2  bg-".concat(a%2==0?"":"seashell"),name:t.id,onClick:function(a){V(t.display_name?t.display_name:t.name),U(t.id),X(t.vaccines_id?"v":"m"),e.current.style.display="none"},children:t.display_name?t.display_name:t.name})}))]}):(0,f.jsx)(f.Fragment,{})})]})}),(0,f.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,f.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,f.jsx)("div",{className:"col-auto p-0 m-0 text-charcoal text-center fw-bolder bg-seashell ",children:(0,f.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 text-charcoal text-center fw-bolder ",value:p||(t||""),onChange:function(e){N(e.target.value)}})}),(0,f.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,f.jsx)("div",{className:"col-auto p-0 m-0  text-charcoal text-center fw-bolder bg-seashell",children:(0,f.jsx)("input",{type:"date",className:"button button-seashell rounded-0 text-charcoal text-center bg-seashell fw-bolder",value:v||(p||(t||"")),onChange:function(e){w(e.target.value)}})})]})}),(0,f.jsx)("div",{className:"col-auto export align-self-center text-center ",children:(0,f.jsx)(u.DownloadTableExcel,{filename:"".concat(se(p)+" to "+se(v)," StockReports_by_Name"),sheet:"StockReports_by_Name",currentTableRef:d.current,children:(0,f.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,f.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,f.jsxs)("table",{className:"table text-start table-responsive",ref:d,children:[(0,f.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,f.jsxs)("tr",{className:" ",children:[(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Date Opening "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Type "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Invoice No. "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Party Name "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Batch "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"  Price "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:"  Qty In "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Qty Out  "}),(0,f.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Closing "})]})}),k?(0,f.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,f.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,f.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,f.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,f.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):D&&0!=D.length?(0,f.jsx)("tbody",{children:ne.map((function(e,t){return(0,f.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsxs)("td",{className:"text-charcoal fw-bold",children:[K," "]}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,f.jsx)("td",{className:"text-charcoal fw-bold",children:" "})]},t)}))}):(0,f.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,f.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,f.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stock Reports By Name "})})})]})}),(0,f.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,f.jsx)(m(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:I,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:ce,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}},5777:function(e,t,a){a.r(t);var s=a(1413),c=a(9439),l=a(9867),n=a(606),o=a(6626),r=a(7992),i=a.n(r),d=a(7548),h=a.n(d),x=a(5517),m=(a(4012),a(9045),a(9371),a(4594),a(2834));t.default=function(){(0,l.useContext)(o.Pl);var e=(0,l.useContext)(o.U8),t=(0,l.useContext)(o.q2),a=(localStorage.getItem("id"),(0,l.useContext)(o.Jx)),r=(0,l.useRef)(),d=(0,l.useState)(),u=(0,c.Z)(d,2),f=(u[0],u[1],(0,l.useState)()),b=(0,c.Z)(f,2),p=b[0],N=b[1],g=(0,l.useState)(),j=(0,c.Z)(g,2),v=j[0],w=j[1],y=(0,l.useState)(),_=(0,c.Z)(y,2),k=_[0],S=_[1],C=(0,l.useState)(!1),Z=(0,c.Z)(C,2),D=Z[0],T=Z[1],P=(0,l.useState)([]),L=(0,c.Z)(P,2),I=L[0],R=L[1],H=(0,l.useState)(),E=(0,c.Z)(H,2),F=(E[0],E[1],(0,l.useState)([])),G=(0,c.Z)(F,2),M=G[0],O=G[1],q=(0,l.useState)(),B=(0,c.Z)(q,2),z=(B[0],B[1],(0,l.useState)()),V=(0,c.Z)(z,2),J=V[0],W=V[1],A=function(e){if(e)return e=e.split("-").reverse().join("-")};function U(t){if(void 0==t||void 0==t.selected){T(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(p,"&limit=10&offset=0&from_date=").concat(v||e,"&to_date=").concat(k||(v||e))).then((function(e){R(e.data.data.medicine),T(!1)})).catch((function(e){i().Notify.warning(e.message),T(!1)}))}catch(s){i().Notify.warning(s.message),T(!1)}}else{T(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(p,"&limit=25&offset=").concat(10*t.selected,"&from_date=").concat(v||e,"&to_date=").concat(k||(v||e))).then((function(e){R(e.data.data.medicine),T(!1)})).catch((function(e){i().Notify.warning(e),T(!1)}))}catch(s){i().Notify.warning(s.message),T(!1)}}}(0,l.useEffect)((function(){!function(){T(!0);try{n.Z.get("".concat(a,"/reports/stock/report?location_id=").concat(p,"&from_date=").concat(v||e,"&to_date=").concat(k||v||e)).then((function(e){W(e.data.data.count),O(Math.round(e.data.data.count/10)+1),T(!1)})).catch((function(e){i().Notify.warning(e.message),T(!1)}))}catch(t){i().Notify.warning(t.message),T(!1)}}()}),[p,v,k]),(0,l.useEffect)((function(){U()}),[J]);var Q=Object.keys(I).map((function(e){return(0,s.Z)({id:e},I[e])}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder mt-2",style:{width:"fit-content"},children:[" ",J," ",J>1?"Stock Valuations":"Stock Valution"," ","  "]}),(0,m.jsxs)("div",{className:"row p-0 m-0 ms-2 mt-2",children:[(0,m.jsx)("div",{className:"col-auto p-0 m-0 text-burntumber text-center fw-bolder bg-seashell me-2 align-self-center rounded-2 ",children:(0,m.jsxs)("select",{className:"fw-bold button button-seashell text-burntumber border-0 text-center",onChange:function(e){N(e.target.value)},children:[(0,m.jsx)("option",{value:"Choose Location",children:"Choose Location"}),t.map((function(e){return(0,m.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,m.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,m.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,m.jsx)("div",{className:"col-auto p-0 m-0 text-burntumber text-center fw-bolder bg-pearl  rounded-1 ",children:(0,m.jsx)("input",{type:"date",placeholder:"fromdate",className:"form-control border-0 bg-seashell text-charcoal text-center fw-bolder ",value:v||(e||""),onChange:function(e){w(e.target.value)}})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,m.jsx)("div",{className:"col-auto p-0 m-0  text-burntumber text-center fw-bolder bg-pearl rounded-1",children:(0,m.jsx)("input",{type:"date",className:" form-control border-0 bg-seashell text-charcoal text-center fw-bolder",value:k||(v||(e||"")),onChange:function(e){S(e.target.value)}})})]})}),(0,m.jsx)("div",{className:"col-auto p-0 m-0 export ms-xl-4",children:(0,m.jsx)(x.DownloadTableExcel,{filename:"".concat(A(v)+" to "+A(k)," StockValuation"),sheet:"StockValuation",currentTableRef:r.current,children:(0,m.jsx)("button",{className:"button button-seashell fw-bold",children:" Export"})})})]}),(0,m.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"70vh"},children:(0,m.jsxs)("table",{className:"table text-start table-responsive",ref:r,children:[(0,m.jsx)("thead",{className:" p-0 m-0 position-sticky top-0 bg-pearl",children:(0,m.jsxs)("tr",{className:" ",children:[(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item ID "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Item Name "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Stock Type "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Batch "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Stock Qty "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Rate "}),(0,m.jsx)("th",{className:"text-charcoal75 fw-bolder p-0 m-0 px-1",children:" Total "})]})}),D?(0,m.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,m.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,m.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,m.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,m.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):I&&0!=I.length?(0,m.jsx)("tbody",{children:Q.map((function(e,t){return(0,m.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.id?e.id:""," "]}),(0,m.jsx)("td",{className:"text-charcoal fw-bold",children:void 0!=e.item_name?e.item_name:""}),(0,m.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.batch?e.batch:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.closing_qty?e.closing_qty:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.rate?e.rate:""," "]}),(0,m.jsxs)("td",{className:"text-charcoal fw-bold",children:[void 0!=e.rate&&void 0!=e.closing_qty?Number(e.rate)*Number(e.closing_qty):""," "]})]},t)}))}):(0,m.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,m.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,m.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Stock Valuations "})})})]})}),(0,m.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,m.jsx)(h(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:M,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:U,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}},4012:function(e,t,a){a.d(t,{H:function(){return l}});a(9045);var s=a(7992),c=a.n(s),l=function(){return c().Confirm.init({className:"notiflix-confirm",width:"30rem",zindex:4003,position:"top",distance:"0rem",backgroundColor:"#f2f2f2",borderRadius:"20px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Urbanist",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#222023",titleFontSize:"1.5rem",titleMaxLength:34,messageColor:"#222023",messageFontSize:"1.2rem",messageMaxLength:110,buttonsFontSize:"1rem",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#222023",cancelButtonColor:"#222023",cancelButtonBackground:"#ffffff"})}},9045:function(){}}]);
//# sourceMappingURL=513.e3e42660.chunk.js.map