{"version":3,"file":"static/js/609.b568a087.chunk.js","mappings":"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","sources":["components/features/camera.jsx"],"sourcesContent":["import React, {useRef,useCallback, useState,useEffect,useContext} from \"react\";\r\nimport {URL} from '../../index'\r\nimport Notiflix from \"notiflix\";\r\nimport {ReactCrop } from 'react-image-crop'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport '../../css/bootstrap.css'\r\nimport Webcam from 'react-webcam'\r\nimport axios from \"axios\";\r\n\r\n  \r\n  const Camera = (props) => {\r\n    const url = useContext(URL);\r\n    const [imagestate,setimagestate]=useState('')\r\n    const[ImageData,setImageData]=useState()\r\n    const webcamRef = useRef(null);\r\n    const imgRef = useRef(null);\r\n    const[imgroll,setimgroll]=useState('none')\r\n    const [editor,seteditor] =useState('none')\r\n    const [imagearr,setimagearr] = useState([])\r\n    const [editindex, seteditindex] = useState(0)\r\n    const [image,setimage]=useState()\r\n    const [flip,setflip] =useState('user')\r\n    const [load,setload]=useState(false)\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    const videoConstraints = {\r\n      width:width,\r\n      height: height,\r\n      facingMode: flip\r\n    };\r\n    const capture = useCallback(  \r\n      () => {\r\n        const imageSrc = webcamRef.current.getScreenshot();\r\n        if(imagearr.length>0){\r\n            setimagearr(imageSrc)\r\n            Notiflix.Notify.info('Photo Captured')\r\n            toggleGallery()\r\n        }else{\r\n            setimagearr((prevState)=>[...prevState,imageSrc])\r\n            Notiflix.Notify.info('Photo Captured')\r\n            toggleGallery()\r\n        }\r\n      },\r\n      [webcamRef]\r\n    );\r\n    \r\n    const toggleGallery = ()=>{\r\n        if(imgroll=='block'){\r\n            setimgroll('none')\r\n          \r\n        }\r\n        if(imgroll == 'none'){\r\n    \r\n            setimgroll('block')\r\n        }\r\n    }\r\n    \r\n    const toggleedit=()=>{\r\n    if(editor=='none'){\r\n      seteditor('')\r\n    }\r\n    if(editor==''){\r\n      seteditor('none')\r\n    }\r\n    }\r\n    const [src, setSrc] = useState(null);\r\n    // const[croppedimg,setcroppedimg]=useState()\r\n    const [crop, setCrop] = useState({   unit: '%',\r\n    x: 25,\r\n    y: 25,\r\n    width: 100,\r\n    height:100 });\r\n    const [completedCrop, setCompletedCrop] = useState(null);\r\n    const imageRef = useRef(null);\r\n    \r\n    const onSelectFile = (e) => {\r\n      setSrc(imagearr[editindex])\r\n    };\r\n    const createImageRef = (src) => {\r\n      const img = new Image();\r\n      img.src = src;\r\n      img.onload = () => {\r\n        imageRef.current = img;\r\n      };\r\n    };\r\n    useEffect(() => {\r\n      if (src) {\r\n        createImageRef(src);\r\n      }\r\n    }, [src]);\r\n    const getCroppedImgAsJPEG = (image, crop) => {\r\n      const canvas = document.createElement('canvas');\r\n      const scaleX = image.naturalWidth / image.width;\r\n      const scaleY = image.naturalHeight / image.height;\r\n      canvas.width = crop.width;\r\n      canvas.height = crop.height;\r\n      const ctx = canvas.getContext('2d');\r\n    \r\n      ctx.drawImage(\r\n        image,\r\n        crop.x * scaleX,\r\n        crop.y * scaleY,\r\n        crop.width * scaleX,\r\n        crop.height * scaleY,\r\n        0,\r\n        0,\r\n        crop.width,\r\n        crop.height\r\n      );\r\n      const jpegImageDataUri = canvas.toDataURL('image/jpeg');\r\n      return jpegImageDataUri;\r\n    };\r\n\r\n    const makeClientCrop = async (crop) => {\r\n      if ( imageRef.current && crop.width && crop.height) {\r\n        toggleedit()\r\n        setCompletedCrop()\r\n        const croppedImage = await getCroppedImgAsJPEG(imageRef.current,crop)\r\n        setimage(croppedImage)\r\n        setimagestate('block')\r\n      }\r\n    }\r\n\r\n    const appointmentId=localStorage.getItem('appointmentid');\r\n\r\n\r\n  function Close_window() {\r\n    window.close()\r\n  }\r\n  \r\n\r\n  function dataURItoFile(dataURI) {\r\n    const splitDataURI = dataURI.split(',');\r\n    const mime = splitDataURI[0].match(/:(.*?);/)[1];\r\n    const byteString = atob(splitDataURI[1]);\r\n    const arrayBuffer = new ArrayBuffer(byteString.length);\r\n    const uint8Array = new Uint8Array(arrayBuffer);\r\n  \r\n    for (let i = 0; i < byteString.length; i++) {\r\n      uint8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n  \r\n    const blob = new Blob([uint8Array], { type: mime });\r\n    const file = new File([blob], 'like.jpeg', { type: mime });\r\n    return file;\r\n  }\r\n  const handleFileUpload = async () => {\r\n    const file =  dataURItoFile(image);\r\n    const formData = new FormData();\r\n    formData.append('image', file,'prescription.jpeg');\r\n    formData.append('appointment_id', appointmentId);\r\n    setload(true)\r\n    axios.post(`${url}/save/document`, formData, {headers: { 'Content-Type': 'multipart/form-data', }})\r\n      .then((response) => {\r\n        console.log('File uploaded successfully:', response.data);\r\n        if(response.data.status==true){\r\n          Notiflix.Notify.success('Prescription Uploaded Successfully')\r\n          setTimeout(Close_window, 2000);\r\n          setload(false)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        // Handle errors\r\n        console.error('Error uploading file:', error);\r\n        setload(false)\r\n      });\r\n  }\r\n  console.log(editor)\r\n    return (\r\n      <>\r\n\r\n          <div className={`p-0 m-0 position-absolute top-0 start-0 ebd-0 mx-auto`} style={{zIndex:'10'}} >\r\n              <div className={`d-${editor ==''?'none':'block'} col-12 p-0 m-0`}>\r\n              <Webcam audio={false} ref={webcamRef} screenshotFormat=\"image/jpeg\" mirrored={false} videoConstraints={videoConstraints} />\r\n              </div>\r\n              <div className={`col-12 bg-charcoal d-${imagestate =='block'?'none':'block'}`}>\r\n                <div className=\"row p-0 m-0 justify-content-between align-items-center position-relative\">\r\n                  <div className=\"col-3\">\r\n                  <button className=\"border-0 justify-content-start cameraroll button button-pearl p-0 m-0 \"onClick={()=>{toggleGallery()}}>\r\n            {\r\n                imgroll=='none'?(   \r\n                    <img src={process.env.PUBLIC_URL+'/images/gallery.png'} className=\"img-fluid bg-charcoal75 px-2 py-1 rounded-top mb-1\" style={{width:'2rem'}}/>\r\n                ):(\r\n                    <img src={process.env.PUBLIC_URL+'/images/bottom.png'} className=\"img-fluid bg-seashell px-2 py-1 rounded-top mb-1\"/>\r\n                )\r\n            }\r\n          </button>\r\n            <div className={`container position-absolute cameraroll scroll bg-charcoal25 ms-2 d-${imgroll}`}style={{flexDirection:'horizontal',minHeight:'fit-content',zIndex:'10',top:'-10rem'}}> \r\n            {\r\n                imagearr? imagearr.map((data,i)=>(\r\n                    <img src={data} className=\"img-fluid\" onClick={()=>{toggleedit();seteditindex(i);onSelectFile()}} style={{width:'5rem'}}/>\r\n\r\n                )):''\r\n            }\r\n            </div>\r\n            </div>\r\n                  <div className=\"col-6 align-items-center d-flex justify-content-center\">\r\n                  <img className=\"img-fluid bg-lightyellow rounded-2\" onClick={()=>{capture()}} style={{width:'4rem'}} src={process.env.PUBLIC_URL + '/images/camera_click.png'}/>\r\n                  </div>\r\n                  <div className=\"col-3 d-flex justify-content-center\">\r\n                  <button className=\"button button-pearl border-0 cameraroll p-0 m-0\" onClick={()=>{flip=='user'?setflip('environment'):setflip('user')}}><img src={process.env.PUBLIC_URL+'/images/flip.png'} className=\"img-fluid bg-charcoal75 px-2 py-1 rounded-top mb-1\" style={{width:'1.8rem'}}/></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n      {/* cropper */}\r\n      {\r\n        webcamRef.current ? (\r\n          <div className={`d-${editor} position-absolute p-0 m-0 top-0 bg-pearl shadow-sm`} style={{zIndex:'15',height:height,width:width}}>\r\n          <button className=\"position-absolute end-0 bg-seashell50 p-2 mt-3 btn-close\" style={{zIndex:'18'}} onClick={()=>{toggleedit()}}></button>\r\n        <div className=\"p-0 m-0 position-absolute start-0 end-0 mx-auto\">\r\n          <ReactCrop crop={crop} onChange={(c) => setCrop(c)} onComplete={(c) => setCompletedCrop(c)} >\r\n            <img src={src} className=\"img-fluid\" style={{width:`${webcamRef.current.video.videoWidth}px`,height:`${webcamRef.current.video.videoHeight}px`}}/>\r\n          </ReactCrop>\r\n      </div>    \r\n      {/* height:`${webcamRef.current.video.videoHeight}px`, */}\r\n      </div>\r\n        ):(\r\n          <></>\r\n        )\r\n      }\r\n\r\n      {/* cropper */}\r\n  </div>\r\n        {completedCrop && (\r\n        <div className=\"position-absolute top-0 mt-4 ms-2\" style={{zIndex:'15'}}>\r\n          <button className=\"button button-charcoal text-light border border-light\" onClick={() => makeClientCrop(completedCrop)}>Save</button>\r\n        </div>\r\n      )}\r\n      {\r\n      image ?(\r\n        <div className={`position-absolute top-0 start-0 mx-auto end-0 bg-charcoal d-${imagestate}`} style={{height:height,width:width,zIndex:'20'}} >\r\n          <button className=\"btn-close position-absolute bg-seashell50 mt-3 me-3 p-2 top-0 end-0\"onClick={()=>{setimagestate('none')}}></button>\r\n          <div className=\"position-relative d-flex mt-5 justify-content-center\">\r\n          <img src={image} className=\"img-fluid\" style={{width:crop.width,height:crop.height}}/>  \r\n          </div>\r\n          {\r\n            load ?(\r\n              <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n              <div class=\"spinner-border\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n            ):(\r\n              <button className=\" mx-auto d-flex justify-content-center button button-pearl\" onClick={(e)=>{handleFileUpload(e)}}>Save Prescription</button>\r\n            )\r\n          }\r\n\r\n          {/* <input type='file' onChange={handleChange}/> */}\r\n        </div>\r\n      ):(<></>)\r\n      } \r\n      </>\r\n    );\r\n  }\r\n  export default Camera"],"names":["props","url","useContext","URL","_useState","useState","_useState2","_slicedToArray","imagestate","setimagestate","_useState3","_useState4","webcamRef","useRef","_useState5","_useState6","imgroll","setimgroll","_useState7","_useState8","editor","seteditor","_useState9","_useState10","imagearr","setimagearr","_useState11","_useState12","editindex","seteditindex","_useState13","_useState14","image","setimage","_useState15","_useState16","flip","setflip","_useState17","_useState18","load","setload","width","window","innerWidth","height","innerHeight","videoConstraints","facingMode","capture","useCallback","imageSrc","current","getScreenshot","length","Notiflix","toggleGallery","prevState","concat","_toConsumableArray","toggleedit","_useState19","_useState20","src","setSrc","_useState21","unit","x","y","_useState22","crop","setCrop","_useState23","_useState24","completedCrop","setCompletedCrop","imageRef","useEffect","img","Image","onload","createImageRef","getCroppedImgAsJPEG","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","toDataURL","makeClientCrop","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","croppedImage","wrap","_context","prev","next","sent","stop","_x","apply","arguments","appointmentId","localStorage","getItem","Close_window","close","dataURItoFile","dataURI","splitDataURI","split","mime","match","byteString","atob","arrayBuffer","ArrayBuffer","uint8Array","Uint8Array","i","charCodeAt","blob","Blob","type","File","handleFileUpload","_ref2","_callee2","file","formData","_context2","FormData","append","axios","headers","then","response","console","log","data","status","setTimeout","catch","error","_jsxs","_Fragment","children","className","style","zIndex","_jsx","Webcam","audio","ref","screenshotFormat","mirrored","onClick","flexDirection","minHeight","top","map","ReactCrop","onChange","c","onComplete","video","videoWidth","videoHeight","class","role","e"],"sourceRoot":""}