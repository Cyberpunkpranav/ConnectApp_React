(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[920],{3225:function(e,t,n){"use strict";n.r(t),n.d(t,{DOCTORID:function(){return Z},DOCTORNAME:function(){return _},default:function(){return D}});var a=n(9439),s=n(9867),o=n(4165),i=n(5861),r=n(606),l=n(8238),c=n(811),d=n(7992),m=n.n(d),u=n(4012),p=n(6964),h=(n(6479),n(2834)),x=function(e){(0,s.useRef)(null);var t=localStorage.getItem("ClinicId"),n=localStorage.getItem("id"),l=(0,s.useContext)(c.Jx),d=(0,s.useContext)(c.BV),p=(0,s.useContext)(c.j8),x=(0,s.useContext)(c.zS),f=(0,s.useState)([]),g=(0,a.Z)(f,2),b=g[0],v=g[1],N=(0,s.useState)(),j=(0,a.Z)(N,2),y=j[0],w=j[1],k=(0,s.useState)(t),S=(0,a.Z)(k,2),C=S[0],_=(S[1],(0,s.useState)()),Z=(0,a.Z)(_,2),D=Z[0],A=Z[1],L=(0,s.useState)(),I=(0,a.Z)(L,2),P=I[0],z=I[1],T=(0,s.useState)(),F=(0,a.Z)(T,2),E=(F[0],F[1],(0,s.useState)()),M=(0,a.Z)(E,2),B=M[0],W=M[1],H=(0,s.useState)(),G=(0,a.Z)(H,2),R=G[0],V=G[1],U=(0,s.useState)(),O=(0,a.Z)(U,2),q=O[0],X=O[1];function J(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,s.useEffect)((function(){r.Z.get("".concat(l,"/clinic/list")).then((function(e){v(e.data.data)}))}),[]);var Q=(0,s.useRef)(),Y=(0,s.useRef)(),$=(0,s.useState)(!1),K=(0,a.Z)($,2),ee=K[0],te=K[1];function ne(){return ae.apply(this,arguments)}function ae(){return(ae=(0,i.Z)((0,o.Z)().mark((function t(){var n,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(w(e.appointmentdoctorid),Q.current.value="",Y.current.value=e.appointmentdoctorid,n=[],V([]),a=0;a<d.length;a++)d[a].id===Number(e.appointmentdoctorid)&&n.push(d[a].month_timeslots);V(n),te(!0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(){return(se=(0,i.Z)((0,o.Z)().mark((function t(){var n,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(X(),n=[],a=0;a<R[0].length;a++)R[0][a].date===e.appointmentdate&&n.push([R[0][a].id,R[0][a].time_from,R[0][a].booking_status]);X(n),te(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,s.useEffect)((function(){ne(),Q.current.value=e.appointmentdate}),[1]),(0,s.useEffect)((function(){!function(){se.apply(this,arguments)}()}),[ee]);function oe(){return(oe=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(w(t.target.value),Q.current.value="",n=[],V([]),a=0;a<d.length;a++)d[a].id===Number(t.target.value)&&n.push(d[a].month_timeslots);V(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(X([]),n=[],a=0;a<R[0].length;a++)R[0][a].date===t.target.value&&n.push([R[0][a].id,R[0][a].time_from,R[0][a].booking_status]);X(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(t){if(e.appointmentid&&y&&C&&D&&n&&null!=e.patientid&&0!=e.patientid)try{console.log(e.appointmentid,Number(y),Number(C),Number(D),Number(n),Number(e.patientid)),W(!0),r.Z.post("".concat(l,"/update/appointment"),{appointment_id:e.appointmentid,doctor_id:y,clinic_id:C,timeslot_id:D,patient_id:e.patientid,admin_id:n}).then((function(t){t?(e.appointmentdoctorid||e.fetchallAppointmentslist(),e.fetchapi(),m().Notify.success(t.data.message),W(!1)):(m().Notify.alert("Failed to Update"),W(!1))}))}catch(t){m().Notify.alert(t.message),W(!1)}else m().Notify.warning("Please Fill all Detais"),W(!1)}var le=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"charcoal"},ce=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"(Aval today) "};return(0,h.jsxs)("div",{className:"p-0 m-0 text-start",children:[(0,h.jsxs)("h5",{className:"text-center p-2",children:["Update ",e.patientname," Appointment Details"]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute p-2 mt-1",disabled:1==B,"aria-label":"Close",onClick:e.closeappointmentform}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsxs)("div",{className:"col-12 ps-1",children:[(0,h.jsx)("div",{className:"col-12 clinics bg-seashell border-0 p-2",children:b.map((function(e,n){return(0,h.jsx)("div",{className:"d-".concat(t==e.id?"block":"none"," align-items-end text-charcoal "),children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-end",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 me-1",children:(0,h.jsx)("img",{className:"",src:"/images/location.png",style:{width:"1.3rem"}})}),(0,h.jsxs)("div",{className:"col-auto p-0 m-0 fw-bold",style:{letterSpacing:"1px"},children:[e.title," ",e.address]})]})},n)}))}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 pe-2",children:[(0,h.jsxs)("div",{className:"col-md-4 col-sm-4 col-4",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Doctor"}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("select",{className:"col-10 form-control selectdoctor border-charcoal rounded-1 bg-seashell",ref:Y,onChange:function(e){return oe.apply(this,arguments)},children:[(0,h.jsx)("option",{defaultValue:"Select Doctor bg-seashell",children:"Select Doctor"}),x?p.map((function(t,n){return(0,h.jsxs)("option",{className:" text-".concat(le(t[0])?"pearl":le(t[0])," bg-").concat(le(t[0])?le(t[0]):"seashell"),name:le(t[0])?"Currently Avaliable":"",selected:t[0]===e.appointmentdoctorid,value:t[0],children:["Dr. ",t[1]," ",ce(t[0])]})})):(0,h.jsx)("div",{children:"Loading"})]})})]}),(0,h.jsxs)("div",{className:"col-md-auto col-auto m-0 p-0",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Date"}),(0,h.jsx)("div",{className:" border-0 col-12 bg-seashell ",children:(0,h.jsx)("input",{type:"date",ref:Q,className:"form-control bg-seashell rounded-1 border-charcoal",onChange:function(e){return ie.apply(this,arguments)}})})]}),(0,h.jsxs)("div",{className:"col-md-3 col-sm-3 col-lg-3 col-3",children:[(0,h.jsx)("label",{className:"text-charcoal50 fw-bold",children:"Selected Time"}),(0,h.jsx)("div",{className:"col-12 p-0 m-0 selectedtime",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline rounded-1 fw-bold shadow-none",style:{letterSpacing:"1px"},children:e.appointmenttime})})]})]}),(0,h.jsx)("p",{className:"m-0 mt-2 fw-bold ps-2 pt-2",style:{letterSpacing:"1px"},children:"Select another Time Slot"}),(0,h.jsx)("div",{className:"scroll align-items-center justify-content-around col-12 ps-2",children:q&&0!==q.length?(0,h.jsxs)(h.Fragment,{children:[q.map((function(e,t){return 0==e[2]?(0,h.jsx)("button",{className:"button-sm button-".concat(P==t?"charcoal":"charcoal-outline"," px-3 py-2 rounded-1 fw-bold m-1"),style:{letterSpacing:"1px"},id:t,value:e[0],onClick:function(e){!function(e){e.preventDefault(),A(e.target.value)}(e),z(t)},children:J(e[1])}):(0,h.jsx)("button",{disabled:!0,className:"button-sm button-charcoal50-outline rounded-1 px-3 py-2 m-1 fw-bold",style:{letterSpacing:"1px"},id:t,value:e[0],children:J(e[1])})})),(0,h.jsxs)("button",{className:"btn btn-sm done m-1 d-none",children:[(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",className:"mb-1 me-1",style:{width:"1.2rem"}})," Time Slot"]})]}):(0,h.jsx)("div",{className:"p-2 rounded fw-bold text-burntumber bg-lightred",children:"No Time Slots Available"})}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"row m-0 p-0",children:B?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{className:"btn button-charcoal",onClick:function(t){t.preventDefault(),(0,u.H)(),m().Confirm.show("Update Appointment Details","Do you surely want to update ".concat(e.patientname," Appointment Details"),"Yes","No",(function(){re()}),(function(){return 0}),{})},children:"Done"})}),(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{className:"btn btn-light border ",onClick:ne,children:"Set Previous"})})]})})]})]})},f=(n(9371),function(e){var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(_),l=(0,s.useContext)(Z),d=((0,s.useContext)(c.zS),(0,s.useContext)(c.j8),(0,s.useContext)(c.q2)),u=(0,s.useContext)(c.U8),p=localStorage.getItem("id"),x=localStorage.getItem("ClinicId"),f=(0,s.useState)(),g=(0,a.Z)(f,2),b=g[0],v=g[1],N=(0,s.useState)([]),j=(0,a.Z)(N,2),y=j[0],w=j[1],k=(0,s.useState)("none"),S=(0,a.Z)(k,2),C=S[0],D=S[1],A=(0,s.useState)(),L=(0,a.Z)(A,2),I=L[0],P=L[1],z=(0,s.useState)(x),T=(0,a.Z)(z,2),F=T[0],E=(T[1],(0,s.useState)()),M=(0,a.Z)(E,2),B=(M[0],M[1],(0,s.useState)(!1)),W=(0,a.Z)(B,2),H=W[0],G=W[1],R=(0,s.useState)(),V=(0,a.Z)(R,2),U=V[0],O=V[1];function q(){return(q=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),v(n.target.value),e.next=4,r.Z.get("".concat(t,"/patient/list?search=").concat(b,"&limit=5&offset=0")).then((function(e){w(e.data.data.patients_list),G(!1)}));case 4:b&&b.length>1?D("block"):D("none");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(n,l),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h5",{className:"text-center m-0 p-0 mt-2",children:["Quick Appointment  at ",(0,h.jsx)("span",{className:" text-charcoal fw-bold border-0 fs-6",children:function(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(e.selectedtime)})]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==U,"aria-label":"Close",onClick:function(t){e.closeAddAppointmentform()}}),(0,h.jsx)("hr",{className:"p-0 m-0 mb-1"}),(0,h.jsx)("div",{className:" text-start ms-3 clinics align-self-center mb-2 ",children:d.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(x==e.id?"block":"none"),children:[(0,h.jsx)("img",{src:"/images/location.png",className:" align-self-center ",style:{width:"1.3rem"}})," ",e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("input",{type:"text",placeholder:"Search Patient using Number or Name",className:"form-control bg-pearl border-0",value:b||"",onChange:function(e){!function(e){q.apply(this,arguments)}(e)}}),(0,h.jsx)("div",{className:"col-6 position-absolute d-".concat(C," rounded-1 "),style:{zIndex:3},children:H?(0,h.jsx)("option",{className:"btn col-12 text-charcoal75 bg-pearl p-0 m-0 ps-1 mt-1",children:"Loading... "}):void 0!==y&&0==y.length?(0,h.jsx)("option",{className:"text-burntumber col-12 p-0 m-0 bg-pearl shadow rounded mt-1 p-2",children:"Patient not found"}):(0,h.jsx)("div",{className:"mt-1 searchresult bg-seashell shadow rounded-1 bg-pearl border border-1 col-12  ",children:y.map((function(e,t){return(0,h.jsxs)("button",{style:{cursor:"pointer"},className:"col-12 bg-".concat(t%2==0?"seashell":"pearl"," btn d-block p-2 fw-bold text-charcoal text-start border-bottom align-self-center"),name:e.id,value:e.full_name,onClick:function(){!function(e){v(e.full_name),P(e.id),D("none")}(e)},children:[e.full_name," ",e.phone_number]})}))})})]}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsxs)("div",{className:"d-flex p-0 m-0 text-start justify-content-around",children:[(0,h.jsxs)("div",{className:"button button-charcoal50-outline align-self-center ",children:[" Dr.",n]}),(0,h.jsx)("div",{className:"button button-charcoal50-outline ms-3",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(u)})]})})]}),U?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("div",{className:"col-6 donebutton py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){O(!0),I&&l&&F&&e.selectedtimeID[0]&&p?r.Z.post("".concat(t,"/add/appointment"),{patient_id:I,doctor_id:l,clinic_id:F,timeslot_id:e.selectedtimeID[0],admin_id:p}).then((function(t){m().Notify.success(t.data.message),O(!1),e.closeAddAppointmentform(),e.fetchapi()})):(m().Notify.warning("Please Fill all Detais"),O(!1))},children:" Done "})})]})}),g=function(e){var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(c.U8),l=(0,s.useContext)(_),d=(0,s.useContext)(Z),p=((0,s.useContext)(c.j8),(0,s.useContext)(c.q2)),x=localStorage.getItem("id"),f=localStorage.getItem("ClinicId"),g=(0,s.useState)(),b=(0,a.Z)(g,2),v=(b[0],b[1],(0,s.useState)()),N=(0,a.Z)(v,2),j=(N[0],N[1],(0,s.useState)()),y=(0,a.Z)(j,2),w=y[0],k=y[1],S=(0,s.useState)(),C=(0,a.Z)(S,2),D=C[0],A=C[1],L=(0,s.useState)(f),I=(0,a.Z)(L,2),P=I[0];I[1];function z(){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)((0,o.Z)().mark((function a(){return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(d&&n&&w&&D&&P&&x)){a.next=6;break}return m().Loading.pulse({backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E"}),a.next=4,r.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:d,date:n,time_from:w,time_to:D,clinic_id:P,admin_id:x}).then((function(t){m().Loading.remove(),e.CloseAddQuickSlots(),e.fetchapi(),m().Notify.success(t.data.message)}));case 4:a.next=7;break;case 6:m().Notify.warning("Please Fill all Detais");case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:"container position-relative",children:[(0,h.jsx)("h5",{className:"text-center pt-1",children:"Quick Add TimeSlots"}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute","aria-label":"Close",onClick:e.CloseAddQuickSlots}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsx)("div",{className:"col-12 text-center clinics",children:p.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(f==e.id?"block":"none"),children:[(0,h.jsx)("img",{src:"/images/location.png",style:{width:"1.5rem"}}),e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row mt-2 justify-content-center gx-2",children:[(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline",children:l})}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("div",{type:"date",disabled:!0,className:"form-control col-10 button button-charcoal50-outline",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(n)})})]}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 justify-content-center",children:[(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:w||"",onChange:function(e){k(e.target.value)}})}),(0,h.jsx)("div",{className:"col-auto",children:"-"}),(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:D||"",onChange:function(e){A(e.target.value)}})})]}),(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,u.H)(),m().Confirm.show("Update Doctor Slot","Do you surely want to add more Time Slots of Dr. ".concat(l),"Yes","No",(function(){z()}),(function(){return 0}),{})},children:" Done "})})]})},b=function(e){var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(c.JC),l=(0,s.useState)(),d=(0,a.Z)(l,2),u=d[0],p=d[1],x=(0,s.useState)(),f=(0,a.Z)(x,2),g=f[0],b=f[1],v=(0,s.useState)(),N=(0,a.Z)(v,2),j=N[0],y=N[1],w=(0,s.useState)(),k=(0,a.Z)(w,2),S=k[0],C=k[1],_=(0,s.useState)(0),Z=(0,a.Z)(_,2),D=Z[0],A=Z[1],L=(0,s.useState)("none"),I=(0,a.Z)(L,2),P=I[0],z=I[1],T=(0,s.useState)("block"),F=(0,a.Z)(T,2),E=F[0],M=F[1];function B(e){var t;for(var a in n)n[a].id==e&&(t=n[a].unit);return t}function W(){return(W=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y(!0),n.prev=1,!(u&&g&&e.appointmentid&&e.patientid)){n.next=7;break}return n.next=5,r.Z.post("".concat(t,"/save/vitals"),{vitals_id:u,value:g,appointment_id:e.appointmentid,patient_id:e.patientid}).then((function(t){e.GetAppointmentVitals(e.appointmentid),m().Notify.success(t.data.message),b(),p(),R(),y(!1)}));case 5:n.next=9;break;case 7:m().Notify.warning("Please Fill all Details"),y(!1);case 9:n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),m().Notify.alert(n.t0.message),y(!1);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}function H(){return H=(0,i.Z)((0,o.Z)().mark((function n(a,s){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(a&&S&&s&&e.appointmentid&&e.patientid)){n.next=6;break}return n.next=4,r.Z.post("".concat(t,"/save/vitals"),{vitals_id:a,value:S,appointment_id:e.appointmentid,patient_id:e.patientid,old_id:s}).then((function(t){e.GetAppointmentVitals(e.appointmentid),R(),m().Notify.success(t.data.message)}));case 4:n.next=7;break;case 6:m().Notify.warning("Please Fill all Details");case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),m().Notify.alert(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),H.apply(this,arguments)}function G(){return G=(0,i.Z)((0,o.Z)().mark((function n(a){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=5;break}return n.next=3,r.Z.post("".concat(t,"/remove/vitals"),{id:a}).then((function(t){200==t.status?m().Notify.success(t.data.message):m().Notify.alert("Something Went Wrong"),e.GetAppointmentVitals(e.appointmentid)}));case 3:n.next=6;break;case 5:m().Notify.alert("Delete Failed Please Try again");case 6:case"end":return n.stop()}}),n)}))),G.apply(this,arguments)}function R(){"none"==E&&(M("block"),z("none"),A())}return(0,h.jsxs)("div",{className:"bg-seashell rounded-1 position-relative pb-4",children:[(0,h.jsxs)("h5",{className:"p-1 text-center",children:[e.patientname," Vitals"]}),(0,h.jsx)("button",{className:" btn-close position-absolute top-0 end-0 m-1 me-2",disabled:!!e.loadvitals,onClick:e.CloseVitals}),(0,h.jsx)("button",{className:"btn p-0 m-0 position-absolute top-0 start-0 ms-2 m-1",onClick:function(){e.GetAppointmentVitals(e.appointmentid),R()},children:(0,h.jsx)("img",{src:"/images/refresh.png",style:{width:"1.5rem"}})}),e.loadvitals?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):0==e.appointmentvitalslist.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"bg-lightred p-2 mb-2 text-center align-items-center ",children:(0,h.jsx)("h6",{className:"text-center text-charcoal-75 fw-bold mb-0",children:"No Vitals Added"})})}):e.appointmentvitalslist.map((function(e,t){return(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsx)("select",{className:"form-control text-center border border-1 p-0 border-0 bg-seashell",value:e.id?e.id:"",children:(0,h.jsx)("option",{value:e.id,children:e.vital.title})})}),(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==D?E:"block"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",disabled:!0,value:e.value})}),t==D?(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==D?P:"none"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",onChange:function(e){return C(e.target.value)}})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-1 p-0 m-0 align-self-end",children:e.vital.id?(0,h.jsx)("p",{className:"p-0 m-0  text-charcoal text-center align-self-center",children:B(e.vital.id)}):(0,h.jsx)("p",{className:"text-charcoal text-center align-self-center",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2 d-".concat(t==D?E:"block"),children:(0,h.jsx)("button",{className:"button py-0 button-lightbrown",value:e.id,onClick:function(){"none"==P&&(z("block"),M("none"),C()),A(t)},children:"Edit"})}),t==D?(0,h.jsx)("div",{className:"col-2 d-".concat(t==D?P:"none"),children:(0,h.jsx)("button",{className:"button py-0 button-lightgreen",onClick:function(){!function(e,t){H.apply(this,arguments)}(e.vital.id,e.id)},children:"Save"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-auto me-5",children:(0,h.jsx)("button",{className:"btn p-0 m-0",children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.3rem"},onClick:function(){return function(e){return G.apply(this,arguments)}(e.id)}})})})]})})})),(0,h.jsx)("div",{className:"container-fluid mt-2",children:j?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsxs)("select",{className:"form-control p-0 text-center border-0 text-end bg-seashell",value:u||"",onChange:function(e){p(e.target.value)},children:[(0,h.jsx)("option",{children:"Select Vitals"}),n.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center p-0 border-start-0 border-end-0 border-top-0 border-bottom-burntumber",value:g||"",onChange:function(e){b(e.target.value)}})}),(0,h.jsx)("div",{className:"col-1",children:u?(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:B(u)}):(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2 px-1",children:j?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"btn py-0 button-burntumber",onClick:function(){return W.apply(this,arguments)},children:"Add"})}),(0,h.jsx)("div",{className:"col-2"})]})}),(0,h.jsx)("div",{className:"container text-center mt-3",children:(0,h.jsx)("button",{className:"button button-charcoal mx-auto",onClick:e.CloseVitals,children:"Done"})})]})},v=n(5270),N=n(3433),j=function(e){var t=(0,s.useContext)(c.Jx),n=localStorage.getItem("id"),l={description:"",amount:0,discount:0,cgst:0,sgst:0,gross_amount:0,id:""},d={paymentmethod:"",amount:0},p=(0,s.useState)(!1),x=(0,a.Z)(p,2),f=x[0],g=x[1],b=(0,s.useState)(),v=(0,a.Z)(b,2),j=v[0],y=v[1],w=(0,s.useState)([]),k=(0,a.Z)(w,2),S=k[0],C=k[1],_=(0,s.useState)(""),Z=(0,a.Z)(_,2),D=Z[0],A=Z[1],L=(0,s.useState)(0),I=(0,a.Z)(L,2),P=I[0],z=I[1],T=(0,s.useState)(0),F=(0,a.Z)(T,2),E=F[0],M=F[1],B=(0,s.useState)(0),W=(0,a.Z)(B,2),H=W[0],G=W[1],R=(0,s.useState)(0),V=(0,a.Z)(R,2),U=V[0],O=V[1],q=(0,s.useState)(e.doctorfee),X=(0,a.Z)(q,2),J=X[0],Q=X[1],Y=(0,s.useState)(),$=(0,a.Z)(Y,2),K=$[0],ee=$[1],te=(0,s.useState)(),ne=(0,a.Z)(te,2),ae=ne[0],se=ne[1],oe=(0,s.useState)([]),ie=(0,a.Z)(oe,2),re=ie[0],le=ie[1],ce=(0,s.useState)(),de=(0,a.Z)(ce,2),me=de[0],ue=de[1];function pe(){return(pe=(0,i.Z)((0,o.Z)().mark((function t(){var n,a,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],a=0;a<e.appointmentdata.length;a++)if(e.appointmentid==e.appointmentdata[a].id){for(s=0;s<e.appointmentdata[a].other_charges.length;s++)n.push({description:null!=e.appointmentdata[a].other_charges[s].description?e.appointmentdata[a].other_charges[s].description:"N/A",amount:null!=e.appointmentdata[a].other_charges[s].total_amount?e.appointmentdata[a].other_charges[s].total_amount:0,discount:null!=e.appointmentdata[a].other_charges[s].discount?e.appointmentdata[a].other_charges[s].discount:0,cgst:null!=e.appointmentdata[a].other_charges[s]&&null!=e.appointmentdata[a].other_charges[s].gst_rate?e.appointmentdata[a].other_charges[s].gst_rate/2:0,sgst:null!=e.appointmentdata[a].other_charges[s]&&null!=e.appointmentdata[a].other_charges[s].gst_rate?e.appointmentdata[a].other_charges[s].gst_rate/2:0,gross_amount:e.appointmentdata[a].other_charges[s].final_amount&&null!==e.appointmentdata[a].other_charges[s].final_amount?e.appointmentdata[a].other_charges[s].final_amount:"",id:e.appointmentdata[a].other_charges[s].id&&null!=e.appointmentdata[a].other_charges[s].id?e.appointmentdata[a].other_charges[s].id:""});G(e.appointmentdata[a].aartas_discount),z(e.appointmentdata[a].doc_discount),A(e.appointmentdata[a].cons_text)}C(n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(){return he=(0,i.Z)((0,o.Z)().mark((function t(){var n,a,s,i,r,l;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],a=[],s=[],i=0;i<e.appointmentdata.length;i++)e.appointmentid==e.appointmentdata[i].id&&e.appointmentdata[i].payment_method_details&&(n.push(Object.keys(JSON.parse(e.appointmentdata[i].payment_method_details))),a.push(Object.values(JSON.parse(e.appointmentdata[i].payment_method_details))));if(r=[],{paymentmethod:"",amount:0},n[0]){for(l=0;l<n[0].length;l++)s.push({paymentmethod:n[0][l],amount:a[0][l]});le(s)}re.push(r);case 8:case"end":return t.stop()}}),t)}))),he.apply(this,arguments)}function xe(){return(xe=(0,i.Z)((0,o.Z)().mark((function n(a){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!S[a].id){n.next=6;break}return C([]),n.next=4,r.Z.post("".concat(t,"/appointment/delete/extra/charges"),{id:S[a].id}).then((function(t){C([]),S.splice(a,a),m().Notify.success(t.data.message),e.Appointmentlist()}));case 4:n.next=7;break;case 6:S.splice(a,a);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function fe(e,t,n,a){C((function(e){return(0,N.Z)(e)}));var s=n||0,o=(e||0)-(t||0);return o=(o+=s=(s+(a||0))*o/100).toFixed(2)}function ge(){for(var e=[],t=0,n=0;n<S.length;n++)e.push((Number(S[n].gross_amount)-(Number(S[n].amount)-Number(S[n].discount)))/2);return e.forEach((function(e){t+=e})),t=t.toFixed(2)}function be(){var e=0,t=Number(H)+Number(P)+Number(E);return S.map((function(t){return e+=Number(t.gross_amount)})),e=(e=e+Number(J)-t).toFixed(2)}function ve(){for(var e=[],t=0,n=0,a=0;a<re.length;a++)e.push(Number(re[a].amount));return e.forEach((function(e){t+=e})),t>be()?n=t-be():n}function Ne(){return je.apply(this,arguments)}function je(){return je=(0,i.Z)((0,o.Z)().mark((function a(){var s,l,c,d,u,p,h,x,f,g,b,v,N,j,y,w,k,_,Z,A;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(A=function(){return(A=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ue(!0),n.next=4,r.Z.post("".concat(t,"/appointment/save/charges"),_).then((function(t){e.Appointmentlist(),e.setsingleload(0),C([]),m().Notify.success(t.data.message),ue(!1)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),m().Notify.failure(n.t0.message),ue(!1);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)},Z=function(){return A.apply(this,arguments)},s=be(),s=Number(s),l=Number(e.doctorfee),c=Number(P),d=Number(H),u=ge(),p=ge(),h=[],x=[],f=[],g=[],b=[],v=[],N=[],console.log(N),j=0;j<S.length;j++)h.push(S[j].description),x.push(Number(S[j].amount)),f.push(Number(S[j].discount)),b.push(Number(S[j].amount)-Number(S[j].discount)),S[j].id&&v.push(Number(S[j].id)),S[j].cgst&&S[j].sgst?N.push(Number(S[j].cgst+S[j].sgst)):N.push(0),g.push(S[j].gross_amount);for(y=[],w=[],k=0;k<re.length;k++)y.push(re[k].paymentmethod),w.push(Number(re[k].amount));_={appointment_id:e.appointmentid,g_total_main:s,cons_fee:l,description:h,total_amount:x,discount:f,amount:b,doc_dis:c,aartas_discount:d,payment_method:y,payment_method_main:y,payment_method_details:w,SGST:Number(p),CGST:Number(u),admin_id:Number(n),cons_text:D,add_to_cart:U,show_cons_fee:J==e.doctorfee?1:0,ot_id:v,gst_rate:N,final_amount:g},Z();case 23:case"end":return a.stop()}}),a)}))),je.apply(this,arguments)}(0,s.useEffect)((function(){!function(){pe.apply(this,arguments)}(),function(){he.apply(this,arguments)}()}),[e.billform]);var ye=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.H)(),m().Confirm.show("Add Charges and Payments in Cart","Do you surely want to add the following Charges and Payments with Grand Total ".concat(be()," in Cart"),"Yes","No",(function(){O(1),Ne()}),(function(){O(0),Ne()}),{});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function we(){return(we=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:g(!0),r.Z.post("".concat(t,"/advance/balance"),{patient_id:e.patientid}).then((function(e){g(!1),y(e.data.data)}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){we.apply(this,arguments)}()}),[]),(0,h.jsxs)("div",{className:"bg-seashell p-0 m-0",children:[(0,h.jsxs)("h5",{className:"text-charcoal mt-2 fw-bold text-start ps-3",children:[e.patientname," Bill"]}),(0,h.jsx)("button",{className:"btn btn-close position-absolute top-0 end-0 me-2 mt-1 ",onClick:function(){e.CloseBillForm()}}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsxs)("div",{className:"scroll",children:[e.isLoading?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"container-fluid text-start px-3 py-2 position-relative",children:[(0,h.jsx)("h6",{className:"fw-bold text-charcoal",children:"Consultation"}),(0,h.jsxs)("label",{className:"position-absolute end-0 top-0 mt-2 me-4 text-cahrcoal fw-bolder",children:[(0,h.jsx)("input",{className:"form-check-input me-1 ",type:"checkbox",checked:J,onClick:J==e.doctorfee?function(){return Q(0)}:function(){return Q(e.doctorfee)}}),"Add Consultation Amount"]}),(0,h.jsxs)("div",{className:"row p-0 m-0 justify-content-between",children:[(0,h.jsxs)("div",{className:"col-8 ps-0 ",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:" Consultation text "}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold",value:D||"",onChange:function(e){return A(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-4 pe-0 ",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:" Doctor's Consultation Charge "}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold",disabled:!0,value:J})]})]})]}),(0,h.jsxs)("div",{className:"container-fluid text-start p-2 ps-3",children:[(0,h.jsx)("h6",{className:"fw-bolder text-charcoal",children:"Discounts"}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-4 ps-0",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Coupon"}),(0,h.jsx)("input",{className:"form-control border-0 fw-bold text-burntumber text-start",disabled:!0,value:E||"",onChange:function(e){return M(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Doctor"}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold text-burntumber text-start",value:P||"",onChange:function(e){return z(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Aartas"}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold text-burntumber text-start",value:H||"",onChange:function(e){return G(e.target.value)}})]})]})]}),(0,h.jsx)("div",{className:"container-fluid text-start p-2",children:(0,h.jsxs)("div",{className:"bg-seashell position-relative",children:[(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center mb-2",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 ps-2 pe-1",children:(0,h.jsx)("h6",{className:" p-0 m-0 text-charcoal fw-bolder",children:" Extra Charges "})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("button",{className:"btn p-0 m-0 py-0",onClick:function(){return C((function(e){return[].concat((0,N.Z)(e),[l])}))},children:(0,h.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"2rem"}})})})]}),e.isLoading?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):S.map((function(e,t){return(0,h.jsx)("div",{className:"container-fluid p-0 m-0",children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"Description"}),(0,h.jsx)("input",{className:"form-control bg-seashell m-0 text-start fw-bold ",value:e.description?e.description:"",onChange:function(t){e.description=t.target.value,fe(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-2",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"Amount"}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.amount?e.amount:"",onChange:function(t){e.amount=t.target.value,e.gross_amount=fe(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-2 ",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"Discount"}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.discount?e.discount:"",onChange:function(t){e.discount=t.target.value,e.gross_amount=fe(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-2",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"GST %"}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.cgst&&e.sgst?e.cgst+e.sgst:"",onChange:function(t){e.cgst=t.target.value/2,e.sgst=t.target.value/2,e.gross_amount=fe(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-2 p-0 align-self-end ",children:[(0,h.jsxs)("div",{className:"row p-0 m-0 ",children:[(0,h.jsx)("div",{className:"col-6 p-0 m-0 fw-bold text-charcoal75 text-end",children:"Amount:"}),(0,h.jsx)("input",{type:"number",className:"col-6 p-0 border-0 text-start bg-seashell m-0 ps-1 fw-bold text-burntumber",style:{letterSpacing:"1px"},value:e.amount&&e.discount?e.amount-e.discount:"",onChange:function(t){e.gross_amount=fe(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-6 p-0 m-0 fw-bold text-charcoal75 text-end",children:" incl. gst: "}),(0,h.jsx)("input",{className:"col-6 p-0 border-0 m-0 text-start bg-seashell ps-1 fw-bold text-burntumber",style:{letterSpacing:"1px"},value:e.gross_amount?e.gross_amount:""})]})]}),(0,h.jsx)("div",{className:"col-1 align-self-end",children:(0,h.jsx)("button",{className:"btn btn-sm p-0 m-0",onClick:function(){!function(e){xe.apply(this,arguments)}(t),le((function(e){return(0,N.Z)(e)}))},children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.5rem"}})})})]})})}))]})}),(0,h.jsx)("div",{className:"container-fluid text-start my-2 border border-1 py-1 rounded-1 w-auto mx-3",children:(0,h.jsx)("div",{className:"row p-0 m-0 align-items-center",children:(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 align-self-center",children:(0,h.jsx)("label",{className:"text-burntumber fw-bold p-0 m-0",children:" SGST:- \u20b9 "})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold border-0 p-0 m-0",disabled:!0,value:K||ge(),onChange:function(e){return ee(e.target.value)}})})]})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("label",{className:"text-burntumber fw-bold p-0 m-0",children:"CGST:- \u20b9"})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold border-0 p-0 m-0",disabled:!0,value:ae||ge(),onChange:function(e){return se(e.target.value)}})})]})})]})})})}),(0,h.jsx)("div",{className:"container-fluid p-1 mt-2",children:(0,h.jsxs)("div",{className:"row text-center p-0 m-0 align-items-center p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-4 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:"Advance Amount Balance"}),f?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):j?(0,h.jsx)("div",{className:"text-success text-start border-0 rounded-1 fw-bolder p-0  bg-seashell",children:"\u20b9"+j.advnace_total}):(0,h.jsx)("div",{className:"bg-lightred text-center fw-bold rounded-1 p-2",children:"No Advance Payments Found"})]}),(0,h.jsxs)("div",{className:"col-4 align-self-end text-start",children:[(0,h.jsx)("label",{className:"fw-bolder text-charcoal text-start text-wrap",children:"Consumables Amount"}),(0,h.jsx)("input",{disabled:!0,className:"form-control text-start rounded-1  border-0 fw-bolder p-0 text-charcoal50",defaultValue:" not available"})]})]})}),(0,h.jsxs)("div",{className:"container-fluid text-start position-relative mt-2",children:[(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 ps-1",children:(0,h.jsx)("h6",{className:"text-charcoal p-0 m-0 fw-bolder",children:"Payments"})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("button",{className:"btn p-0 ms-1",onClick:function(){return le((function(e){return[].concat((0,N.Z)(e),[d])}))},children:(0,h.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"2rem"}})})})]}),(0,h.jsxs)("div",{className:" justify-content-start p-0 m-0 mt-2 me-3",children:[(0,h.jsxs)("div",{className:"col-5 text-start p-0 m-0",children:[(0,h.jsxs)("span",{className:" text-end p-0 m-0 text-charcoal fw-bold ps-1",children:["Amount Recieved:"," "]}),(0,h.jsxs)("span",{className:"text-success fw-bolder",children:[" ",re&&re.length>0?"\u20b9"+function(){var e=[],t=0;if(re&&re.length>0){for(var n=0;n<re.length;n++)e.push(Number(re[n].amount));return e.forEach((function(e){t+=Number(e)})),t=t.toFixed(2)}return 0}():"\u20b90"]})]}),(0,h.jsx)("div",{className:"col-5 text-start m-0 p-0",children:(0,h.jsxs)("span",{className:"text-start align-self-end p-0 m-0 ms-1 text-burntumber fw-bolder",children:[" ",ve()>0?"Amount Exceeded by ".concat(ve()):""," "]})})]}),re.map((function(e,t){return(0,h.jsxs)("div",{className:"row p-0 m-0 justify-content-start mt-3 mb-3",children:[(0,h.jsx)("div",{className:"col-4 p-0 me-2 ms-1",children:(0,h.jsxs)("select",{className:"form-control bg-seashell fw-bold",value:e.paymentmethod,onChange:function(t){e.paymentmethod=t.target.value,le((function(e){return(0,N.Z)(e)}))},children:[(0,h.jsx)("option",{className:"text-charcoal75 fw-bolder",children:"Payment Method"}),(0,h.jsx)("option",{value:"Cash",children:"Cash"}),(0,h.jsx)("option",{value:"Card",children:"Card"}),(0,h.jsx)("option",{value:"Paytm",children:"Paytm"}),(0,h.jsx)("option",{value:"Phonepe",children:"Phone Pe"}),(0,h.jsx)("option",{value:"Wire-Transfer",children:"Wire Transfer"}),(0,h.jsx)("option",{value:"Razorpay",children:"Razorpay"}),(0,h.jsx)("option",{value:"Points",children:"Points"}),(0,h.jsx)("option",{value:"Adjust-Advance",children:"Adjust-Advance"})]})}),(0,h.jsx)("div",{className:"col-4 p-0 m-0",children:(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold",value:e.amount,onChange:function(t){e.amount=t.target.value,le((function(e){return(0,N.Z)(e)}))}})}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("button",{className:"btn btn-sm p-0 m-0",onClick:function(){!function(e){re.splice(e,e)}(t),le((function(e){return(0,N.Z)(e)}))},children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1rem"}})})})]})}))]})]}),(0,h.jsx)("div",{className:"container-fluid pb-2 position-sticky bottom-0 bg-seashell border border-1 ",style:{marginTop:"20vh"},children:me?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row p-0 m-0 text-center align-items-center mt-1 ",children:[(0,h.jsxs)("div",{className:"col-4 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:"Grand Total"}),(0,h.jsx)("input",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0  bg-seashell",value:"\u20b9"+be()})]}),(0,h.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,h.jsx)("button",{className:"button button-pearl",onClick:ye,children:"Add to Cart"})}),(0,h.jsx)("div",{className:"col-sm-auto col-2 d-flex justify-content-start ps-2",children:(0,h.jsx)("button",{className:"button button-charcoal ",onClick:function(e){(0,u.H)(),m().Confirm.show("Add Charges and Payments","Do you surely want to add the following Charges and Payments with Grand Total ".concat(be()),"Yes","No",(function(){O(0),Ne()}),(function(){return 0}),{})},children:"Save"})})]})})]})]})},y=function(e){(0,s.useRef)(null),(0,s.useContext)(c.q2);var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(c.j8),l=localStorage.getItem("ClinicId"),d=(0,s.useRef)(null),p=(0,s.useRef)(null),x=((0,s.useRef)(null),(0,s.useRef)(null)),f=(0,s.useState)(),g=(0,a.Z)(f,2),b=(g[0],g[1],(0,s.useState)()),v=(0,a.Z)(b,2),j=v[0],y=(v[1],(0,s.useState)()),w=(0,a.Z)(y,2),k=(w[0],w[1]),S=(0,s.useState)(),C=(0,a.Z)(S,2),_=(C[0],C[1],(0,s.useState)(l)),Z=(0,a.Z)(_,2),D=(Z[0],Z[1],(0,s.useState)()),A=(0,a.Z)(D,2),L=(A[0],A[1],(0,s.useState)(0)),I=(0,a.Z)(L,2),P=(I[0],I[1],(0,s.useState)(0)),z=(0,a.Z)(P,2),T=(z[0],z[1],(0,s.useState)()),F=(0,a.Z)(T,2),E=F[0],M=F[1],B=(0,s.useState)(!1),W=(0,a.Z)(B,2),H=(W[0],W[1],(0,s.useState)([])),G=(0,a.Z)(H,2),R=G[0],V=G[1],U=(0,s.useState)([]),O=(0,a.Z)(U,2),q=O[0],X=O[1],J=(0,s.useState)([]),Q=(0,a.Z)(J,2),Y=Q[0],$=Q[1],K=(0,s.useState)(),ee=(0,a.Z)(K,2),te=ee[0],ne=ee[1],ae=(0,s.useState)(),se=(0,a.Z)(ae,2),oe=se[0],ie=se[1],re=(0,s.useState)(),le=(0,a.Z)(re,2),ce=le[0],de=le[1],me=(0,s.useState)([]),ue=(0,a.Z)(me,2),pe=ue[0],he=ue[1],xe=(0,s.useState)(),fe=(0,a.Z)(xe,2),ge=fe[0],be=fe[1],ve=(0,s.useState)(),Ne=(0,a.Z)(ve,2),je=Ne[0],ye=Ne[1],we=(0,s.useState)("none"),ke=(0,a.Z)(we,2),Se=ke[0],Ce=ke[1],_e=(0,s.useState)(""),Ze=(0,a.Z)(_e,2),De=Ze[0],Ae=Ze[1],Le=(0,s.useState)(!1),Ie=(0,a.Z)(Le,2),Pe=Ie[0],ze=Ie[1],Te=function(e){if(e)return e=e.split("-").reverse().join("-")},Fe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!0),e.prev=1,e.next=4,r.Z.get("".concat(t,"/stock/list?search=").concat(n)).then((function(e){var t=[],a=[],s=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),a.push(e.data.data.vaccines?e.data.data.vaccines:[]),s=(s=t.concat(a)).flat(),console.log(s),X(s),ye(!1),n.length>1?d.current.style.display="block":d.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=11;break}return ne(!0),e.prev=2,e.next=5,r.Z.get("".concat(t,"/sale/item/search/by/id?item=").concat(n)).then((function(e){ne(!1),$([e.data.data])}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),ne(!1),m().Notify.failure(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();function Me(e,t,n){var a=t;return Number(n)>Number(a)&&m().Notify.failure("Selling Cost should not less than Cost"),e?1==e?t=Number(t):a=(a=Number(t)*Number(e)).toFixed(2):0}function Be(e){var t="";t=e.vaccine_brand_id?"v":"m";var n={productid:e.id,type:e.type?e.type:t,product:e.item_name?e.item_name:oe,batch:e.batch_no,expiry:e.expiry_date,quantity:e.current_stock,qtytoSale:1,discount:0,cost:e.cost,mainmrp:e.mrp,disccost:e.mrp,gst:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate),totalamt:e.mrp};pe&&0==pe.length?he([n]):he((function(e){return[].concat((0,N.Z)(e),[n])}))}function We(){return(We=(0,i.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=[]).push(pe.filter((function(e){return e.batch!==t}))),n=n.flat(),he(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=(0,i.Z)((0,o.Z)().mark((function n(){var a,s,i,l,c,d,u,p,h;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(a=[],s=[],i=[],l=[],c=[],d=[],u=[],p=0;p<pe.length;p++)a.push(pe[p].type+pe[p].productid),s.push(pe[p].qtytoSale),i.push(pe[p].discount),l.push(pe[p].disccost),c.push(pe[p].mainmrp),d.push(pe[p].gst),u.push(pe[p].totalamt);return h={pro_id:a,qty:s,discount:i,disc_mrp:l,main_mrp:c,gst:d,total_amount:u,appointment_id:e.appointmentid},M(!0),n.prev=10,n.next=13,r.Z.post("".concat(t,"/save/consumable"),h).then((function(t){M(!1),1==t.data.status?(Ve(),m().Notify.success(t.data.message),e.Appointmentlist()):m().Notify.warning(t.data.message)})).catch((function(e){console.log(e),m().Notify.failure(e.message),M(!1)}));case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(10),m().Notify.failure(n.t0.message),M(!1);case 19:case"end":return n.stop()}}),n,null,[[10,15]])})))).apply(this,arguments)}function Ge(){(0,u.H)(),m().Confirm.show("Save Sale Entry","Do you surely want to add total ".concat(pe.length," Sale ").concat(pe.length<=1?"entry":"entries","  "),"Yes","No",(function(){!function(){He.apply(this,arguments)}()}),(function(){return 0}),{})}(0,s.useEffect)((function(){n.map((function(e){return e[0]==j?k(e[1]):""}))}),[j]),(0,s.useEffect)((function(){!function(){var e=0;pe.map((function(t){return e+=Number(t.totalamt)})),be(e)}()}),[pe]);var Re=function(){"none"===Se&&Ce("block"),"block"===Se&&Ce("none")},Ve=function(){var n=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.Z.post("".concat(t,"/save/nursing/notes"),{appointment_id:e.appointmentid,notes:De}).then((function(t){m().Notify.success(t.data.message),e.Appointmentlist()}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),m().Notify.warning(n.t0.data.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}(),Ue=function(){var n=(0,i.Z)((0,o.Z)().mark((function n(a){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ze(!0),n.prev=1,n.next=4,r.Z.post("".concat(t,"/remove/consumable"),{id:a}).then((function(t){ze(!1),e.Appointmentlist(),m().Notify.success(t.data.message)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),ze(!1),m().Notify.warning(n.t0.data.message);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"container-fluid p-0 m-0",children:[(0,h.jsxs)("div",{className:"position-relative mb-3",children:[(0,h.jsxs)("h5",{className:"text-start text-charcoal fw-bold ",children:[e.patientname," Consumables"]}),(0,h.jsx)("button",{className:"btn btn-close position-absolute p-1 m-0 end-0 top-0 me-2",disabled:!!E,onClick:e.toggleConsumables})]}),(0,h.jsxs)("button",{className:"button-sm border-0 mx-1 bg-transparent text-charcoal position-relative float-end p-0 mt-2 me-5",onClick:Re,children:[(0,h.jsx)("span",{className:" fw-bold",children:"Consumables"}),(0,h.jsx)("img",{src:"images/cart.png"}),(0,h.jsx)("span",{class:" position-absolute text-pearl start-100 translate-middle badge fw-normal p-0 m-0 p-1 px-2 rounded-2 bg-burntumber border-burntumber",style:{zIndex:"2",top:"10%"},children:e.existedconsumables.length})]}),(0,h.jsxs)("div",{className:"d-".concat(Se," position-absolute start-0 end-0 top-0 bg-seashell"),style:{zIndex:"6",height:"60vh"},children:[(0,h.jsxs)("h5",{className:"text-start text-charcoal fw-bold p-2",children:[e.patientname," Consumables"]}),(0,h.jsx)("img",{src:"images/leftarrow.png",className:"ms-2 mb-2",onClick:Re}),(0,h.jsx)("h6",{className:"text-start text-charcoal fw-bold p-1 ps-2 pb-0 ",children:"Consumables Added "}),(0,h.jsx)("div",{className:"scroll",children:(0,h.jsxs)("table",{className:"table fw-bold p-0 m-0",children:[(0,h.jsx)("thead",{className:"p-0 m-0 top-0 bg-seashell",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Item ID"}),(0,h.jsx)("th",{children:"Item Name"}),(0,h.jsx)("th",{children:"MRP"}),(0,h.jsx)("th",{children:"Disc %"}),(0,h.jsx)("th",{children:"Cost"}),(0,h.jsx)("th",{children:"Total Amount"}),(0,h.jsx)("th",{children:"Delete"})]})}),e.existedconsumables&&0!==e.existedconsumables.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-pearl",children:0!==e.existedconsumables.length?e.existedconsumables.map((function(e){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:["m",e.medicies_stocks_id]}),(0,h.jsx)("td",{children:e.medicine.display_name}),(0,h.jsxs)("td",{children:["\u20b9",e.main_mrp]}),(0,h.jsxs)("td",{className:"text-center p-0 m-0",children:[e.discount," "]}),(0,h.jsxs)("td",{children:["\u20b9",e.disc_mrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.total_amount]}),(0,h.jsx)("td",{children:Pe?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("img",{src:"images/delete.png",onClick:function(){Ue(e.id)}})})]})})):(0,h.jsx)("tbody",{children:(0,h.jsx)("tr",{children:"No consumables Found"})})}):(0,h.jsx)("tbody",{className:"position-relative",children:(0,h.jsx)("tr",{className:"p-0 m-0 text-center",children:(0,h.jsx)("td",{className:"position-absolute text-charcoal75 fw-bold start-0 end-0",children:"No Consumabels Added"})})})]})}),(0,h.jsxs)("div",{className:"container-fluid fw-bold mt-5 ",children:[(0,h.jsx)("h6",{className:"fw-bold",children:"Nursing Notes"}),(0,h.jsx)("p",{className:"d-inline-block w-100 text-wrap bg-pearl p-2 rounded-2 ",style:{minHeight:"10vh"},children:e.appointmentdata.nursing_notes})]})]}),(0,h.jsxs)("div",{className:"container-fluid text-start p-0 m-0 mt-3 d-".concat("block"===Se?"none":"block"),children:[(0,h.jsxs)("div",{className:"col-12 justify-content-center",children:[(0,h.jsx)("h6",{className:"text-charcoal fw-bolder text-start ms-1",children:"Search Consumables"}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsxs)("div",{className:"row my-2 justify-content-center",children:[(0,h.jsxs)("div",{className:"col-4 position-relative",children:[(0,h.jsx)("input",{className:"form-control bg-seashell",placeholder:"Search Product by Name",value:oe||"",onChange:function(e){Fe(e.target.value),ie(e.target.value),de(),V(),x.current.style.display="none"}}),(0,h.jsx)("div",{ref:d,className:"position-absolute scroll scroll-y rounded-1 mt-1",style:{Width:"max-content",zIndex:"1",maxHeight:"40vh"},children:q?je?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==je&&0==q.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):(0,h.jsxs)("div",{className:"rounded-1 border border-1 bg-pearl p-1 d-".concat(q&&q.length>0?"block":"none"),children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75 ms-1",style:{fontSize:"0.8rem"},children:[q.length," Search Results"]}),q.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," p-1 py-2 fw-bold border-bottom text-charcoal "),onClick:function(t){V(e),ie(e.display_name?e.display_name:e.name),de(e.id),x.current.style.display="block"},children:[e.display_name?e.display_name:e.name,(0,h.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})]})}))]}):(0,h.jsx)("div",{className:"bg-seashell"})}),(0,h.jsxs)("div",{ref:x,className:"position-absolute bg-pearl start-100 mt-1 px-3 scroll scroll-y align-self-center rounded-1 border border-1 p-1 d-".concat(R&&R.stock_info&&void 0!==R.stock_info?"block":"none"),style:{marginTop:"0rem",zIndex:"2",width:"22vh","min-width":"22vh",height:"30vh"},children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[R&&void 0!==R.stock_info?R.stock_info.length:""," Batch Stocks"]}),R&&0!==R.length?R&&0==R.stock_info.length?(0,h.jsx)("div",{className:"text-white bg-burntumber p-2",children:"Oops ! Not Available"}):R.stock_info.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",minWidth:"6rem",marginTop:"2%"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom p-2"),onClick:function(){Be(e),ie(),de(),V(),X()},children:[(0,h.jsx)("h6",{className:"text-start m-0 p-0 fw-bold",children:oe}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["BatchNo. - ",(0,h.jsx)("span",{className:"fw-bold",children:e.batch_no&&null!==e.batch_no?e.batch_no:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Stock - ",(0,h.jsx)("span",{className:"fw-bold",children:e.current_stock&&e.current_stock?e.current_stock:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Expiry Date - ",(0,h.jsx)("span",{className:"fw-bold",children:e.expiry_date?Te(e.expiry_date):""})]})]})})):(0,h.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]}),(0,h.jsx)("div",{})]}),(0,h.jsx)("div",{className:"col-1 text-burntumber text-center fw-bold align-self-center",children:" OR "}),(0,h.jsxs)("div",{className:"col-4 ",children:[(0,h.jsx)("input",{className:"form-control bg-seashell border border-1 rounded-1",value:ce||"",placeholder:"Search Product by ID",onChange:function(e){Ee(e.target.value),de(e.target.value),p.current.style.display="block"}}),(0,h.jsx)("div",{ref:p,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"2"},children:Y?te?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==te&&0==Y.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):Y.map((function(e,t){return(0,h.jsx)("div",{style:{cursor:"pointer",Width:"max-content"},className:"p-0 p-1 rounded-pill shadow bg-".concat(t%2==0?"pearl":"seashell"),onClick:function(t){de(e.type+e.id),Be(e),p.current.style.display="none"},children:e.item_name?e.item_name:""})})):(0,h.jsx)("div",{className:"bg-seashell"})})]})]})]}),(0,h.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,h.jsx)("div",{className:"d-flex justify-content-between",children:(0,h.jsx)("h6",{className:"text-charcoal fw-bolder text-start ms-1",children:"Add Consumables"})}),(0,h.jsx)("div",{className:"scroll scroll-y",style:{height:"35vh"},children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{className:" bg-seashell",children:(0,h.jsxs)("tr",{className:"",children:[(0,h.jsx)("th",{className:"",children:"Item ID"}),(0,h.jsx)("th",{className:"",children:"Item Name"}),(0,h.jsx)("th",{className:"",children:"BatchNo."}),(0,h.jsx)("th",{className:"",children:"Expiry Date"}),(0,h.jsx)("th",{className:"",children:"Avl.Stock"}),(0,h.jsx)("th",{className:"",children:"Qty To Sale"}),(0,h.jsx)("th",{className:"",children:"Discount %"}),(0,h.jsx)("th",{className:"",children:"MRP"}),(0,h.jsx)("th",{className:"",children:"Cost"}),(0,h.jsx)("th",{className:"",children:"GST Rate"}),(0,h.jsx)("th",{className:"",children:"Selling Cost/Unit"}),(0,h.jsx)("th",{className:"",children:"Total Amount"}),(0,h.jsx)("th",{className:"",children:"Delete"})]})}),pe&&0!==pe.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-pearl",children:pe.map((function(e){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:[e.type,e.productid]}),(0,h.jsx)("td",{children:e.product}),(0,h.jsx)("td",{children:e.batch}),(0,h.jsx)("td",{children:Te(e.expiry)}),(0,h.jsx)("td",{children:e.quantity}),(0,h.jsxs)("td",{className:"",children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-25 p-0 text-center bg-seashell",value:e.qtytoSale?e.qtytoSale:"",onChange:function(t){t.target.value<=e.quantity?e.qtytoSale=t.target.value:m().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=Me(e.qtytoSale,e.disccost),he((function(e){return(0,N.Z)(e)}))}})," "]}),(0,h.jsxs)("td",{className:"",style:{Width:"0rem"},children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-25 p-0 text-center bg-seashell",value:e.discount?e.discount:"",onChange:function(t){var n,a;e.discount=t.target.value,e.disccost=(n=e.mainmrp,(a=t.target.value)?(Number(n)-Number(n)*Number(a)/100).toFixed(2):Number(n)),e.totalamt=Me(e.qtytoSale,Number(e.disccost),Number(e.cost)),he((function(e){return(0,N.Z)(e)}))}})," "]}),(0,h.jsx)("td",{children:e.mainmrp}),(0,h.jsx)("td",{children:e.cost}),(0,h.jsx)("td",{children:e.gst+"%"}),(0,h.jsx)("td",{children:e.disccost}),(0,h.jsx)("td",{children:e.totalamt}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{src:"images/delete.png",onClick:function(){!function(e){We.apply(this,arguments)}(e.batch)}})})]})}))}):(0,h.jsx)("tbody",{className:"position-relative",children:(0,h.jsx)("tr",{className:"p-0 m-0 text-center",children:(0,h.jsx)("td",{className:"position-absolute text-charcoal75 fw-bold start-0 end-0",children:"No Consumabels Added"})})})]})})]}),(0,h.jsxs)("div",{className:"container p-0 m-0 mb-5 pb-5",children:[(0,h.jsx)("h6",{className:"fw-bold p-0 m-0 ps-0 ms-0 my-2",children:"Nurse notes"}),(0,h.jsx)("textarea",{className:"col-12 form-control w-100",value:De||"",onChange:function(e){return Ae(e.target.value)},style:{width:"95vh",height:"10vh"}})]})]}),(0,h.jsx)("div",{className:"col-12 position-absolute start-0 end-0 bottom-0 py-3 border border-1 text-start bg-pearl align-items-center rounded-bottom",children:(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-6",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start ms-3",children:" Order Total "}),(0,h.jsx)("h4",{className:"text-charcoal  fw-bolder card-header text-start ps-3",children:ge})]}),(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start ms-3",children:" Discount %"}),(0,h.jsx)("h4",{className:"text-charcoal  fw-bolder card-header text-start ps-3",children:function(e){var t=0;return e?(e.forEach((function(e){t+=Number(e.discount)})),t):t}(pe)})]}),(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start ms-3",children:" Total Items"}),(0,h.jsx)("h4",{className:"text-charcoal  fw-bolder card-header text-start ps-3",children:pe.length})]})]})}),(0,h.jsx)("div",{className:"col-6 align-self-center text-center",children:E?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){Ge()},children:"Save"})})]})})]})},w=n(7266);function k(e){var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(c.U8),d=(0,s.useContext)(c.Pl),N=localStorage.getItem("id"),k=(0,s.useState)([]),S=(0,a.Z)(k,2),C=S[0],_=S[1],Z=(0,s.useState)(0),D=(0,a.Z)(Z,2),A=D[0],L=D[1],I=(0,s.useState)(!1),P=(0,a.Z)(I,2),z=P[0],T=P[1],F=(0,s.useState)(),E=(0,a.Z)(F,2),M=E[0],B=E[1],W=(0,s.useState)("none"),H=(0,a.Z)(W,2),G=H[0],R=H[1],V=(0,s.useState)("none"),U=(0,a.Z)(V,2),O=U[0],q=U[1],X=(0,s.useState)(),J=(0,a.Z)(X,2),Q=(J[0],J[1]),Y=(0,s.useState)(),$=(0,a.Z)(Y,2),K=$[0],ee=$[1],te=(0,s.useState)(),ne=(0,a.Z)(te,2),ae=ne[0],se=ne[1],oe=(0,s.useState)(),ie=(0,a.Z)(oe,2),re=ie[0],le=ie[1],ce=(0,s.useState)("none"),de=(0,a.Z)(ce,2),me=de[0],ue=de[1],pe=(0,s.useState)("none"),he=(0,a.Z)(pe,2),xe=he[0],fe=he[1],ge=(0,s.useState)("none"),be=(0,a.Z)(ge,2),ve=be[0],Ne=be[1],je=(0,s.useState)(),ye=(0,a.Z)(je,2),we=ye[0],ke=ye[1],Se=(0,s.useState)([]),Ce=(0,a.Z)(Se,2),_e=Ce[0],Ze=Ce[1],De=(0,s.useState)(),Ae=(0,a.Z)(De,2),Le=Ae[0],Ie=Ae[1],Pe=(0,s.useState)(),ze=(0,a.Z)(Pe,2),Te=ze[0],Fe=ze[1],Ee=(0,s.useState)("none"),Me=(0,a.Z)(Ee,2),Be=Me[0],We=Me[1],He=(0,s.useState)(),Ge=(0,a.Z)(He,2),Re=Ge[0],Ve=Ge[1],Ue=(0,s.useState)(),Oe=(0,a.Z)(Ue,2),qe=Oe[0],Xe=Oe[1],Je=(0,s.useState)("none"),Qe=(0,a.Z)(Je,2),Ye=Qe[0],$e=Qe[1],Ke=(0,s.useState)(),et=(0,a.Z)(Ke,2),tt=(et[0],et[1]),nt=(0,s.useState)("none"),at=(0,a.Z)(nt,2),st=at[0],ot=at[1],it=function(){"block"===G&&(R("none"),B())};function rt(){return lt.apply(this,arguments)}function lt(){return(lt=(0,i.Z)((0,o.Z)().mark((function a(){return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return T(!0),p.Loading.dots("Getting Details",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),a.next=4,r.Z.get("".concat(t,"/appointment/list?doctor_id=").concat(e.todayDoc[e._selected][0],"&from_date=").concat(n,"&to_date=").concat(n)).then((function(e){_(e.data.data)}));case 4:T(!1),p.Loading.remove(),L(1);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function ct(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,s.useEffect)((function(){rt()}),[e._selected]);var dt=[[1,"Pending","lightred"],[2,"Booked","lightblue"],[3,"Cancelled","lightred"],[4,"QR Generated","light"],[5,"Checked_in","brandy"],[6,"Vitals Done","lightred"],[7,"In_apppointment","lightyellow"],[8,"Payment done","lightgreen"],[9,"Unattained","lightyellow"],[10,"Completed","lightgreen"]];function mt(e){for(var t,n=0;n<dt.length;n++)if(e==dt[n][0]){t=dt[n][1];break}return t}function ut(e){for(var t,n=0;n<dt.length;n++)if(e==dt[n][0]){t=dt[n][2];break}return t}function pt(){return(pt=(0,i.Z)((0,o.Z)().mark((function n(a){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a.target.value&&N&&a.target.name)){n.next=12;break}return n.prev=1,p.Loading.circle("Upadating Appointment Status",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),n.next=5,r.Z.post("".concat(t,"/appointment/change/status"),{appointment_id:a.target.name,status:a.target.value,admin_id:N}).then((function(t){rt(),p.Loading.remove(),e.fetchapi(),m().Notify.success(t.data.message)}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),m().Notify.failure(n.t0.message);case 10:n.next=13;break;case 12:m().Notify.alert("Please try Again");case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))).apply(this,arguments)}var ht=function(){q("none"),ee()};function xt(){"block"===xe&&(fe("none"),ke())}function ft(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ie(!0),e.next=3,r.Z.get("".concat(t,"/appointment/vitals/list?appointment_id=").concat(n)).then((function(e){Ze(e.data.data.vitals),Ie(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(){return(bt=(0,i.Z)((0,o.Z)().mark((function e(n,a){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m().Loading.dots("Sending",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.3rem"}),e.prev=1,e.next=4,r.Z.post("".concat(t,"/appointment/call/in"),{appointment_id:a,admin_id:N}).then((function(e){m().Notify.success(e.data.message.slice(0,-1)+" to "+n),m().Loading.remove()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m().Loading.remove(),m().Notify.warning(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var vt=function(e,t){(0,u.H)(),m().Confirm.show("Call Patient ","Do you surely want to call ".concat(e),"Yes","No",(function(){!function(e,t){bt.apply(this,arguments)}(e,t)}),(function(){return 0}),{})};function Nt(){"block"==Be&&(We("none"),Fe())}function jt(){"none"===Ye&&$e("block")}function yt(){"block"===Ye&&($e("none"),Ve())}function wt(){"block"===Ye&&($e("none"),Xe())}var kt=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Bill",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{r.Z.post("".concat(t,"/appointment/bill"),{appointment_id:n,admin_id:N}).then((function(e){console.log(e),m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.bill_url,"_blank","noreferrer")}))}catch(a){m().Notify.failure(a.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Prescription",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{r.Z.post("".concat(t,"/swift/pdf"),{appointment_id:n}).then((function(e){console.log(e),m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.prescription_pdf,"_blank","noreferrer")}))}catch(a){m().Notify.failure(a.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n,a,s){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s,void 0==a||null==a)m().Notify.failure("Please Add a Phone Number to send the message on WhatsApp");else{m().Loading.circle("Sending Bill on Whats App",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{r.Z.post("".concat(t,"/send/bill/whatsapp"),{appointment_id:n,check_pres:i,admin_id:N}).then((function(e){console.log(e),m().Notify.success("".concat(e.data.message).concat(1==i?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_t=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n,a,s){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s,void 0==a||null==a)m().Notify.failure("Please Add a Phone Number to send the message on SMS");else{m().Loading.circle("Sending Bill on SMS",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{r.Z.post("".concat(t,"/send/bill/sms"),{appointment_id:n,check_bill:1,check_pre:i}).then((function(e){console.log(e),m().Notify.success("".concat(e.data.message).concat(1==i?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Zt=function(){"none"===ve&&Ne("block"),"block"===ve&&(Ne("none"),le())},Dt=function(){"none"===st&&ot("block"),"block"===st&&(ot("none"),se())};return console.log(C),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{id:"doctorscheduledata",children:[(0,h.jsx)("section",{className:"timeslotsection",children:(0,h.jsxs)("div",{className:"container-fluid p-0 m-0 ps-1 ",children:[(0,h.jsx)("div",{className:"row p-0 m-0",children:(0,h.jsx)("div",{className:" col-12 p-0 m-0 align-items-center",children:(0,h.jsxs)("div",{className:"row align-items-center p-0 m-0 mt-3 mb-2 ms-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("h6",{className:"p-0 m-0 text-charcoal fw-bolder text-start",children:"Time Slots Avaliable"})}),(0,h.jsxs)("div",{className:"col-2 ps-1",children:[(0,h.jsx)("button",{className:"btn m-0 p-0",children:(0,h.jsx)("img",{src:"/images/addicon.png",style:{width:"1.5rem"},alt:"displaying_image",onClick:function(){"none"===me&&ue("block")}})}),(0,h.jsx)("div",{className:"d-".concat(me," rounded-1 quickdocslots bg-seashell shadow col-lg-6 col-md-8 col-sm-12 col-12 col-xl-4 position-absolute end-0 start-0 top-0 m-auto mt-3"),style:{zIndex:"3010",minWidth:"10rem",maxWidth:"30rem"},children:(0,h.jsx)(g,{CloseAddQuickSlots:function(){"block"===me&&ue("none")},fetchapi:e.fetchapi,DocClinic:e.DocClinic,DoctorID:e.DoctorID,DoctorName:e.DoctorName})})]})]})})}),(0,h.jsx)("div",{className:"scroll timeslots col-12 justify-content-around",children:e.todayDoc[e._selected][3].map((function(t,n){return 0==t[1]?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"button-sm button-".concat(K==n?"charcoal":"charcoal-outline"," m-1 px-3 py-2 fw-bold rounded-1"),style:{letterSpacing:"1px"},onClick:function(e){q("block"),ee(n)},children:ct(t[0])},n),K==n?(0,h.jsx)("div",{className:"d-".concat(K==n?O:"none"," col-lg-8 col-md-10 col-sm-12 col-12 col-xl-6 shadow quickappointment position-absolute m-auto start-0 end-0 bg-seashell rounded-4 border border-1"),style:{zIndex:4,top:"-3rem"},children:(0,h.jsx)(f,{fetchapi:e.fetchapi,closeAddAppointmentform:ht,DocClinic:e.DocClinic,timeindex:K,selectedtime:t[0],selectedtimeID:t[2]})}):(0,h.jsx)(h.Fragment,{})]}):(0,h.jsx)("button",{disabled:!0,className:" button-sm button-charcoal50-outline m-1 px-3 py-2 rounded-1 fw-bold",style:{letterSpacing:"1px"},children:ct(t[0])},n)}))})]})}),(0,h.jsxs)("section",{className:"allappointmentsection p-0 m-0 ms-1",children:[(0,h.jsx)("div",{className:"col-auto m-0 p-0 align-items-center",children:(0,h.jsx)("h6",{className:"p-0 ms-1 text-charcoal fw-bolder mt-3 mb-2",children:"Appointments"})}),(0,h.jsx)("div",{className:" scroll scroll-y align-content-center align-items-center",style:{minHeight:"55vh",maxHeight:"55vh",Height:"55h"},children:(0,h.jsxs)("table",{className:"table text-start",children:[(0,h.jsx)("thead",{className:"p-0 m-0 px-2 bg-pearl",style:{zIndex:"4"},children:(0,h.jsxs)("tr",{className:"p-0 m-0 position-sticky text-charcoal75 top-0",style:{fontSize:"0.75rem"},children:[(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Update"},0),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start",children:"Time"},3),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:"Patient"},2),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start",children:"Status"},1),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:" Amount"},4),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl",children:"Vitals"},6),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl d-".concat(d.appointment_charges_edit?"":"none"),children:"Bill"},7),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Consumables"},9),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"more"},9)]})}),0==A?(0,h.jsx)("tbody",{className:"scroll scroll-y",children:(0,h.jsx)("tr",{className:" position-relative text-burntumber fs-3 mt-1 text-center m-auto",children:(0,h.jsx)("td",{className:" position-absolute start-0 end-0 text-burntumber fs-3 mt-1 text-center"})})}):(0,h.jsx)("tbody",{children:0==C.length?(0,h.jsx)("tr",{children:(0,h.jsx)("button",{className:"text-center position-absolute border-0 text-charcoal fw-bold px-5 start-0 end-0 mx-auto",children:"No Appointments Found"})}):C.map((function(t,n){return(0,h.jsxs)("tr",{className:"align-middle",children:[(0,h.jsx)("td",{className:"py-0 bg-".concat(M===n?"lightyellow":"","  text-center"),children:(0,h.jsx)("button",{className:"btn m-0 p-0",onClick:function(e){"none"===G&&(R("block"),tt(!0)),B(n),Q(t.id)},children:(0,h.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image",className:"img-fluid",style:{width:"1rem"}},n)},n)}),(0,h.jsx)("td",{className:"py-0 text-start fw-bold",style:{letterSpacing:"1px"},children:ct(t.timeslot.time_from)}),(0,h.jsx)("td",{className:"py-0 ",children:(0,h.jsxs)("div",{className:"row p-0 m-0",style:{width:"fit-content"},children:[(0,h.jsx)("div",{className:"col-12 p-0 m-0 fw-bold",children:t.patient&&null!==t.patient.full_name?t.patient.full_name:"N/A"}),(0,h.jsx)("small",{className:"col-auto p-0 m-0 text-burntumber fw-bold",style:{letterSpacing:"1px"},children:t.patient&&null!=t.patient.phone_number?t.patient.phone_number:"N/A"})]})}),(0,h.jsx)("td",{className:" text-start",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsx)("div",{className:"col-1 p-0 m-0 me-2",children:(0,h.jsx)("div",{className:"rounded-circle border-1 button-".concat(ut(t.appointment_status)," fontmain"),style:{height:"12px",width:"12px"}})}),(0,h.jsx)("div",{className:"col-5 p-0 m-0",children:(0,h.jsxs)("select",{disabled:1!=d.appointment_edit,className:"bg-transparent border-0 text-start fw-bold ",name:t.id,onChange:function(e){!function(e){pt.apply(this,arguments)}(e)},children:[(0,h.jsx)("option",{className:"fw-bold",selected:!0,disabled:!0,children:mt(t.appointment_status)}),(0,h.jsx)("option",{className:"button-lightred",value:"1",children:"Pending"},0),(0,h.jsx)("option",{className:"button-lightblue",value:"2",children:"Booked"},1),(0,h.jsx)("option",{className:"button-lightred",value:"3",children:"Cancelled"},2),(0,h.jsx)("option",{className:"button-pearl",value:"4",children:"QR Generated"},3),(0,h.jsx)("option",{className:"button-brandy",value:"5",children:"Checked_in"},4),(0,h.jsx)("option",{className:"button-lightred",value:"6",children:"Vitals Done"},5),(0,h.jsx)("option",{className:"button-lightyellow",value:"7",children:"In_apppointment"},6),(0,h.jsx)("option",{className:"button-lightgreen",value:"8",children:"Payment done"},7),(0,h.jsx)("option",{className:"button-lightyellow",value:"9",children:"Unattained"},8),(0,h.jsx)("option",{className:"button-lightgreen",value:"10",children:"Completed"},9)]})})]})}),(0,h.jsxs)("td",{className:"py-0 text-start",children:[(0,h.jsxs)("div",{className:"col p-0 m-0 fw-bold fontmain",style:{fontSize:"0.75rem",letterSpacing:"1px"},children:["\u20b9",t.total_amount]}),(0,h.jsxs)("div",{className:"col p-0 m-0 text-start",children:[(0,h.jsx)("button",{className:"button-sm p-0 m-0 bg-transparent border-0",onClick:function(){Xe(n),jt()},children:(0,h.jsx)(l.Z,{appointmentData:t,index:n,Appointmentlist:rt})}),qe==n?(0,h.jsx)("td",{className:"payments start-0 bg-seashell end-0 shadow-sm top-0 border border-1 rounded-1 col-lg-6 col-md-8 col-sm-12 col-12 mt-2 col-xl-8 position-absolute px-5 py-2 d-".concat(qe==n?Ye:"none"),children:(0,h.jsx)(v.H,{ClosePaymentsForm:wt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:rt,setsingleload:L,isLoading:z,appointmentdata:C,paymentsi:qe})}):(0,h.jsx)(h.Fragment,{})]})]}),(0,h.jsx)("td",{className:" text-center py-0 bg-".concat(we===n?"lightyellow":""),children:(0,h.jsx)("button",{className:"btn p-0 m-0",onClick:function(){ke(n),"none"===xe&&fe("block"),ft(t.id)},children:(0,h.jsx)("img",{src:"/images/vitals.png",alt:"displaying_image",style:{height:"1.5rem"}})})}),(0,h.jsxs)("td",{className:" text-center py-0 d-".concat(d.appointment_charges_edit?"":"none"," bg-").concat(Te===n?"lightyellow":""),children:[" ",(0,h.jsx)("img",{src:"/images/bill.png",onClick:function(){Fe(n),"none"===Be&&We("block")},alt:"displaying_image",className:"me-1"}),"  "]}),(0,h.jsx)("td",{className:" text-center py-0  bg-".concat(re===n?"lightyellow":""),children:(0,h.jsxs)("button",{className:"button-sm border-0 p-0 m-0 position-relative bg-".concat(re===n?"lightyellow":"transparent"),children:[(0,h.jsx)("img",{src:"/images/bill.png",onClick:function(){le(n),Zt()},alt:"displaying_image",className:"me-1"}),(0,h.jsx)("span",{class:" position-absolute text-charcoal fw-bold start-75 translate-middle badge p-0 m-0 p-1 px-2 fw-normal rounded-2 bg-lightyellow",style:{zIndex:"2",top:"10%"},children:C[n].medicine_used.length})]})}),(0,h.jsx)("td",{className:"text-center",children:(0,h.jsxs)("div",{className:"dropdown d-inline-block ",children:[(0,h.jsx)("button",{className:"button p-0 m-0 bg-transparent border-0 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("img",{src:"/images/more.png",alt:"displaying_image",style:{width:"1rem"}})}),(0,h.jsxs)("ul",{className:"dropdown-menu shadow-sm p-2",style:{"-webkit-appearance":"none",appearance:"none",width:"max-content"},children:[(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){return vt(t.patient.full_name,t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/speaker.png",alt:"displaying_image",style:{width:"1.8rem"}})," Call Patient"]}),(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){kt(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image",style:{width:"2rem"}})," Generate Bill"]}),(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){St(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image",style:{width:"2rem"}})," Generate Prescription"]}),(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){Ct(e,n,1)}),(function(){Ct(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/whatsapp.png",alt:"displaying_image",style:{width:"2rem"}})," Send on Whats App"]}),(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){_t(e,n,1)}),(function(){_t(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid ms-2",src:"/images/message.png",alt:"displaying_image",style:{width:"1.8rem"}}),"Send on SMS"]}),(0,h.jsxs)("li",{className:"dropdown-item d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){Dt(),se(n)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid ms-2",src:"/images/medicine.png",alt:"displaying_image",style:{width:"1.8rem"}}),"Buy Medicines"]}),(0,h.jsxs)("li",{className:"dropdown-item p-0 m-0 align-items-center p-2  d-".concat(d.appointment_charges_edit?"flex":"none"),onClick:function(){Ve(n),jt()},children:[(0,h.jsx)("img",{src:"/images/rupee.png",alt:"displaying_image",style:{width:"0.8rem"}}),"Payments"]})]})]})}),M===n?(0,h.jsx)("td",{className:"updateappointment shadow-sm border border-1 rounded-1 bg-seashell mt-2 start-0 end-0 top-0 col-lg-8 col-md-8 col-sm-11 col-11 col-xl-5 d-".concat(M==n?G:"none"," position-absolute"),children:(0,h.jsx)(x,{fetchapi:e.fetchapi,fetchallAppointmentslist:e.fetchallAppointmentslist,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:null!=t.patient&&null!=t.patient.id?t.patient.id:"",appointmentid:t.id,addappointmentform:O,closeappointmentform:it,doctorid:e.doctorid,appointmentdoctorid:t.doctor.id,appointmentdate:t.appointment_date,appointmenttime:ct(t.timeslot.time_from)})}):(0,h.jsx)(h.Fragment,{}),we===n?(0,h.jsx)("td",{className:"vitals bg-".concat(we===n?"lightred":""," col-lg-7 col-md-8 col-sm-12 col-12 col-xl-5 position-absolute border border-1 shadow-sm rounded-1 d-").concat(we==n?xe:"none"),style:{zIndex:"3"},children:(0,h.jsx)(b,{GetAppointmentVitals:ft,CloseVitals:xt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,appointmentvitalslist:_e,loadvitals:Le,patientid:t.patient&&null!=t.patient.id?t.patient.id:""})}):(0,h.jsx)(h.Fragment,{}),Te==n?(0,h.jsx)("td",{className:"bill d-".concat(Te==n?Be:"none"," col-lg-8 p-0 m-0 col-md-10 start-0 mx-auto mt-2 end-0 top-0 col-sm-12 col-12 col-xl-6 border border-1 rounded-1 shadow-sm position-absolute"),children:(0,h.jsx)(j,{fetchapi:e.fetchapi,CloseBillForm:Nt,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",Appointmentlist:rt,setsingleload:L,isLoading:z,appointmentdata:C,appointmentid:t.id,doctorfee:t.doctor.consulationFee,billform:Be})}):(0,h.jsx)(h.Fragment,{}),Re===n?(0,h.jsx)("td",{className:"payments start-0 bg-seashell end-0 shadow-sm top-0 border border-1 rounded-1 col-lg-6 col-md-8 col-sm-12 col-12 mt-2 col-xl-8 ps-3 px-5 py-2 position-absolute d-".concat(Re==n?Ye:"none"),children:(0,h.jsx)(v.H,{ClosePaymentsForm:yt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:rt,setsingleload:L,isLoading:z,appointmentdata:C})}):(0,h.jsx)(h.Fragment,{}),re==n?(0,h.jsx)("td",{className:"consumables mx-auto position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0 col-lg-10 col-md-11 col-sm-12 col-12 mt-2 col-xl-8  d-".concat(re==n?ve:"none"),style:{zIndex:"4"},children:(0,h.jsx)(y,{appointmentdata:C[n],Appointmentlist:rt,existedconsumables:C[n].medicine_used,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,toggleConsumables:Zt})}):(0,h.jsx)(h.Fragment,{}),ae==n?(0,h.jsx)("td",{className:"saleentryform mx-auto position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0 col-lg-10 col-md-11 col-sm-12 col-12 mt-2 col-xl-8  d-".concat(ae==n?ae:"none"),style:{zIndex:"4"},children:(0,h.jsx)(w.c3,{DoctorID:e.DoctorID,DoctorName:e.DoctorName,saleindex:ae,toggle_nsef:Dt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:t.patient&&null!=t.patient.id?t.patient.id:""})}):(0,h.jsx)(h.Fragment,{})]})}))})]})})]})]})})}function S(e){var t=(0,s.useContext)(c.Jx),n=(0,s.useContext)(c.q2),l=(0,s.useState)(),d=(0,a.Z)(l,2),u=d[0],p=d[1],x=(0,s.useState)([]),f=(0,a.Z)(x,2),g=f[0],b=f[1];function v(e,t){e=e.split(":"),t=t.split(":");var n=new Date(0,0,0,e[0],e[1],0),a=new Date(0,0,0,t[0],t[1],0).getTime()-n.getTime(),s=Math.floor(a/1e3/60/60);a-=1e3*s*60*60;var o=Math.floor(a/1e3/60);return s<0&&(s+=24),(0!=s?(s<=9?"0":"")+s+"hrs ":"")+(o<=9?"0":"")+o+"mins"}function N(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}var j=(0,s.useState)([]),y=(0,a.Z)(j,2),w=y[0],k=y[1],S=(0,s.useState)(),C=(0,a.Z)(S,2),_=C[0],Z=C[1],D=(0,s.useState)(!1),A=(0,a.Z)(D,2),L=A[0],I=A[1],P=localStorage.getItem("ClinicId");function z(){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Z(!0),n.next=3,r.Z.get("".concat(t,"/todays/doctor/time/list?doctor_id=").concat(e.docid,"&clinic_id=").concat(P)).then((function(e){console.log(e),console.log(e.data.data),0==e.data.data.length||k(e.data.data.reverse()),Z(!1)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var F=(0,s.useState)(!1),E=(0,a.Z)(F,2),M=E[0],B=E[1],W=(0,s.useState)("1"),H=(0,a.Z)(W,2),G=H[0],R=H[1];function V(){return(V=(0,i.Z)((0,o.Z)().mark((function n(){var a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(I(!0),a=localStorage.getItem("id"),!(P&&G&&e.docid&&a)){n.next=16;break}return n.prev=3,n.next=6,r.Z.post("".concat(t,"/doctor/start/time"),{clinic_id:P,room_id:G,doctor_id:e.docid,admin_id:a}).then((function(e){I(!1),m().Notify.success(e.data.message)}));case 6:return n.next=8,z();case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),m().Notify.failure(n.t0.message),I(!1);case 14:n.next=18;break;case 16:m().Notify.alert("Please fill all details"),I(!1);case 18:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}function U(e){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)((0,o.Z)().mark((function e(n){var a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("id"),B(!0),s=n.id,e.prev=3,e.next=6,r.Z.post("".concat(t,"/doctor/end/time"),{admin_id:a,log_id:s}).then((function(e){m().Notify.success(e.data.message)}));case 6:return e.next=8,z();case 8:B(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),m().Notify.failure(e.t0.message),B(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){z()}),[e._selected]),(0,s.useEffect)((function(){for(var e=0;e<n.length;e++)n[e].id==Number(P)&&b(n[e].rooms)}),[P]),(0,h.jsxs)("div",{className:"scroll room_timecards align-items-center align-content-center my-auto mb-2 ms-2",children:[(0,h.jsx)("div",{id:"cardslot",className:"d-".concat(_?"none":"inline-flex"),children:(0,h.jsx)("div",{className:"card card1 p-0 m-0 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex align-items-center ms-3",children:[(0,h.jsx)("p",{className:" m-0 p-0 text-charcoal fw-bold me-2",children:"Room"}),(0,h.jsx)("select",{onChange:function(e){R(e.target.value)},className:"form-control bg-charcoal25 text-charcoal my-1 mx-2 p-0 py-2 px-3 w-auto text-center border-0",id:"clinicroom1",children:g.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.room_number})}))}),L?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("button",{className:"btn playbutton p-0 m-0 mx-2",onClick:function(){return V.apply(this,arguments)},children:(0,h.jsx)("img",{src:"images/play.png",style:{width:"1.8rem"}})})]})})})}),_?(0,h.jsx)("div",{className:"card bg-pearl text-center ms-3 bg-seashell","aria-hidden":"true",style:{width:"18rem",paddingTop:"0.76rem",paddingBottom:"0.76rem"},children:(0,h.jsxs)("div",{className:" text-start placeholder-glow gx-2",children:[(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-2 ms-2 text-start"})]})}):w.map((function(e,t){return(0,h.jsx)("div",{id:"cardslot text-start",className:"d-inline-flex m-1",children:(0,h.jsx)("div",{className:"card p-0 m-0 py-1 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex text-start align-items-center p-0 m-0 ",children:[(0,h.jsx)("p",{className:" p-0 m-0  ms-2 text-charcoal75 fw-bold me-1 ps-2 ",style:{fontSize:"0.75rem"},children:"Room"}),(0,h.jsx)("h5",{className:"text-burntumber fw-semibold my-1 me-2 border-0",id:"clinicroom",children:e.room_id}),M&&t===u?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"d-flex p-0 m-0 justify-content-center",children:[(0,h.jsx)("button",{type:"text",className:"btn fromtime p-0 m-0 float-end text-charcoal text-center",style:{fontSize:"0.75rem"},children:e.login_time?N(e.login_time):""}),(0,h.jsx)("div",{className:"mx-1 align-self-center",style:{padding:"0.9px"},children:"-"}),(0,h.jsx)("button",{type:"text",className:"btn totime p-0 m-0 text-charcoal float-end text-center",style:{fontSize:"0.75rem"},children:e.logout_time?N(e.logout_time):"__"})]}),(0,h.jsx)("div",{className:"d-flex mx-2 ",children:e.logout_time?(0,h.jsx)("div",{id:"totalhrs",className:" p-0 m-0 timediff text-burntumber fw-bold text-center pe-2",defaultValue:"",style:{fontSize:"0.75rem"},children:e.logout_time?v(e.login_time,e.logout_time):""}):(0,h.jsx)("button",{className:"btn p-0 m-0 pausebutton",value:e.id,onClick:function(n){U(e),p(t)},children:(0,h.jsx)("img",{className:"",src:"images/pause.png",onClick:function(e){U(e),p(t)},style:{width:"1.8rem"}})})})]})]})})})},t)}))]})}var C=n(7485),_=(0,s.createContext)(),Z=(0,s.createContext)();var D=function(e){var t=(0,s.useContext)(c.Pl),n=(0,s.useState)(0),o=(0,a.Z)(n,2),i=o[0],r=o[1],l=(0,s.useState)(0),d=(0,a.Z)(l,2),m=d[0],u=d[1],p=(0,s.useState)(),x=(0,a.Z)(p,2),f=x[0],g=x[1],b=(0,s.useState)(),v=(0,a.Z)(b,2),N=v[0],j=v[1],y=(0,s.useState)(),w=(0,a.Z)(y,2),D=w[0],A=w[1],L=(0,s.useState)([0]),I=(0,a.Z)(L,2),P=I[0],z=(I[1],(0,s.useState)("none")),T=(0,a.Z)(z,2),F=T[0],E=T[1],M=function(){"none"===F&&(r(1),E("block")),"block"===F&&(r(0),E("none"))};return function(){for(var e=0;e<P.length&&!P.includes(m);e++)P.push(m)}(),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"container-fluid doctorsection p-0 m-0 mt-1 ps-1 scroll",children:(0,h.jsxs)("div",{className:" hstack gap-3 d-flex p-0 m-0 py-1 ps-1 align-items-center",children:[e.isLoading?(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"2rem",height:"2rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]}),(0,h.jsxs)("div",{className:"spinner-grow my-auto",style:{width:"1.5rem",height:"1.5rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]})," "]}):e.todayDoc.map((function(e,t){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-auto doctors p-0 m-0",children:(0,h.jsxs)("button",{className:" button rounded-1 p-0 m-0 py-1 px-3 btn-sm col-auto shadow-none text-".concat(t===m?"light":"charcoal75 fw-bolder"," button-").concat(t===m?"charcoal":"pearl"," border-").concat(t===m?"secondary":"none"),style:{fontSize:"0.9rem"},autoFocus:t===m,onFocus:function(){g(e[0]),j(e[1]),A(e[2])},value:"".concat(e[0],".").concat(e[1]),onClick:function(n){u(t),g(e[0]),j(e[1])},children:["Dr. ".concat(e[1])," "]},t)}),(0,h.jsx)("div",{className:"vr rounded-1 h-75 align-self-center",style:{padding:"0.8px"}})]})})),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"btn bg-transparent border-0 ",id:"adddoctorbtn",onClick:M,children:(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",style:{width:"1.5rem"}})})})]})}),(0,h.jsx)("section",{className:"patientsection p-0 m-0 ps-1 position-relative",children:e.Loading?(0,h.jsxs)("div",{className:" position-absolute start-0 ms-2 end-0 m-auto loader ",children:[(0,h.jsxs)("button",{class:"button button-pearl shadow-none fs-3 fw-bolder text-charcoal75",type:"button",disabled:!0,children:["Please Be Patient While We are Fetching Data",(0,h.jsx)("span",{class:"spinner-grow spinner-grow ms-1 bg-brandy ",role:"status","aria-hidden":"true"})]}),(0,h.jsxs)("button",{class:"button button-pearl shadow-none m-0 p-0 ",type:"button",disabled:!0,children:[(0,h.jsx)("span",{class:"spinner-grow spinner-grow bg-raffia",role:"status","aria-hidden":"true"}),(0,h.jsx)("span",{class:"spinner-grow spinner-grow-md ms-1 bg-burntumber",role:"status","aria-hidden":"true"}),(0,h.jsx)("span",{class:"spinner-grow spinner-grow-lg ms-1 bg-charcoal75",role:"status","aria-hidden":"true"}),(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})]})]}):e.todayDoc&&0!=e.todayDoc.length?P.map((function(n,a){return n==m?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"p-0 m-0 my-2 d-".concat(1==t.dashboard_all?"":"none"),children:(0,h.jsx)(S,{docid:e.todayDoc[m][0],_selected:m})}),(0,h.jsx)("div",{className:"p-0 m-0 my-2",children:(0,h.jsx)(_.Provider,{value:N,children:(0,h.jsx)(Z.Provider,{value:f,children:(0,h.jsx)(k,{todayDoc:e.todayDoc,DoctorID:f,DoctorName:N,_selected:m,fetchapi:e.fetchapi,DocClinic:D})})})})]},a):(0,h.jsx)("div",{})})):(0,h.jsx)("div",{className:"container-fliud pt-3",children:(0,h.jsxs)("div",{className:"d-flex fs-2 align-items-center justify-content-around",children:[(0,h.jsx)("strong",{className:"text-burntumber",children:"Please Wait..."}),(0,h.jsx)("div",{className:"text-burntumber spinner-border ml-auto",role:"status","aria-hidden":"true"})]})})}),1==i?(0,h.jsx)("div",{className:"col-lg-5 col-md-6 col-sm-12 col-12 doctorinfosection d-".concat(F," me-lg-2 top-0  me-md-2 rounded-4 border bg-seashell shadow-sm position-absolute"),style:{zIndex:"2",marginTop:"5.1rem"},children:(0,h.jsx)(_.Provider,{value:N,children:(0,h.jsx)(Z.Provider,{value:f,children:(0,h.jsx)(C.c,{toggledoctorform:M,staticBackdrop4:"staticBackdrop4",fetchapi:e.fetchapi})})})}):(0,h.jsx)(h.Fragment,{})]})}},7485:function(e,t,n){"use strict";n.d(t,{c:function(){return p}});var a=n(4165),s=n(5861),o=n(9439),i=n(9867),r=n(606),l=n(7992),c=n.n(l),d=n(4012),m=n(811),u=n(2834),p=function(e){var t=(0,i.useContext)(m.Jx),n=((0,i.useContext)(m.U8),(0,i.useContext)(m.j8)),l=(0,i.useContext)(m.zS),p=(0,i.useContext)(m.q2),h=localStorage.getItem("ClinicId"),x=(0,i.useState)(),f=(0,o.Z)(x,2),g=f[0],b=f[1],v=(0,i.useState)(),N=(0,o.Z)(v,2),j=N[0],y=N[1],w=(0,i.useState)(),k=(0,o.Z)(w,2),S=k[0],C=k[1],_=(0,i.useState)(),Z=(0,o.Z)(_,2),D=Z[0],A=Z[1],L=(0,i.useState)(),I=(0,o.Z)(L,2),P=I[0],z=I[1],T=localStorage.getItem("id");function F(){return(F=(0,s.Z)((0,a.Z)().mark((function n(s){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(g&&j&&S&&D&&h&&T)){n.next=6;break}return z(!0),n.next=4,r.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:g,date:j,time_from:S,time_to:D,clinic_id:h,admin_id:T}).then((function(t){e.toggledoctorform(),B(),z(!1),e.fetchapi(),c().Notify.success(t.data.message)}));case 4:n.next=8;break;case 6:c().Notify.warning("Please Fill all Detais"),z(!1);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var E=(0,i.useState)("none"),M=(0,o.Z)(E,2),B=(M[0],M[1],function(){b(),y(),C(),A()}),W=function(e){for(var t=0;t<l.length;t++)if(void 0!==l[t][0]&&l[t][0]==e)return"(Already added)"};return(0,u.jsxs)("div",{className:"container px-2 fw-bold",children:[(0,u.jsx)("h5",{className:"text-center mt-2 fw-bold",children:"Slot Details"}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==P,"aria-label":"Close",onClick:e.toggledoctorform}),(0,u.jsx)("hr",{}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("label",{className:"ps-1",children:"Doctor"}),(0,u.jsxs)("select",{className:"col-10 form-control selectdoctor",value:g||"",onChange:function(e){b(e.target.value)},children:[(0,u.jsx)("option",{defaultValue:"Select Doctor",children:"Select Doctor"}),n.map((function(e){return(0,u.jsxs)("option",{value:e[0],children:["Dr. ",e[1]," ",W(e[0])]})}))]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Clinic"}),(0,u.jsx)("div",{className:"col-12",children:p.map((function(e,t){return(0,u.jsxs)("label",{className:"d-".concat(h==e.id?"block":"none"," text-burntumber"),children:[(0,u.jsx)("input",{type:"checkbox",className:"radio form-check-input me-1",checked:h==e.id})," ",e.title," ",e.address]})}))}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Date"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"date",className:"form-control col-10",value:j||"",onChange:function(e){y(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time From"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:S||"",onChange:function(e){C(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time To"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:D||"",onChange:function(e){A(e.target.value)}})}),(0,u.jsx)("hr",{}),P?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("button",{type:"button",className:"button button-charcoal px-5",onClick:function(e){e.preventDefault(),(0,d.H)(),c().Confirm.show("Add Doctor Time Slots","Do you surely want to add the following Doctor","Yes","No",(function(){!function(e){F.apply(this,arguments)}()}),(function(){return 0}),{})},children:" Done "})}),(0,u.jsx)("div",{className:"col-6 pb-2 m-auto text-center",children:(0,u.jsx)("button",{className:"btn btn-light px-5",onClick:B,children:"Reset"})})]})]})}},6964:function(e,t,n){var a,s;s="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:this,a=function(){return function(e){"use strict";if("undefined"===typeof e&&"undefined"===typeof e.document)return!1;var t,n="Notiflix",a="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",s='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',o={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},i={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},r=function(e){return console.error("%c "+n+" Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+a)},l=function(t){return t||(t="head"),null!==e.document[t]||(r('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},c=function(t,n){if(!l("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var a=e.document.createElement("style");a.id=n,a.innerHTML=t(),e.document.head.appendChild(a)}},d=function e(){var t={},n=!1,a=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],a++);for(var s=function(a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n&&"[object Object]"===Object.prototype.toString.call(a[s])?t[s]=e(t[s],a[s]):t[s]=a[s])};a<arguments.length;a++)s(arguments[a]);return t},m=function(t){var n=e.document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},u=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},p=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},h=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+e+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+e+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+t+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},x=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},f=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},g=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},b=function(e,t,n){return e||(e="60px"),t||(t="#f8f8f8"),n||(n="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+t+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+n+'" stroke="'+n+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'},v=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},N=function(n,a,c,v,N){if(!l("body"))return!1;t||y.Loading.init({});var j=d(!0,t,{});if("object"===typeof a&&!Array.isArray(a)||"object"===typeof c&&!Array.isArray(c)){var w={};"object"===typeof a?w=a:"object"===typeof c&&(w=c),t=d(!0,t,w)}var k="";if("string"===typeof a&&a.length>0&&(k=a),v){var S="";(k=k.length>t.messageMaxLength?m(k).toString().substring(0,t.messageMaxLength)+"...":m(k).toString()).length>0&&(S='<p id="'+t.messageID+'" class="nx-loading-message" style="color:'+t.messageColor+";font-size:"+t.messageFontSize+';">'+k+"</p>"),t.cssAnimation||(t.cssAnimationDuration=0);var C="";if(n===o.Standard)C=u(t.svgSize,t.svgColor);else if(n===o.Hourglass)C=p(t.svgSize,t.svgColor);else if(n===o.Circle)C=h(t.svgSize,t.svgColor);else if(n===o.Arrows)C=x(t.svgSize,t.svgColor);else if(n===o.Dots)C=f(t.svgSize,t.svgColor);else if(n===o.Pulse)C=g(t.svgSize,t.svgColor);else if(n===o.Custom&&null!==t.customSvgCode&&null===t.customSvgUrl)C=t.customSvgCode||"";else if(n===o.Custom&&null!==t.customSvgUrl&&null===t.customSvgCode)C='<img class="nx-custom-loading-icon" width="'+t.svgSize+'" height="'+t.svgSize+'" src="'+t.customSvgUrl+'" alt="Notiflix">';else{if(n===o.Custom&&(null===t.customSvgUrl||null===t.customSvgCode))return r('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;C=b(t.svgSize,"#f8f8f8","#32c682")}var _=parseInt((t.svgSize||"").replace(/[^0-9]/g,"")),Z=e.innerWidth,D=_>=Z?Z-40+"px":_+"px",A='<div style="width:'+D+"; height:"+D+';" class="'+t.className+"-icon"+(k.length>0?" nx-with-message":"")+'">'+C+"</div>",L=e.document.createElement("div");L.id=i.ID,L.className=t.className+(t.cssAnimation?" nx-with-animation":"")+(t.clickToClose?" nx-loading-click-to-close":""),L.style.zIndex=t.zindex,L.style.background=t.backgroundColor,L.style.animationDuration=t.cssAnimationDuration+"ms",L.style.fontFamily='"'+t.fontFamily+'", '+s,L.style.display="flex",L.style.flexWrap="wrap",L.style.flexDirection="column",L.style.alignItems="center",L.style.justifyContent="center",t.rtl&&(L.setAttribute("dir","rtl"),L.classList.add("nx-rtl-on")),L.innerHTML=A+S,e.document.getElementById(L.id)||(e.document.body.appendChild(L),t.clickToClose&&e.document.getElementById(L.id).addEventListener("click",(function(){L.classList.add("nx-remove");var e=setTimeout((function(){null!==L.parentNode&&(L.parentNode.removeChild(L),clearTimeout(e))}),t.cssAnimationDuration)})))}else if(e.document.getElementById(i.ID))var I=e.document.getElementById(i.ID),P=setTimeout((function(){I.classList.add("nx-remove");var e=setTimeout((function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(e))}),t.cssAnimationDuration);clearTimeout(P)}),N);t=d(!0,t,j)},j=function(n){"string"!==typeof n&&(n="");var a=e.document.getElementById(i.ID);if(a)if(n.length>0){n=n.length>t.messageMaxLength?m(n).substring(0,t.messageMaxLength)+"...":m(n);var s=a.getElementsByTagName("p")[0];if(s)s.innerHTML=n;else{var o=e.document.createElement("p");o.id=t.messageID,o.className="nx-loading-message nx-loading-message-new",o.style.color=t.messageColor,o.style.fontSize=t.messageFontSize,o.innerHTML=n,a.appendChild(o)}}else r("Where is the new message?")},y={Loading:{init:function(e){t=d(!0,i,e),c(v,"NotiflixLoadingInternalCSS")},merge:function(e){if(!t)return r("You have to initialize the Loading module before call Merge function."),!1;t=d(!0,t,e)},standard:function(e,t){N(o.Standard,e,t,!0,0)},hourglass:function(e,t){N(o.Hourglass,e,t,!0,0)},circle:function(e,t){N(o.Circle,e,t,!0,0)},arrows:function(e,t){N(o.Arrows,e,t,!0,0)},dots:function(e,t){N(o.Dots,e,t,!0,0)},pulse:function(e,t){N(o.Pulse,e,t,!0,0)},custom:function(e,t){N(o.Custom,e,t,!0,0)},notiflix:function(e,t){N(o.Notiflix,e,t,!0,0)},remove:function(e){"number"!==typeof e&&(e=0),N(null,null,null,!1,e)},change:function(e){j(e)}}};return"object"===typeof e.Notiflix?d(!0,e.Notiflix,{Loading:y.Loading}):{Loading:y.Loading}}(s)}.apply(t,[]),void 0===a||(e.exports=a)}}]);
//# sourceMappingURL=920.3fb99da6.chunk.js.map