"use strict";(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[589],{3225:function(e,t,n){n.r(t),n.d(t,{DOCTORID:function(){return P},DOCTORNAME:function(){return A},default:function(){return F}});var s=n(9439),a=n(9867),o=n(4165),c=n(5861),i=n(606),l=n(8238),r=n(6626),d=n(7992),m=n.n(d),u=n(4012),p=n(6964),h=(n(6479),n(2834)),x=function(e){(0,a.useRef)(null);var t=localStorage.getItem("ClinicId"),n=localStorage.getItem("id"),l=(0,a.useContext)(r.Jx),d=(0,a.useContext)(r.BV),p=(0,a.useContext)(r.j8),x=(0,a.useContext)(r.zS),f=(0,a.useState)([]),b=(0,s.Z)(f,2),g=b[0],j=b[1],N=(0,a.useState)(),v=(0,s.Z)(N,2),y=v[0],w=v[1],k=(0,a.useState)(t),_=(0,s.Z)(k,2),Z=_[0],C=(_[1],(0,a.useState)()),S=(0,s.Z)(C,2),D=S[0],A=S[1],P=(0,a.useState)(),F=(0,s.Z)(P,2),L=F[0],I=F[1],E=(0,a.useState)(),z=(0,s.Z)(E,2),T=(z[0],z[1],(0,a.useState)()),B=(0,s.Z)(T,2),G=B[0],R=B[1],W=(0,a.useState)(),M=(0,s.Z)(W,2),H=M[0],O=M[1],U=(0,a.useState)(),q=(0,s.Z)(U,2),V=q[0],J=q[1];function Q(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,a.useEffect)((function(){i.Z.get("".concat(l,"/clinic/list")).then((function(e){j(e.data.data)}))}),[]);var Y=(0,a.useRef)(),$=(0,a.useRef)(),K=(0,a.useState)(!1),X=(0,s.Z)(K,2),ee=X[0],te=X[1];function ne(){return(ne=(0,c.Z)((0,o.Z)().mark((function t(){var n,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(w(e.appointmentdoctorid),Y.current.value="",$.current.value=e.appointmentdoctorid,n=[],O([]),s=0;s<d.length;s++)d[s].id===Number(e.appointmentdoctorid)&&n.push(d[s].month_timeslots);O(n),te(!0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(){return(se=(0,c.Z)((0,o.Z)().mark((function t(){var n,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(J(),n=[],s=0;s<H[0].length;s++)H[0][s].date===e.appointmentdate&&n.push([H[0][s].id,H[0][s].time_from,H[0][s].booking_status]);J(n),te(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,a.useEffect)((function(){!function(){ne.apply(this,arguments)}(),Y.current.value=e.appointmentdate}),[1]),(0,a.useEffect)((function(){!function(){se.apply(this,arguments)}()}),[ee]);function ae(){return(ae=(0,c.Z)((0,o.Z)().mark((function e(t){var n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(w(t.target.value),Y.current.value="",n=[],O([]),s=0;s<d.length;s++)d[s].id===Number(t.target.value)&&n.push(d[s].month_timeslots);O(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=(0,c.Z)((0,o.Z)().mark((function e(t){var n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(J([]),n=[],s=0;s<H[0].length;s++)H[0][s].date===t.target.value&&n.push([H[0][s].id,H[0][s].time_from,H[0][s].booking_status]);J(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(t){if(e.appointmentid&&y&&Z&&D&&n&&null!=e.patientid&&0!=e.patientid)try{R(!0),i.Z.post("".concat(l,"/update/appointment"),{appointment_id:e.appointmentid,doctor_id:y,clinic_id:Z,timeslot_id:D,patient_id:e.patientid,admin_id:n}).then((function(t){t?(e.appointmentdoctorid||e.fetchallAppointmentslist(),e.fetchapi(),m().Notify.success(t.data.message),R(!1)):(m().Notify.alert("Failed to Update"),R(!1))}))}catch(t){m().Notify.alert(t.message),R(!1)}else m().Notify.warning("Please Fill all Detais"),R(!1)}var ie=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"charcoal"},le=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"(Aval today) "};return(0,h.jsxs)("div",{className:"p-0 m-0 text-start",children:[(0,h.jsxs)("h5",{className:"text-center p-2",children:["Update ",e.patientname," Appointment Details"]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==G,"aria-label":"Close",onClick:e.closeappointmentform}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsxs)("div",{className:"col-12 ps-1",children:[(0,h.jsx)("div",{className:"col-12 clinics bg-seashell border-0 p-2",children:g.map((function(e,n){return(0,h.jsx)("div",{className:"d-".concat(t==e.id?"block":"none"," align-items-end text-charcoal "),children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-end",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 me-1",children:(0,h.jsx)("img",{className:"img-fluid",src:"/images/location.png",style:{width:"1.3rem"}})}),(0,h.jsxs)("div",{className:"col-auto p-0 m-0 fw-bold text-wrap mb-2",style:{letterSpacing:"1px"},children:[e.title," ",e.address]})]})},n)}))}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 pe-2",children:[(0,h.jsxs)("div",{className:"col-md-4 col-sm-4 col-4",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Doctor"}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("select",{className:"col-10 form-control selectdoctor border-charcoal rounded-1 bg-seashell",ref:$,onChange:function(e){return ae.apply(this,arguments)},children:[(0,h.jsx)("option",{defaultValue:"Select Doctor bg-seashell",children:"Select Doctor"}),x?p.map((function(t,n){return(0,h.jsxs)("option",{className:" text-".concat(ie(t[0])?"pearl":ie(t[0])," bg-").concat(ie(t[0])?ie(t[0]):"seashell"),name:ie(t[0])?"Currently Avaliable":"",selected:t[0]===e.appointmentdoctorid,value:t[0],children:["Dr. ",t[1]," ",le(t[0])]})})):(0,h.jsx)("div",{children:"Loading"})]})})]}),(0,h.jsxs)("div",{className:"col-md-auto col-auto m-0 p-0",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Date"}),(0,h.jsx)("div",{className:" border-0 col-12 bg-seashell ",children:(0,h.jsx)("input",{type:"date",ref:Y,className:"form-control bg-seashell rounded-1 border-charcoal",onChange:function(e){return oe.apply(this,arguments)}})})]}),(0,h.jsxs)("div",{className:"col-md-3 col-sm-3 col-lg-3 col-3",children:[(0,h.jsx)("label",{className:"text-charcoal50 fw-bold",children:"Selected Time"}),(0,h.jsx)("div",{className:"col-12 p-0 m-0 selectedtime",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline rounded-1 fw-bold shadow-none",style:{letterSpacing:"1px"},children:e.appointmenttime})})]})]}),(0,h.jsx)("p",{className:"m-0 mt-2 fw-bold ps-2 pt-2",style:{letterSpacing:"1px"},children:"Select another Time Slot"}),(0,h.jsx)("div",{className:"scroll align-items-center justify-content-around col-12 ps-2",children:V&&0!==V.length?(0,h.jsxs)(h.Fragment,{children:[V.map((function(e,t){return 0==e[2]?(0,h.jsx)("button",{className:"button-sm button-".concat(L==t?"charcoal":"charcoal-outline"," px-3 py-2 rounded-1 fw-bold m-1"),style:{letterSpacing:"1px"},id:t,value:e[0],onClick:function(e){!function(e){e.preventDefault(),A(e.target.value)}(e),I(t)},children:Q(e[1])}):(0,h.jsx)("button",{disabled:!0,className:"button-sm button-charcoal50-outline rounded-1 px-3 py-2 m-1 fw-bold",style:{letterSpacing:"1px"},id:t,value:e[0],children:Q(e[1])})})),(0,h.jsxs)("button",{className:"btn btn-sm done m-1 d-none",children:[(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",className:"mb-1 me-1",style:{width:"1.2rem"}})," Time Slot"]})]}):(0,h.jsx)("div",{className:"p-2 rounded fw-bold text-burntumber bg-lightred",children:"No Time Slots Available"})}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"row m-0 p-0",children:G?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{className:"btn button-charcoal",onClick:function(t){t.preventDefault(),(0,u.H)(),m().Confirm.show("Update Appointment Details","Do you surely want to update ".concat(e.patientname," Appointment Details"),"Yes","No",(function(){ce()}),(function(){return 0}),{})},children:"Update"})}),(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{type:"button",className:"button button-pearl",disabled:1==G,"aria-label":"Close",onClick:e.closeappointmentform,children:"Cancel"})})]})})]})]})},f=(n(9371),function(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(A),l=(0,a.useContext)(P),d=((0,a.useContext)(r.zS),(0,a.useContext)(r.j8),(0,a.useContext)(r.q2)),u=(0,a.useContext)(r.U8),p=localStorage.getItem("id"),x=localStorage.getItem("ClinicId"),f=(0,a.useState)(),b=(0,s.Z)(f,2),g=b[0],j=b[1],N=(0,a.useState)([]),v=(0,s.Z)(N,2),y=v[0],w=v[1],k=(0,a.useState)("none"),_=(0,s.Z)(k,2),Z=_[0],C=_[1],S=(0,a.useState)(),D=(0,s.Z)(S,2),F=D[0],L=D[1],I=(0,a.useState)(x),E=(0,s.Z)(I,2),z=E[0],T=(E[1],(0,a.useState)()),B=(0,s.Z)(T,2),G=(B[0],B[1],(0,a.useState)(!1)),R=(0,s.Z)(G,2),W=R[0],M=R[1],H=(0,a.useState)(),O=(0,s.Z)(H,2),U=O[0],q=O[1];function V(){return(V=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),j(n.target.value),e.next=4,i.Z.get("".concat(t,"/patient/list?search=").concat(g,"&limit=5&offset=0")).then((function(e){w(e.data.data.patients_list),M(!1)}));case 4:g&&g.length>1?C("block"):C("none");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h5",{className:"text-center m-0 p-0 mt-2",children:["Quick Appointment  at ",(0,h.jsx)("span",{className:" text-charcoal fw-bold border-0 fs-6",children:function(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(e.selectedtime)})]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute top-0 mt-2",disabled:1==U,"aria-label":"Close",onClick:function(t){e.closeAddAppointmentform()}}),(0,h.jsx)("hr",{className:"p-0 m-0 mb-1"}),(0,h.jsx)("div",{className:" text-start p-0 m-0 ms-3 clinics align-items-end mb-2 fw-bold text-burntumber ",children:d.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(x==e.id?"block":"none"),children:[(0,h.jsx)("img",{src:"/images/location.png",className:" align-self-center "})," ",e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("input",{type:"text",placeholder:"Search Patient using Number or Name",className:"form-control bg-pearl border-0",value:g||"",onChange:function(e){!function(e){V.apply(this,arguments)}(e)}}),(0,h.jsx)("div",{className:"col-6 position-absolute d-".concat(Z," bg-pearl rounded-2 shadow mt-1 pb-2 "),style:{zIndex:3},children:W?(0,h.jsx)("div",{className:" col-12 text-charcoal75 p-0 m-0 py-2 fw-bold text-start ps-2 mt-1",children:"Loading... "}):void 0!==y&&0==y.length?(0,h.jsx)("div",{className:"text-burntumber col-12 p-0 m-0 fw-bold mt-1 ps-2 pt-1",children:"Patient not found"}):(0,h.jsx)("div",{className:"mt-1 searchresult bg-pearl  col-12  ",children:y.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer"},className:"col-12 d-block p-2 fw-bold text-charcoal text-start border-bottom align-self-center",name:e.id,value:e.full_name,onClick:function(){!function(e){j(e.full_name),L(e.id),C("none")}(e)},children:[e.full_name," ",(0,h.jsx)("span",{className:"fw-bold text-burntumber",children:e.phone_number})]})}))})})]}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsxs)("div",{className:"d-flex p-0 m-0 text-start justify-content-around",children:[(0,h.jsxs)("div",{className:"button button-charcoal50-outline align-self-center ",children:[" Dr.",n]}),(0,h.jsx)("div",{className:"button button-charcoal50-outline ms-3",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(u)})]})})]}),U?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("div",{className:"col-6 donebutton py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){q(!0),F&&l&&z&&e.selectedtimeID[0]&&p?i.Z.post("".concat(t,"/add/appointment"),{patient_id:F,doctor_id:l,clinic_id:z,timeslot_id:e.selectedtimeID[0],admin_id:p}).then((function(t){m().Notify.success(t.data.message),q(!1),e.closeAddAppointmentform(),e.fetchapi()})):(m().Notify.warning("Please Fill all Detais"),q(!1))},children:" Done "})})]})}),b=function(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.U8),l=(0,a.useContext)(A),d=(0,a.useContext)(P),p=((0,a.useContext)(r.j8),(0,a.useContext)(r.q2)),x=localStorage.getItem("id"),f=localStorage.getItem("ClinicId"),b=(0,a.useState)(),g=(0,s.Z)(b,2),j=(g[0],g[1],(0,a.useState)()),N=(0,s.Z)(j,2),v=(N[0],N[1],(0,a.useState)()),y=(0,s.Z)(v,2),w=y[0],k=y[1],_=(0,a.useState)(),Z=(0,s.Z)(_,2),C=Z[0],S=Z[1],D=(0,a.useState)(f),F=(0,s.Z)(D,2),L=F[0];F[1];function I(){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)((0,o.Z)().mark((function s(){return(0,o.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(d&&n&&w&&C&&L&&x)){s.next=6;break}return m().Loading.pulse({backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E"}),s.next=4,i.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:d,date:n,time_from:w,time_to:C,clinic_id:L,admin_id:x}).then((function(t){m().Loading.remove(),e.CloseAddQuickSlots(),e.fetchapi(),m().Notify.success(t.data.message)}));case 4:s.next=7;break;case 6:m().Notify.warning("Please Fill all Detais");case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:"container position-relative",children:[(0,h.jsx)("h5",{className:"text-center pt-1",children:"Quick Add TimeSlots"}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute","aria-label":"Close",onClick:e.CloseAddQuickSlots}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsx)("div",{className:"col-12 text-center clinics",children:p.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(f==e.id?"block":"none"," img-fluid"),children:[(0,h.jsx)("img",{src:"/images/location.png"}),e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row mt-2 justify-content-center gx-2",children:[(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline",children:l})}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("div",{type:"date",disabled:!0,className:"form-control col-10 button button-charcoal50-outline",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(n)})})]}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 justify-content-center",children:[(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:w||"",onChange:function(e){k(e.target.value)}})}),(0,h.jsx)("div",{className:"col-auto",children:"-"}),(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:C||"",onChange:function(e){S(e.target.value)}})})]}),(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,u.H)(),m().Confirm.show("Update Doctor Slot","Do you surely want to add more Time Slots of Dr. ".concat(l),"Yes","No",(function(){I()}),(function(){return 0}),{})},children:" Done "})})]})},g=function(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.JC),l=(0,a.useState)(),d=(0,s.Z)(l,2),u=d[0],p=d[1],x=(0,a.useState)(),f=(0,s.Z)(x,2),b=f[0],g=f[1],j=(0,a.useState)(),N=(0,s.Z)(j,2),v=N[0],y=N[1],w=(0,a.useState)(),k=(0,s.Z)(w,2),_=k[0],Z=k[1],C=(0,a.useState)(0),S=(0,s.Z)(C,2),D=S[0],A=S[1],P=(0,a.useState)("none"),F=(0,s.Z)(P,2),L=F[0],I=F[1],E=(0,a.useState)("block"),z=(0,s.Z)(E,2),T=z[0],B=z[1];function G(e){var t;for(var s in n)n[s].id==e&&(t=n[s].unit);return t}function R(){return(R=(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y(!0),n.prev=1,!(u&&b&&e.appointmentid&&e.patientid)){n.next=7;break}return n.next=5,i.Z.post("".concat(t,"/save/vitals"),{vitals_id:u,value:b,appointment_id:e.appointmentid,patient_id:e.patientid}).then((function(t){e.GetAppointmentVitals(e.appointmentid),m().Notify.success(t.data.message),g(),p(),H(),y(!1)}));case 5:n.next=9;break;case 7:m().Notify.warning("Please Fill all Details"),y(!1);case 9:n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),m().Notify.alert(n.t0.message),y(!1);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}function W(){return W=(0,c.Z)((0,o.Z)().mark((function n(s,a){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(s&&_&&a&&e.appointmentid&&e.patientid)){n.next=6;break}return n.next=4,i.Z.post("".concat(t,"/save/vitals"),{vitals_id:s,value:_,appointment_id:e.appointmentid,patient_id:e.patientid,old_id:a}).then((function(t){e.GetAppointmentVitals(e.appointmentid),H(),m().Notify.success(t.data.message)}));case 4:n.next=7;break;case 6:m().Notify.warning("Please Fill all Details");case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),m().Notify.alert(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),W.apply(this,arguments)}function M(){return M=(0,c.Z)((0,o.Z)().mark((function n(s){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=5;break}return n.next=3,i.Z.post("".concat(t,"/remove/vitals"),{id:s}).then((function(t){200==t.status?m().Notify.success(t.data.message):m().Notify.alert("Something Went Wrong"),e.GetAppointmentVitals(e.appointmentid)}));case 3:n.next=6;break;case 5:m().Notify.alert("Delete Failed Please Try again");case 6:case"end":return n.stop()}}),n)}))),M.apply(this,arguments)}function H(){"none"==T&&(B("block"),I("none"),A())}return(0,h.jsxs)("div",{className:"container-fluid col-lg-10 col-md-11 col-sm-12 col-12 col-xl-10 bg-seashell rounded-2 position-relative pb-4 pt-2",children:[(0,h.jsxs)("h5",{className:"p-1 text-center",children:[e.patientname," Vitals"]}),(0,h.jsx)("button",{className:" btn-close position-absolute top-0 end-0 m-1 me-2 pt-3",disabled:!!e.loadvitals,onClick:e.CloseVitals}),(0,h.jsx)("button",{className:"btn p-0 m-0 position-absolute top-0 start-0 ms-2 mt-1",onClick:function(){e.GetAppointmentVitals(e.appointmentid),H()},children:(0,h.jsx)("img",{src:"/images/refresh.png",className:"img-fluid",style:{width:"1.2rem"}})}),e.loadvitals?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):0==e.appointmentvitalslist.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"bg-lightred p-2 mb-2 text-center align-items-center ",children:(0,h.jsx)("h6",{className:"text-center text-charcoal-75 fw-bold mb-0",children:"No Vitals Added"})})}):e.appointmentvitalslist.map((function(e,t){return(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsx)("select",{className:"form-control text-center border border-1 p-0 border-0 bg-seashell",value:e.id?e.id:"",children:(0,h.jsx)("option",{value:e.id,children:e.vital.title})})}),(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==D?T:"block"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",disabled:!0,value:e.value})}),t==D?(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==D?L:"none"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",onChange:function(e){return Z(e.target.value)}})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-1 p-0 m-0",children:e.vital.id?(0,h.jsx)("p",{className:"p-0 m-0  text-charcoal text-center align-self-center",children:G(e.vital.id)}):(0,h.jsx)("p",{className:"text-charcoal text-center align-self-center",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2 d-".concat(t==D?T:"block"),children:(0,h.jsx)("button",{className:"button py-0 button-lightbrown",value:e.id,onClick:function(){"none"==L&&(I("block"),B("none"),Z()),A(t)},children:"Edit"})}),t==D?(0,h.jsx)("div",{className:"col-2 d-".concat(t==D?L:"none"),children:(0,h.jsx)("button",{className:"button py-0 button-lightgreen",onClick:function(){!function(e,t){W.apply(this,arguments)}(e.vital.id,e.id)},children:"Save"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-auto me-5",children:(0,h.jsx)("button",{className:"btn p-0 m-0",children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.3rem"},onClick:function(){return function(e){return M.apply(this,arguments)}(e.id)}})})})]})})})),(0,h.jsx)("div",{className:"container-fluid mt-2",children:v?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsxs)("select",{className:"form-control p-0 border-0 text-center bg-seashell",value:u||"",onChange:function(e){p(e.target.value)},children:[(0,h.jsx)("option",{children:"Select Vitals"}),n.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center p-0 border-start-0 border-end-0 border-top-0 border-bottom-burntumber",value:b||"",onChange:function(e){g(e.target.value)}})}),(0,h.jsx)("div",{className:"col-1 p-0 m-0 ",children:u?(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:G(u)}):(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2",children:v?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"btn py-0 button-burntumber",onClick:function(){return R.apply(this,arguments)},children:"Add"})}),(0,h.jsx)("div",{className:"col-auto me-5",children:(0,h.jsx)("button",{className:"btn p-0 m-0 ",style:{opacity:"0"},children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.3rem"}})})})]})}),(0,h.jsx)("div",{className:"container text-center mt-3",children:(0,h.jsx)("button",{className:"button button-charcoal mx-auto",onClick:e.CloseVitals,children:"Done"})})]})},j=n(5270),N=n(3433),v=n(1230),y=(n(5144),n(9045),n(465)),w=n.n(y),k=function(e){var t=(0,a.useContext)(r.Jx),n=localStorage.getItem("id"),l={description:"",amount:0,discount:0,cgst:0,sgst:0,gross_amount:0,id:""},d={paymentmethod:"",amount:0},p=(0,a.useState)(!1),x=(0,s.Z)(p,2),f=x[0],b=x[1],g=(0,a.useState)(),j=(0,s.Z)(g,2),y=j[0],k=j[1],_=(0,a.useState)([{description:"",amount:0,discount:0,cgst:0,sgst:0,gross_amount:0,id:""}]),Z=(0,s.Z)(_,2),C=Z[0],S=Z[1],D=(0,a.useState)(""),A=(0,s.Z)(D,2),P=A[0],F=A[1],L=(0,a.useState)(0),I=(0,s.Z)(L,2),E=I[0],z=I[1],T=(0,a.useState)(0),B=(0,s.Z)(T,2),G=B[0],R=B[1],W=(0,a.useState)(0),M=(0,s.Z)(W,2),H=M[0],O=M[1],U=(0,a.useState)(0),q=(0,s.Z)(U,2),V=q[0],J=q[1],Q=(0,a.useState)(e.doctorfee),Y=(0,s.Z)(Q,2),$=Y[0],K=Y[1],X=(0,a.useState)(),ee=(0,s.Z)(X,2),te=ee[0],ne=ee[1],se=(0,a.useState)(),ae=(0,s.Z)(se,2),oe=ae[0],ce=ae[1],ie=(0,a.useState)([{paymentmethod:"",amount:""}]),le=(0,s.Z)(ie,2),re=le[0],de=le[1],me=(0,a.useState)(),ue=(0,s.Z)(me,2),pe=ue[0],he=ue[1],xe=(0,a.useState)(),fe=(0,s.Z)(xe,2),be=fe[0],ge=fe[1];function je(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,c.Z)((0,o.Z)().mark((function t(){var n,s,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],s=0;s<e.appointmentdata.length;s++)if(e.appointmentid==e.appointmentdata[s].id){for(a=0;a<e.appointmentdata[s].other_charges.length;a++)n.push({description:null!=e.appointmentdata[s].other_charges[a].description?e.appointmentdata[s].other_charges[a].description:"N/A",amount:null!=e.appointmentdata[s].other_charges[a].total_amount?e.appointmentdata[s].other_charges[a].total_amount:0,discount:null!=e.appointmentdata[s].other_charges[a].discount?e.appointmentdata[s].other_charges[a].discount:0,cgst:null!=e.appointmentdata[s].other_charges[a]&&null!=e.appointmentdata[s].other_charges[a].gst_rate?e.appointmentdata[s].other_charges[a].gst_rate/2:0,sgst:null!=e.appointmentdata[s].other_charges[a]&&null!=e.appointmentdata[s].other_charges[a].gst_rate?e.appointmentdata[s].other_charges[a].gst_rate/2:0,gross_amount:e.appointmentdata[s].other_charges[a].final_amount&&null!==e.appointmentdata[s].other_charges[a].final_amount?e.appointmentdata[s].other_charges[a].final_amount:"",id:e.appointmentdata[s].other_charges[a].id&&null!=e.appointmentdata[s].other_charges[a].id?e.appointmentdata[s].other_charges[a].id:""});O(e.appointmentdata[s].aartas_discount),z(e.appointmentdata[s].doc_discount),F(e.appointmentdata[s].cons_text)}n.length>0?S(n):S([l]);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ve(){return ve=(0,c.Z)((0,o.Z)().mark((function t(){var n,s,a,c,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],s=[],a=[],c=0;c<e.appointmentdata.length;c++)e.appointmentid==e.appointmentdata[c].id&&e.appointmentdata[c].payment_method_details&&(n.push(Object.keys(JSON.parse(e.appointmentdata[c].payment_method_details))),s.push(Object.values(JSON.parse(e.appointmentdata[c].payment_method_details))));if([],{paymentmethod:"",amount:0},n[0]){for(i=0;i<n[0].length;i++)a.push({paymentmethod:n[0][i],amount:s[0][i]});a.length>0?de(a):de([d])}case 7:case"end":return t.stop()}}),t)}))),ve.apply(this,arguments)}function ye(){return(ye=(0,c.Z)((0,o.Z)().mark((function n(s){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!C[s].id){n.next=6;break}return S([]),n.next=4,i.Z.post("".concat(t,"/appointment/delete/extra/charges"),{id:C[s].id}).then((function(t){S([]),C.splice(s,s),m().Notify.success(t.data.message),e.Appointmentlist()}));case 4:n.next=7;break;case 6:C.splice(s,s);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function we(e,t,n,s){S((function(e){return(0,N.Z)(e)}));var a=n||0,o=(e||0)-(t||0);return o=(o+=a=(a+(s||0))*o/100).toFixed(2)}function ke(){for(var e=[],t=0,n=0;n<C.length;n++)e.push((Number(C[n].gross_amount)-(Number(C[n].amount)-Number(C[n].discount)))/2);return e.forEach((function(e){t+=e})),t=t.toFixed(2)}function _e(){var e=0,t=Number(H)+Number(E)+Number(G);return C.map((function(t){return e+=Number(t.gross_amount)})),e=(e=e+Number($)-t).toFixed(2)}function Ze(){for(var e=[],t=0,n=0,s=0;s<re.length;s++)e.push(Number(re[s].amount));return e.forEach((function(e){t+=e})),t>_e()?n=t-_e():n}function Ce(){return Se.apply(this,arguments)}function Se(){return Se=(0,c.Z)((0,o.Z)().mark((function s(){var a,l,r,d,u,p,h,x,f,b,g,j,N,v,y,w,k,_,Z,S;return(0,o.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(S=function(){return(S=(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,he(!0),n.next=4,i.Z.post("".concat(t,"/appointment/save/charges"),_).then((function(t){e.Appointmentlist(),console.log(t),1==t.data.status?(he(!1),Oe(),Qe(),m().Notify.success(t.data.message)):(he(!1),m().Notify.failure(t.data.message))}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),m().Notify.failure(n.t0.message),he(!1);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)},Z=function(){return S.apply(this,arguments)},a=_e(),a=Number(a),l=Number(e.doctorfee),r=Number(E),d=Number(H),u=ke(),p=ke(),h=[],x=[],f=[],b=[],g=[],j=[],N=[],v=0;v<C.length;v++)h.push(C[v].description),x.push(Number(C[v].amount)),f.push(Number(C[v].discount)),g.push(Number(C[v].amount)-Number(C[v].discount)),C[v].id&&j.push(Number(C[v].id)),C[v].cgst&&C[v].sgst?N.push(Number(C[v].cgst+C[v].sgst)):N.push(0),b.push(C[v].gross_amount);for(y=[],w=[],k=0;k<re.length;k++)y.push(re[k].paymentmethod),w.push(Number(re[k].amount));_={appointment_id:e.appointmentid,g_total_main:a,cons_fee:l,description:h,total_amount:x,discount:f,amount:g,doc_dis:r,aartas_discount:d,payment_method:y,payment_method_main:y,payment_method_details:w,SGST:Number(p),CGST:Number(u),admin_id:Number(n),cons_text:P,add_to_cart:V,show_cons_fee:$==e.doctorfee?1:0,ot_id:j,gst_rate:N,final_amount:b},Z(),Oe(),Qe();case 24:case"end":return s.stop()}}),s)}))),Se.apply(this,arguments)}(0,a.useEffect)((function(){je(),function(){ve.apply(this,arguments)}()}),[e.billform]),(0,a.useEffect)((function(){je()}),[]);function De(){return(De=(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(!0),i.Z.post("".concat(t,"/advance/balance"),{patient_id:e.patientid}).then((function(e){1==e.data.status?(k(e.data.data),b(!1)):(m().Notify.failure(e.data.message),b(!1))}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(0,a.useEffect)((function(){!function(){De.apply(this,arguments)}(),function(){for(var t=[],n=0,s=0;s<e.appointmentdata.length;s++)if(e.appointmentid==e.appointmentdata[s].id)for(var a=0;a<e.appointmentdata[s].medicine_used.length;a++)t.push(e.appointmentdata[s].medicine_used[a].total_amount);t.forEach((function(e){return n+=e})),n=n.toFixed(2)}()}),[]);var Ae=(0,a.useState)("block"),Pe=(0,s.Z)(Ae,2),Fe=Pe[0],Le=Pe[1],Ie=function(){"block"==Fe&&Le("none"),"none"==Fe&&Le("block")},Ee=(0,a.useState)("none"),ze=(0,s.Z)(Ee,2),Te=ze[0],Be=ze[1],Ge=function(){"block"==Te&&Be("none"),"none"==Te&&Be("block")},Re=(0,a.useState)("none"),We=(0,s.Z)(Re,2),Me=We[0],He=We[1],Oe=function(){"none"==Me&&He("block"),"block"==Me&&He("none")},Ue=(0,a.useState)("none"),qe=(0,s.Z)(Ue,2),Ve=qe[0],Je=qe[1],Qe=function(){"none"==Ve&&Je("block"),"block"==Ve&&Je("none")};var Ye=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(s){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Bill",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/appointment/bill"),{appointment_id:s,admin_id:n}).then((function(e){1==e.data.status?(m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.bill_url,"_blank","noreferrer")):(m().Notify.failure(e.data.message),m().Loading.remove())}))}catch(a){m().Notify.failure(a.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Prescription",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/swift/pdf"),{appointment_id:n}).then((function(e){1==e.data.status?(m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.prescription_pdf,"_blank","noreferrer")):(m().Notify.failure(e.data.message),m().Loading.remove())}))}catch(s){m().Notify.failure(s.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(s,a,c){var l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=c,void 0==a||null==a)m().Notify.failure("Please Add a Phone Number to send the message on WhatsApp");else{m().Loading.circle("Sending Bill on Whats App",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/send/bill/whatsapp"),{appointment_id:s,check_pres:l,admin_id:n}).then((function(e){1==e.data.status?(m().Notify.success("".concat(e.data.message).concat(1==l?" with Prescription":" without Prescription")),m().Loading.remove()):(m().Notify.failure(e.data.message),m().Loading.remove())}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n,s,a){var c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a,void 0==s||null==s)m().Notify.failure("Please Add a Phone Number to send the message on SMS");else{m().Loading.circle("Sending Bill on SMS",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/send/bill/sms"),{appointment_id:n,check_bill:1,check_pre:c}).then((function(e){1==e.data.status?(m().Notify.success("".concat(e.data.message).concat(1==c?" with Prescription":" without Prescription")),m().Loading.remove()):(m().Notify.failure(e.data.message),m().Loading.remove())}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),et=(0,a.useState)("none"),tt=(0,s.Z)(et,2),nt=tt[0],st=tt[1],at=function(){"block"==nt&&st("none"),"none"==nt&&(bt([]),st("block"))},ot=(0,a.useRef)(null),ct=((0,a.useRef)(null),(0,a.useState)("none")),it=(0,s.Z)(ct,2),lt=it[0],rt=it[1],dt=(0,a.useState)("none"),mt=(0,s.Z)(dt,2),ut=mt[0],pt=mt[1],ht=(0,a.useState)([]),xt=(0,s.Z)(ht,2),ft=xt[0],bt=xt[1],gt=(0,a.useState)(0),jt=(0,s.Z)(gt,2),Nt=jt[0],vt=jt[1],yt=(0,a.useState)(),wt=(0,s.Z)(yt,2),kt=wt[0],_t=wt[1],Zt=(0,a.useState)("environment"),Ct=(0,s.Z)(Zt,2),St=Ct[0],Dt=Ct[1],At={facingMode:St},Pt=(0,a.useCallback)((function(){var e=ot.current.getScreenshot();ft.length>0?(bt(e),m().Notify.info("Photo Captured"),Ft()):(bt((function(t){return[].concat((0,N.Z)(t),[e])})),m().Notify.info("Photo Captured"),Ft())}),[ot]),Ft=function(){"block"==lt&&rt("none"),"none"==lt&&rt("block")},Lt=function(){"none"==ut&&pt(""),""==ut&&pt("none")},It=(0,a.useState)(null),Et=(0,s.Z)(It,2),zt=Et[0],Tt=Et[1],Bt=(0,a.useState)({unit:"%",x:25,y:25,width:100,height:100}),Gt=(0,s.Z)(Bt,2),Rt=Gt[0],Wt=Gt[1],Mt=(0,a.useState)(null),Ht=(0,s.Z)(Mt,2),Ot=Ht[0],Ut=Ht[1],qt=(0,a.useRef)(null);(0,a.useEffect)((function(){zt&&function(e){var t=new Image;t.src=e,t.onload=function(){qt.current=t}}(zt)}),[zt]);var Vt=function(e,t,n){var s=document.createElement("canvas"),a=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(e,t.x*a,t.y*o,t.width*a,t.height*o,0,0,t.width,t.height),new Promise((function(e,t){s.toBlob((function(t){if(t){t.name=n,window.URL.revokeObjectURL(zt);var s=window.URL.createObjectURL(t);e(s)}else console.error("Canvas is empty")}),"image/jpeg")}))},Jt=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(qt.current&&t.width&&t.height)){e.next=8;break}return Lt(),Ut(),at(),e.next=6,Vt(qt.current,t,"prescription.jpeg");case 6:n=e.sent,_t(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:" position-relative rounded-2 bg-seashell",style:{minHeight:"100%"},children:[(0,h.jsxs)("div",{className:"shadow-sm",children:[(0,h.jsxs)("h5",{className:"text-center fw-bold py-2",children:[e.patientname," Bill"]}),(0,h.jsx)("button",{className:"btn btn-back position-absolute start-0 top-0 ms-2 d-".concat("block"==Fe?"none":"block"),onClick:function(){"block"===Te&&(Ge(),Ie()),"block"===Me&&(Oe(),Ge()),"block"===Ve&&(Qe(),Oe())}}),(0,h.jsx)("button",{className:"btn btn-close position-absolute end-0 top-0 me-2",onClick:function(){e.CloseBillForm()}})]}),(0,h.jsxs)("div",{className:"stage1 d-".concat(Fe),children:[(0,h.jsxs)("div",{className:"px-4 pt-4",children:[(0,h.jsxs)("label",{className:" text-charcoal fw-bolder mt-2 mb-3",children:[(0,h.jsx)("input",{className:"form-check-input me-1 ",type:"checkbox",checked:$,onClick:$==e.doctorfee?function(){return K(0)}:function(){return K(e.doctorfee)}}),"Add Consultation Amount"]}),(0,h.jsxs)("div",{className:"row p-0 m-0 justify-content-between",children:[(0,h.jsxs)("div",{className:"col-4 ps-0 ",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:" Doctor's Consultation Charge "}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold",disabled:!0,value:$})]}),(0,h.jsxs)("div",{className:"col-8 pe-0 ",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:" Consultation text "}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold",value:P||"",onChange:function(e){return F(e.target.value)}})]})]}),(0,h.jsxs)("div",{className:"mt-5 text-start",children:[(0,h.jsx)("h5",{className:"fw-bolder text-charcoal",children:"Discounts"}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-4 ps-0",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Coupon"}),(0,h.jsx)("input",{className:"form-control fw-bold text-charcoal text-start",disabled:!0,value:G||"",onChange:function(e){return R(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Doctor"}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold text-charcoal text-start",value:E||"",onChange:function(e){return z(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"text-charcoal75 fw-bold",children:"Aartas"}),(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold text-charcoal text-start",value:H||"",onChange:function(e){return O(e.target.value)}})]})]})]})]}),(0,h.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:pe?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row p-0 m-0 text-center align-items-center mt-1 justify-content-between ",children:[(0,h.jsxs)("div",{className:"col-4 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:" Grand Total "}),(0,h.jsx)("input",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0  bg-pearl",value:"\u20b9"+_e()})]}),(0,h.jsx)("div",{className:"col-sm-auto col-2 d-flex justify-content-start ps-2",children:(0,h.jsx)("button",{className:"button button-charcoal ",onClick:function(){Ie(),Ge()},children:"Extra Charges "})})]})})]}),(0,h.jsxs)("div",{className:"stage2 d-".concat(Te," scroll"),children:[(0,h.jsx)("div",{className:"container-fluid text-start p-2",children:(0,h.jsxs)("div",{className:"bg-seashell position-relative",children:[(0,h.jsx)("div",{className:"row p-0 m-0 align-items-center mb-2",children:(0,h.jsx)("div",{className:"col-auto p-0 m-0 ps-2 pe-1",children:(0,h.jsx)("h5",{className:" p-0 m-0 text-charcoal fw-bolder",children:" Extra Charges "})})}),e.isLoading?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):C.map((function(e,t){return(0,h.jsx)("div",{className:"container-fluid p-0 m-0",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsxs)("div",{className:"col-10",children:[(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-8 ps-0 ms-0",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:" Description "}),(0,h.jsx)("input",{className:"form-control bg-seashell m-0 text-start fw-bold ",value:e.description?e.description:"",onChange:function(t){e.description=t.target.value,we(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"Amount"}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.amount?e.amount:"",onChange:function(t){e.amount=t.target.value,e.gross_amount=we(e.amount,e.discount,e.cgst,e.sgst)}})]})]}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-1",children:[(0,h.jsxs)("div",{className:"col-4 ms-0 ps-0",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:"Discount \u20b9"}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.discount?e.discount:"",onChange:function(t){e.discount=t.target.value,e.gross_amount=we(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-4",children:[(0,h.jsx)("label",{className:"fw-bold text-charcoal75 text-start ps-1",children:" GST % "}),(0,h.jsx)("input",{type:"number",className:"form-control text-start bg-seashell m-0 fw-bold ",value:e.cgst&&e.sgst?e.cgst+e.sgst:"",onChange:function(t){e.cgst=t.target.value/2,e.sgst=t.target.value/2,e.gross_amount=we(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"col-4 p-0 align-self-end ",children:[(0,h.jsxs)("div",{className:"row p-0 m-0 ",children:[(0,h.jsx)("div",{className:"col-6 p-0 m-0 fw-bold text-charcoal75 text-end",children:" Amount: "}),(0,h.jsx)("input",{type:"number",className:"col-6 p-0 border-0 text-start bg-seashell m-0 ps-1 fw-bold text-burntumber",style:{letterSpacing:"1px"},value:e.amount&&e.discount?e.amount-e.discount:"",onChange:function(t){e.gross_amount=we(e.amount,e.discount,e.cgst,e.sgst)}})]}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsx)("div",{className:"col-6 p-0 m-0 fw-bold text-charcoal75 text-end",children:" incl. gst: "}),(0,h.jsx)("input",{className:"col-6 p-0 border-0 m-0 text-start bg-seashell ps-1 fw-bold text-burntumber",style:{letterSpacing:"1px"},value:e.gross_amount?e.gross_amount:""})]})]})]})]}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("button",{className:"btn btn-sm p-0 m-0 d-".concat(0==t?"none":"block"),onClick:function(){!function(e){ye.apply(this,arguments)}(t),de((function(e){return(0,N.Z)(e)}))},children:(0,h.jsx)("img",{src:"/images/minus.png",className:"img-fluid p-0 m-0",style:{width:"1.5rem"}})})})]})})})),(0,h.jsx)("div",{className:"container-fluid text-center mt-2  ",children:(0,h.jsx)("button",{className:"btn p-0 m-0 py-0",onClick:function(){C&&C.length>0?S((function(e){return[].concat((0,N.Z)(e),[l])})):S([l])},children:(0,h.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"1.8rem"}})})})]})}),(0,h.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:pe?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row p-0 m-0 text-center align-items-center mt-1 ",children:[(0,h.jsxs)("div",{className:"col-3 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:" Grand Total "}),(0,h.jsx)("input",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl",value:"\u20b9"+_e()})]}),(0,h.jsxs)("div",{className:"col-3 align-self-end text-start",children:[(0,h.jsxs)("label",{className:"fw-bolder text-charcoal text-wrap text-start",children:[(0,h.jsx)("small",{children:"SGST"})," "]}),(0,h.jsx)("input",{className:"form-control rounded-1 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl",disabled:!0,value:te||"\u20b9"+ke(),onChange:function(e){return ne(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-3 align-self-end text-start",children:[(0,h.jsx)("label",{className:"fw-bolder text-charcoal text-wrap text-start",children:(0,h.jsx)("small",{children:"CGST"})}),(0,h.jsx)("input",{className:"form-control rounded-1 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl",disabled:!0,value:oe||"\u20b9"+ke(),onChange:function(e){return ce(e.target.value)}})]}),(0,h.jsx)("div",{className:" col-3 d-flex justify-content-end ps-2",children:(0,h.jsx)("button",{className:"button button-charcoal ",onClick:function(){Ge(),Oe()},children:" Payments "})})]})})]}),(0,h.jsxs)("div",{className:"stage3 d-".concat(Me," scroll"),children:[(0,h.jsxs)("div",{className:" text-start position-relative px-3",children:[(0,h.jsx)("h5",{className:"text-charcoal fw-bolder text-start ps-1",children:"Payments"}),re&&void 0!==re?re.map((function(t,n){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:" mt-4",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsxs)("div",{className:"col-10 ps-0",children:[(0,h.jsx)("h6",{className:"text-charcoal75 fw-bold",children:"Enter Amount"}),(0,h.jsx)("input",{type:"number",placeholder:"\u20b900",value:t.amount,onChange:function(e){t.amount=e.target.value,de((function(e){return(0,N.Z)(e)}))},className:"form-control rounded-1 fw-bold text-charocoal75 bg-seashell w-25 border-2"})]}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("button",{className:"btn btn-sm p-0 m-0 d-".concat(0==n?"none":"block"),onClick:function(){!function(e){re.splice(e,e)}(n),de((function(e){return(0,N.Z)(e)}))},children:(0,h.jsx)("img",{src:"/images/minus.png",className:"img-fluid",style:{width:"1.5rem"}})})})]})}),(0,h.jsx)("h6",{className:"text-charcoal75 fw-bold mt-2",children:"Select Payment Method"}),(0,h.jsxs)("div",{className:"d-flex flex-horizontal mt-2 scroll",style:{minHeight:"min-content"},children:[(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Cash",de((function(e){return(0,N.Z)(e)}))},checked:"Cash"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Cash"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Cash"})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Points",de((function(e){return(0,N.Z)(e)}))},checked:"Points"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Points"}),(0,h.jsx)("span",{children:(0,h.jsxs)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:["Points",(0,h.jsx)("div",{className:" text-success fw-bold",children:void 0!=e.Data.patient.reward_points&&void 0!=e.Data.patient.reward_points.points_total&&null!=e.Data.patient.reward_points.points_total?e.Data.patient.reward_points.points_total:0})]})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Adjust-Advance",de((function(e){return(0,N.Z)(e)}))},checked:"Adjust-Advance"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Adjust-Advance"}),(0,h.jsx)("span",{children:(0,h.jsxs)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:["Adjust-Advance                ",f?(0,h.jsx)("div",{className:" py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):y?(0,h.jsx)("div",{className:"text-success text-start border-0 rounded-1 fw-bolder p-0  bg-seashell",children:"\u20b9"+y.advnace_total}):(0,h.jsx)("div",{className:"text-success fw-bold",children:" 0 "})]})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Card",de((function(e){return(0,N.Z)(e)}))},checked:"Card"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Card"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Card"})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Paytm",de((function(e){return(0,N.Z)(e)}))},checked:"Paytm"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Paytm"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Paytm"})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Phonepe",de((function(e){return(0,N.Z)(e)}))},checked:"Phonepe"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Phonepe"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Phonepe"})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Razorpay",de((function(e){return(0,N.Z)(e)}))},checked:"Razorpay"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Razorpay"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Razorpay"})}),(0,h.jsx)("input",{type:"checkbox",className:"form-check-input p-2 mt-1",onChange:function(){t.paymentmethod="Wire-Transfer",de((function(e){return(0,N.Z)(e)}))},checked:"Wire-Transfer"==t.paymentmethod,onClick:function(e){void 0!=be?ge():ge(e.target.value)},value:"Wire-Transfer"}),(0,h.jsx)("span",{children:(0,h.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Wire-Transfer"})})]})]})})):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"container-fluid text-center mt-2  ",children:(0,h.jsx)("button",{className:"btn py-0",onClick:function(){re&&re.length>0?de((function(e){return[].concat((0,N.Z)(e),[d])})):de([d])},children:(0,h.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"1.8rem"}})})})]}),(0,h.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:pe?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row p-0 m-0 text-center align-items-center mt-1 ",children:[(0,h.jsxs)("div",{className:"col-3 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:" Grand Total "}),(0,h.jsx)("input",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl",value:"\u20b9"+_e()})]}),(0,h.jsxs)("div",{className:"col-3 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:" Amount Recieved"}),(0,h.jsxs)("div",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl",children:[" ",re&&re.length>0?"\u20b9"+function(){var e=[],t=0;if(re&&re.length>0){for(var n=0;n<re.length;n++)re[n].amount&&e.push(Number(re[n].amount));return e.forEach((function(e){t+=Number(e)})),t=t.toFixed(2)}return 0}():"\u20b90"," "]})]}),(0,h.jsxs)("div",{className:"col-3 align-self-end text-start fw-bolder text-charcoal text-wrap text-start ",children:["Extra Amount",(0,h.jsxs)("div",{className:"toolTip",children:[Ze()>0?(0,h.jsx)("img",{src:"/images/info.png",className:"p-0 m-0 ms-2 img-fluid toolTip",style:{width:"1rem"}}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("span",{className:"tooltiptext",children:"Click to save it as Advance Payment"})]}),(0,h.jsxs)("div",{className:"form-control rounded-1 fs-6 text-success text-start border-0 fw-bolder p-0 bg-pearl",children:[Ze()>0?"+ \u20b9".concat(Ze()):"\u20b90"," "]})]}),(0,h.jsx)("div",{className:"col-sm-auto col-2 d-flex justify-content-start ps-2",children:(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){(0,u.H)(),m().Confirm.show("Add Charges and Payments","Do you surely want to add the following Charges and Payments with Grand Total ".concat(_e()),"Yes","No",(function(){J(0),Ce()}),(function(){return 0}),{})},children:" Bill & Prescription "})})]})})]}),(0,h.jsxs)("div",{className:"stage4 d-".concat(Ve," scroll"),children:[(0,h.jsxs)("div",{className:"container px-3",children:[(0,h.jsx)("h5",{className:"text-charcoal fw-bold mb-3",children:"Bill & Prescription"}),(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){at()},children:"Scan Prescription"}),(0,h.jsxs)("div",{className:"row mt-2 p-0 m-0 justify-content-start align-items-center",children:[(0,h.jsxs)("div",{className:"d-".concat(nt," p-0 position-absolute top-0 start-0"),style:{zIndex:"10"},children:[(0,h.jsx)("div",{className:"btn-close position-absolute top-0 end-0 ",style:{zIndex:"11"},onClick:function(){at()}}),(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(w(),{audio:!1,ref:ot,screenshotFormat:"image/jpeg",mirrored:!1,videoConstraints:At}),(0,h.jsx)("img",{className:"img-fluid position-absolute start-0 end-0 mx-auto bottom-0 mb-5",onClick:function(){Pt()},style:{width:"4rem"},src:"/images/camera_click.png"}),(0,h.jsxs)("div",{className:"position-absolute bottom-0 justify-content-center ",children:[(0,h.jsx)("button",{className:"border-0 cameraroll bg-transparent p-0 m-0 ",onClick:function(){Ft()},children:"none"==lt?(0,h.jsx)("img",{src:"/images/gallery.png",className:"img-fluid bg-charcoal75 px-2 py-1 rounded-top mb-1",style:{width:"2rem"}}):(0,h.jsx)("img",{src:"/images/bottom.png",className:"img-fluid bg-seashell px-2 py-1 rounded-top mb-1"})}),(0,h.jsx)("div",{className:"container cameraroll scroll bg-charcoal25 ms-2 mb-2 d-".concat(lt),style:{flexDirection:"horizontal",minHeight:"fit-content"},children:ft?ft.map((function(e,t){return(0,h.jsx)("img",{src:e,className:"img-fluid",onClick:function(){Lt(),vt(t),Tt(ft[Nt])},style:{width:"5rem"}})})):""})]}),(0,h.jsx)("button",{className:" border-0 cameraroll bg-transparent p-0 m-0 position-absolute bottom-0 end-0",onClick:function(){Dt("user"==St?"environment":"user")},children:(0,h.jsx)("img",{src:"/images/flip.png",className:"img-fluid bg-charcoal75 px-2 py-1 rounded-top mb-1",style:{width:"1.8rem"}})})]}),ot.current?(0,h.jsxs)("div",{className:"d-".concat(ut," container position-absolute bg-pearl mx-auto start-0 top-0 end-0 rounded-2 shadow-sm"),style:{zIndex:"15",left:"0vh",top:"0"},children:[(0,h.jsx)("button",{className:"position-absolute end-0 bg-seashell50 p-2 btn-close",style:{zIndex:"18"},onClick:function(){Lt()}}),(0,h.jsx)("div",{className:"mt-0 position-absolute start-0 end-0 mx-auto",children:(0,h.jsx)(v.cO,{crop:Rt,onChange:function(e){return Wt(e)},onComplete:function(e){return Ut(e)},children:(0,h.jsx)("img",{src:zt,className:"img-fluid",style:{height:"".concat(ot.current.video.videoHeight,"px"),width:"".concat(ot.current.video.videoWidth,"px")}})})})]}):(0,h.jsx)(h.Fragment,{})]}),Ot&&(0,h.jsx)("div",{className:"position-absolute top-0 mt-4 ms-2",style:{zIndex:"15"},children:(0,h.jsx)("button",{className:"btn text-light border border-light",onClick:function(){return Jt(Ot)},children:"Save"})}),kt?(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:kt,className:"img-fluid",style:{width:Rt.width,height:Rt.height}})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("h6",{className:"fw-bold text-charcoal75 ps-0 ms-0",children:"Generate Bill & Prescription"}),(0,h.jsx)("div",{className:"col-auto ps-0 ms-0",children:(0,h.jsx)("button",{className:"button button-charcoal px-4",onClick:function(){Ye(e.appointmentid)},children:"Bill"})}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("div",{className:"vr rounded-1 align-self-center",style:{padding:"0.8px"}})}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){$e(e.appointmentid)},children:"Prescription"})})]}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-4",children:[(0,h.jsx)("h6",{className:"fw-bold text-charcoal75 ms-0 ps-0",children:"Send Bill and Prescription"}),(0,h.jsxs)("div",{className:"row ps-0 ms-0",children:[(0,h.jsx)("div",{className:"col-12 ms-0 ps-0 mt-2",children:(0,h.jsxs)("div",{className:"row ps-0 ms-0",children:[(0,h.jsxs)("h6",{className:"ms-0 ps-0 text-charcoal fw-bold",children:["On WhatsApp ",(0,h.jsx)("span",{className:"ms-2 text-success",children:1==e.Data.whatsapp_sent?"(Already Sent on Whats App)":""})]}),(0,h.jsx)("div",{className:"col-6 ms-0 ps-0",children:(0,h.jsxs)("button",{className:"btn border-0 p-0 m-0 fw-bold",onClick:function(){Ke(e.appointmentid,e.Data.patient.phone_number,0)},children:[(0,h.jsx)("img",{src:"/images/whatsapp.png",className:"img-fluid",style:{width:"1.5rem"}}),"Bill"]})}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsxs)("button",{className:"btn border-0 p-0 m-0 fw-bold",onClick:function(){Ke(e.appointmentid,e.Data.patient.phone_number,1)},children:[(0,h.jsx)("img",{src:"/images/whatsapp.png",className:"img-fluid",style:{width:"1.5rem"}}),"Bill with Prescription"]})})]})}),(0,h.jsx)("div",{className:"col-12 ms-0 ps-0 mt-2",children:(0,h.jsxs)("div",{className:"row ps-0 ms-0",children:[(0,h.jsx)("h6",{className:"ms-0 ps-0 text-charcoal fw-bold",children:"On SMS"}),(0,h.jsx)("div",{className:"col-6 ms-0 ps-0",children:(0,h.jsxs)("button",{className:"btn border-0 p-0 m-0 fw-bold",onClick:function(){Xe(e.appointmentid,e.Data.patient.phone_number,0)},children:[(0,h.jsx)("img",{src:"/images/message.png",className:"img-fluid",style:{width:"1.2rem"}}),"Bill"]})}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsxs)("button",{className:"btn border-0 p-0 m-0 fw-bold",onClick:function(){Xe(e.appointmentid,e.Data.patient.phone_number,1)},children:[(0,h.jsx)("img",{src:"/images/message.png",className:"img-fluid",style:{width:"1.2rem"}}),"Bill with Prescription"]})})]})})]})]})]}),(0,h.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:pe?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row p-0 m-0 text-center align-items-center mt-1 justify-content-between ",children:[(0,h.jsxs)("div",{className:"col-4 align-self-end text-start",children:[(0,h.jsx)("label",{className:" fw-bolder text-charcoal text-wrap text-start",children:" Grand Total "}),(0,h.jsx)("input",{className:"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0  bg-pearl",value:"\u20b9"+_e()})]}),(0,h.jsx)("div",{className:"col-sm-auto col-2 d-flex justify-content-start ps-2",children:(0,h.jsx)("button",{className:"button button-charcoal ",onClick:function(){e.setsingleload(0),e.Appointmentlist(),e.CloseBillForm()},children:" Done "})})]})})]})]})})},_=function(e){(0,a.useRef)(null),(0,a.useContext)(r.q2);var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.j8),l=localStorage.getItem("ClinicId"),d=(0,a.useRef)(null),p=(0,a.useRef)(null),x=((0,a.useRef)(null),(0,a.useRef)(null)),f=(0,a.useState)(),b=(0,s.Z)(f,2),g=(b[0],b[1],(0,a.useState)()),j=(0,s.Z)(g,2),v=j[0],y=(j[1],(0,a.useState)()),w=(0,s.Z)(y,2),k=(w[0],w[1]),_=(0,a.useState)(),Z=(0,s.Z)(_,2),C=(Z[0],Z[1],(0,a.useState)(l)),S=(0,s.Z)(C,2),D=(S[0],S[1],(0,a.useState)()),A=(0,s.Z)(D,2),P=(A[0],A[1],(0,a.useState)(0)),F=(0,s.Z)(P,2),L=(F[0],F[1],(0,a.useState)(0)),I=(0,s.Z)(L,2),E=(I[0],I[1],(0,a.useState)()),z=(0,s.Z)(E,2),T=z[0],B=z[1],G=(0,a.useState)(!1),R=(0,s.Z)(G,2),W=(R[0],R[1],(0,a.useState)([])),M=(0,s.Z)(W,2),H=M[0],O=M[1],U=(0,a.useState)([]),q=(0,s.Z)(U,2),V=q[0],J=q[1],Q=(0,a.useState)([]),Y=(0,s.Z)(Q,2),$=Y[0],K=Y[1],X=(0,a.useState)(),ee=(0,s.Z)(X,2),te=ee[0],ne=ee[1],se=(0,a.useState)(),ae=(0,s.Z)(se,2),oe=ae[0],ce=ae[1],ie=(0,a.useState)(),le=(0,s.Z)(ie,2),re=le[0],de=le[1],me=(0,a.useState)([]),ue=(0,s.Z)(me,2),pe=ue[0],he=ue[1],xe=(0,a.useState)(),fe=(0,s.Z)(xe,2),be=fe[0],ge=fe[1],je=(0,a.useState)(),Ne=(0,s.Z)(je,2),ve=Ne[0],ye=Ne[1],we=(0,a.useState)(),ke=(0,s.Z)(we,2),_e=ke[0],Ze=ke[1],Ce=(0,a.useState)("none"),Se=(0,s.Z)(Ce,2),De=(Se[0],Se[1],(0,a.useState)(e.appointmentdata.nursing_notes?e.appointmentdata.nursing_notes:"")),Ae=(0,s.Z)(De,2),Pe=Ae[0],Fe=Ae[1],Le=(0,a.useState)(!1),Ie=(0,s.Z)(Le,2),Ee=Ie[0],ze=Ie[1],Te=(0,a.useState)(!1),Be=(0,s.Z)(Te,2),Ge=Be[0],Re=Be[1],We=(0,a.useState)(),Me=(0,s.Z)(We,2),He=Me[0],Oe=Me[1],Ue=function(e){if(e)return e=e.split("-").reverse().join("-")},qe=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/stock/list?search=").concat(n)).then((function(e){var t=[],s=[],a=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),s.push(e.data.data.vaccines?e.data.data.vaccines:[]),a=(a=t.concat(s)).flat(),J(a),Ze(!1),n.length>1?d.current.style.display="block":d.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=11;break}return ne(!0),e.prev=2,e.next=5,i.Z.get("".concat(t,"/sale/item/search/by/id?item=").concat(n)).then((function(e){ne(!1),K([e.data.data])}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),ne(!1),m().Notify.failure(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();function Je(e,t,n){var s=t;return Number(n)>Number(s)&&m().Notify.failure("Selling Cost should not less than Cost"),e?1==e?t=Number(t):s=(s=Number(t)*Number(e)).toFixed(2):0}function Qe(e){var t="";t=e.vaccine_brand_id?"v":"m";var n={productid:e.id,type:e.type?e.type:t,product:e.item_name?e.item_name:oe,batch:e.batch_no,expiry:e.expiry_date,quantity:e.current_stock,qtytoSale:1,discount:0,cost:e.cost,mainmrp:e.mrp,disccost:e.mrp,gst:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate),totalamt:e.mrp};pe&&0==pe.length?he([n]):he((function(e){return[].concat((0,N.Z)(e),[n])}))}function Ye(){return(Ye=(0,c.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=[]).push(pe.filter((function(e){return e.batch!==t}))),n=n.flat(),he(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return($e=(0,c.Z)((0,o.Z)().mark((function n(){var s,a,c,l,r,d,u,p,h;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(s=[],a=[],c=[],l=[],r=[],d=[],u=[],p=0;p<pe.length;p++)s.push(pe[p].type+pe[p].productid),a.push(pe[p].qtytoSale),c.push(pe[p].discount),l.push(pe[p].disccost),r.push(pe[p].mainmrp),d.push(pe[p].gst),u.push(pe[p].totalamt);return h={pro_id:s,qty:a,discount:c,disc_mrp:l,main_mrp:r,gst:d,total_amount:u,appointment_id:e.appointmentid},B(!0),n.prev=10,n.next=13,i.Z.post("".concat(t,"/save/consumable"),h).then((function(t){B(!1),1==t.data.status?(Xe(),m().Notify.success(t.data.message),e.Appointmentlist(),he([])):m().Notify.warning(t.data.message)})).catch((function(e){m().Notify.failure(e.message),B(!1)}));case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(10),m().Notify.failure(n.t0.message),B(!1);case 19:case"end":return n.stop()}}),n,null,[[10,15]])})))).apply(this,arguments)}function Ke(){(0,u.H)(),m().Confirm.show("Save Sale Entry","Do you surely want to add total ".concat(pe.length," Sale ").concat(pe.length<=1?"entry":"entries","  "),"Yes","No",(function(){!function(){$e.apply(this,arguments)}()}),(function(){return 0}),{})}(0,a.useEffect)((function(){n.map((function(e){return e[0]==v?k(e[1]):""}))}),[v]),(0,a.useEffect)((function(){!function(){var e=0;pe.map((function(t){return e+=Number(t.totalamt)})),ge(e.toFixed(2))}()}),[pe]),(0,a.useEffect)((function(){!function(){var t=0;e.existedconsumables.map((function(e){return t+=Number(e.total_amount)})),ye(t.toFixed(2))}()}),[e.existedconsumables]);var Xe=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Re(!0),n.next=4,i.Z.post("".concat(t,"/save/nursing/notes"),{appointment_id:e.appointmentid,notes:Pe}).then((function(t){m().Notify.success(t.data.message),e.Appointmentlist(),Re(!1)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),Re(!1),m().Notify.warning(n.t0.data.message);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),et=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(s){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ze(!0),n.prev=1,n.next=4,i.Z.post("".concat(t,"/remove/consumable"),{id:s}).then((function(t){ze(!1),e.Appointmentlist(),m().Notify.success(t.data.message)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),ze(!1),m().Notify.warning(n.t0.data.message);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"container-fluid bg-seashell rounded-2 position-relative mx-auto col-lg-11 col-md-11 col-sm-11 col-11 col-xl-9","style-":{height:"70vh"},children:[(0,h.jsxs)("div",{className:"position-relative mb-3 pt-2",children:[(0,h.jsxs)("h5",{className:"text-start text-charcoal fw-bold ",children:[e.patientname," Consumables"]}),(0,h.jsx)("button",{className:"btn btn-close position-absolute p-1 m-0 end-0 top-0 me-2 pt-4",disabled:!!T,onClick:e.toggleConsumables})]}),(0,h.jsxs)("div",{className:"container-fluid text-start p-0 m-0 mt-3",children:[(0,h.jsx)("div",{className:"col-12 justify-content-center",children:(0,h.jsxs)("div",{className:"row p-0 m-0 my-2 justify-content-start",children:[(0,h.jsxs)("div",{className:"col-4 position-relative",children:[(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold p-2 border-charcoal",placeholder:"Search by Name",value:oe||"",onChange:function(e){qe(e.target.value),ce(e.target.value),de(),O(),x.current.style.dispzzzlay="none"}}),(0,h.jsx)("div",{className:"position-absolute mt-1 bg-raffia",children:(0,h.jsxs)("div",{className:"position-relative ",style:{width:"30vh"},children:[(0,h.jsx)("div",{ref:d,className:"position-absolute scroll scroll-y rounded-1 ",style:{Width:"max-content",zIndex:"1",maxHeight:"40vh"},children:V?_e?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==_e&&0==V.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):(0,h.jsxs)("div",{className:"rounded-1 border border-1 bg-pearl p-1 d-".concat(V&&V.length>0?"block":"none"),children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75 ms-1",style:{fontSize:"0.8rem"},children:[V.length," Search Results"]}),V.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," p-1 py-3 fw-bold border-bottom text-charcoal "),onClick:function(t){O(e),ce(e.display_name?e.display_name:e.name),de(e.id),x.current.style.display="block"},children:[e.display_name?e.display_name:e.name,(0,h.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})]})}))]}):(0,h.jsx)("div",{className:"bg-seashell"})}),(0,h.jsxs)("div",{ref:x,className:"position-absolute start-100 bg-pearl px-3 scroll scroll-y align-self-center rounded-1 border border-1 p-1 d-".concat(H&&H.stock_info&&void 0!==H.stock_info?"block":"none"),style:{marginTop:"0rem",zIndex:"2",width:"22vh","min-width":"30vh",height:"40vh"},children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[H&&void 0!==H.stock_info?H.stock_info.length:""," Batch Stocks"]}),H&&0!==H.length?H&&0==H.stock_info.length?(0,h.jsx)("div",{className:"text-white bg-burntumber p-2",children:"Oops ! Not Available"}):H.stock_info.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",marginTop:"2%"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom p-2"),onClick:function(){Qe(e),ce(),de(),O(),J()},children:[(0,h.jsx)("h6",{className:"text-start m-0 p-0 fw-bold text-wrap",children:oe}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["BatchNo. - ",(0,h.jsx)("span",{className:"fw-bold",children:e.batch_no&&null!==e.batch_no?e.batch_no:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Stock - ",(0,h.jsx)("span",{className:"fw-bold",children:e.current_stock&&e.current_stock?e.current_stock:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Expiry Date - ",(0,h.jsx)("span",{className:"fw-bold",children:e.expiry_date?Ue(e.expiry_date):""})]})]})})):(0,h.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]})]})})]}),(0,h.jsx)("div",{className:"col-auto text-burntumber text-center fw-bold align-self-center",children:" OR "}),(0,h.jsxs)("div",{className:"col-4 ",children:[(0,h.jsx)("input",{className:"form-control bg-seashell border border-1 rounded-2 text-charcoal p-2 fw-bold border-charcoal",value:re||"",placeholder:"Search by ID",onChange:function(e){Ve(e.target.value),de(e.target.value),p.current.style.display="block"}}),(0,h.jsx)("div",{ref:p,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"2"},children:$?te?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==te&&0==$.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):$.map((function(e,t){return(0,h.jsx)("div",{style:{cursor:"pointer",Width:"max-content"},className:"p-0 p-1 rounded-pill shadow bg-".concat(t%2==0?"pearl":"seashell"),onClick:function(t){de(e.type+e.id),Qe(e),p.current.style.display="none"},children:e.item_name?e.item_name:""})})):(0,h.jsx)("div",{className:"bg-seashell"})})]})]})}),(0,h.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,h.jsx)("div",{className:"d-flex justify-content-between"}),(0,h.jsx)("div",{className:"scroll scroll-y",style:{height:"40vh"},children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{className:" bg-seashell position-sticky top-0",children:(0,h.jsxs)("tr",{className:"",children:[(0,h.jsx)("th",{className:"",children:"Item ID"}),(0,h.jsx)("th",{className:"",children:"Item Name"}),(0,h.jsx)("th",{className:"",children:"BatchNo."}),(0,h.jsx)("th",{className:"",children:"Expiry Date"}),(0,h.jsx)("th",{className:"",children:"Avl.Stock"}),(0,h.jsx)("th",{className:"",children:"Qty To Sale"}),(0,h.jsx)("th",{className:"",children:"Discount %"}),(0,h.jsx)("th",{className:"",children:"MRP"}),(0,h.jsx)("th",{className:"",children:"Cost"}),(0,h.jsx)("th",{className:"",children:"GST Rate"}),(0,h.jsx)("th",{className:"",children:"Selling Cost/Unit"}),(0,h.jsx)("th",{className:"",children:"Total Amount"}),(0,h.jsx)("th",{className:"",children:"Delete"})]})}),pe&&0!==pe.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-pearl",children:pe.map((function(e){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:[e.type,e.productid]}),(0,h.jsx)("td",{children:e.product}),(0,h.jsx)("td",{children:e.batch}),(0,h.jsx)("td",{children:Ue(e.expiry)}),(0,h.jsx)("td",{children:e.quantity}),(0,h.jsxs)("td",{children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-50 py-1 p-0 text-center bg-seashell",value:e.qtytoSale?e.qtytoSale:"",onChange:function(t){t.target.value<=e.quantity?e.qtytoSale=t.target.value:m().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=Je(e.qtytoSale,e.disccost),he((function(e){return(0,N.Z)(e)}))}})," "]}),(0,h.jsxs)("td",{children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-50 py-1 p-0 text-center bg-seashell",value:e.discount?e.discount:"",onChange:function(t){var n,s;e.discount=t.target.value,e.disccost=(n=e.mainmrp,(s=t.target.value)?(Number(n)-Number(n)*Number(s)/100).toFixed(2):Number(n)),e.totalamt=Je(e.qtytoSale,Number(e.disccost),Number(e.cost)),he((function(e){return(0,N.Z)(e)}))}})," "]}),(0,h.jsxs)("td",{children:["\u20b9",e.mainmrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.cost]}),(0,h.jsx)("td",{children:e.gst+"%"}),(0,h.jsxs)("td",{children:["\u20b9",e.disccost]}),(0,h.jsxs)("td",{children:["\u20b9",e.totalamt]}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{src:"images/delete.png",className:"img-fluid",onClick:function(){!function(e){Ye.apply(this,arguments)}(e.batch)}})})]})}))}):e.existedconsumables&&0==e.existedconsumables.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-seashell",children:(0,h.jsx)("tr",{className:"p-0 m-0 text-center",children:(0,h.jsx)("td",{className:"position-absolute text-charcoal75 fw-bold start-0 end-0",children:"No Consumabels Added"})})}):(0,h.jsx)(h.Fragment,{}),e.existedconsumables&&0==e.existedconsumables.length?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("tbody",{className:"position-relative bg-seashell",children:e.existedconsumables.map((function(e,t){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:["m",e.medicies_stocks_id]}),(0,h.jsx)("td",{children:e.medicine.display_name}),(0,h.jsx)("td",{children:e.medicine_stocks.batch_no}),(0,h.jsx)("td",{children:Ue(e.medicine_stocks.expiry_date)}),(0,h.jsx)("td",{}),(0,h.jsx)("td",{children:e.qty}),(0,h.jsxs)("td",{className:"text-start p-0 m-0 ps-4",children:[e.discount," "]}),(0,h.jsxs)("td",{children:["\u20b9",e.main_mrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.medicine_stocks.cost]}),(0,h.jsx)("td",{children:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate)+"%"}),(0,h.jsxs)("td",{children:["\u20b9",e.disc_mrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.total_amount]}),(0,h.jsx)("td",{children:Ee&&He==t?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("img",{src:"images/delete.png",className:"img-fluid",onClick:function(){Oe(t),et(e.id)}})})]})}))})]})})]}),(0,h.jsxs)("div",{className:"container",style:{height:"30vh",paddingBottom:"10vh"},children:[(0,h.jsx)("h6",{className:"fw-bold p-0 m-0 ps-0 ms-0 my-2",children:"Nurse notes"}),Ge?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("textarea",{className:"col-12 form-control w-100",value:Pe||"",onChange:function(e){return Fe(e.target.value)},style:{width:"95vh",height:"10vh"}})]})]}),(0,h.jsx)("div",{className:"col-12 position-absolute start-0 end-0 bottom-0 py-3 border border-1 text-start bg-pearl align-items-center rounded-bottom",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center justify-content-between",children:[(0,h.jsx)("div",{className:"col-6 col-md-4",children:(0,h.jsxs)("div",{className:"row ",children:[(0,h.jsxs)("div",{className:"col-5 ms-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start",children:" Order Total "}),pe&&0!=pe.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:["\u20b9",ve]}),(0,h.jsxs)("p",{className:"text-success fw-bolder card-header text-start",children:["+\u20b9",be]})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("hr",{className:"p-0 m-0 py-1 mt-1 ps-3"}),(0,h.jsxs)("h6",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:["\u20b9",(Number(be)+Number(ve)).toFixed(2)]})]}),(0,h.jsxs)("div",{className:"col-5 ms-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start",children:" Total Items"}),pe&&0!=pe.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:e.existedconsumables&&e.existedconsumables.length?e.existedconsumables.length:0}),(0,h.jsxs)("p",{className:"text-success fw-bolder card-header text-start",children:["+",pe&&pe.length?pe.length:0]})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("hr",{className:"p-0 m-0 py-1 mt-1"}),(0,h.jsx)("h6",{className:"text-charcoal  fw-bolder card-header text-start ms-2",children:e.existedconsumables&&e.existedconsumables.length||pe&&pe.length?pe.length+e.existedconsumables.length:0})]})]})}),(0,h.jsx)("div",{className:"col-6 col-md-8",children:(0,h.jsxs)("div",{className:"row p-0 m-0 justify-content-end ",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 align-self-center",children:Ge?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"button button-seashell px-5 me-2",onClick:function(){(0,u.H)(),m().Confirm.show("Save Sale Entry","Do you surely want to save the following Note","Yes","No",(function(){Xe()}),(function(){return 0}),{})},children:"Save Notes"})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0 align-self-center",children:T?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"button button-charcoal px-5 me-2",onClick:function(){Ke()},children:"Save All"})})]})})]})})]})},Z=n(1391);function C(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.U8),d=(0,a.useContext)(r.Pl),N=localStorage.getItem("id"),v=localStorage.getItem("ClinicId"),y=(0,a.useState)([]),w=(0,s.Z)(y,2),C=w[0],S=w[1],D=(0,a.useState)(0),A=(0,s.Z)(D,2),P=A[0],F=A[1],L=(0,a.useState)(!1),I=(0,s.Z)(L,2),E=I[0],z=I[1],T=(0,a.useState)(),B=(0,s.Z)(T,2),G=B[0],R=B[1],W=(0,a.useState)("none"),M=(0,s.Z)(W,2),H=M[0],O=M[1],U=(0,a.useState)("none"),q=(0,s.Z)(U,2),V=q[0],J=q[1],Q=(0,a.useState)(),Y=(0,s.Z)(Q,2),$=(Y[0],Y[1]),K=(0,a.useState)(),X=(0,s.Z)(K,2),ee=X[0],te=X[1],ne=(0,a.useState)(),se=(0,s.Z)(ne,2),ae=se[0],oe=se[1],ce=(0,a.useState)(),ie=(0,s.Z)(ce,2),le=ie[0],re=ie[1],de=(0,a.useState)("none"),me=(0,s.Z)(de,2),ue=me[0],pe=me[1],he=(0,a.useState)("none"),xe=(0,s.Z)(he,2),fe=xe[0],be=xe[1],ge=(0,a.useState)("none"),je=(0,s.Z)(ge,2),Ne=je[0],ve=je[1],ye=(0,a.useState)(),we=(0,s.Z)(ye,2),ke=we[0],_e=we[1],Ze=(0,a.useState)([]),Ce=(0,s.Z)(Ze,2),Se=Ce[0],De=Ce[1],Ae=(0,a.useState)(),Pe=(0,s.Z)(Ae,2),Fe=Pe[0],Le=Pe[1],Ie=(0,a.useState)(),Ee=(0,s.Z)(Ie,2),ze=Ee[0],Te=Ee[1],Be=(0,a.useState)("none"),Ge=(0,s.Z)(Be,2),Re=Ge[0],We=Ge[1],Me=(0,a.useState)(),He=(0,s.Z)(Me,2),Oe=He[0],Ue=He[1],qe=(0,a.useState)(),Ve=(0,s.Z)(qe,2),Je=Ve[0],Qe=Ve[1],Ye=(0,a.useState)("none"),$e=(0,s.Z)(Ye,2),Ke=$e[0],Xe=$e[1],et=(0,a.useState)(),tt=(0,s.Z)(et,2),nt=(tt[0],tt[1]),st=(0,a.useState)("none"),at=(0,s.Z)(st,2),ot=at[0],ct=at[1],it=function(){"block"===H&&(O("none"),R())};function lt(){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)((0,o.Z)().mark((function s(){return(0,o.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return z(!0),p.Loading.dots("Getting Details",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),s.next=4,i.Z.get("".concat(t,"/appointment/list?clinic_id=").concat(v,"&doctor_id=").concat(e.todayDoc[e._selected][0],"&from_date=").concat(n,"&to_date=").concat(n)).then((function(e){S(e.data.data&&void 0!=e.data.data?e.data.data:[])}));case 4:z(!1),p.Loading.remove(),F(1);case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}function dt(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,a.useEffect)((function(){lt()}),[e._selected]);var mt=[[1,"Pending","lightred"],[2,"Booked","lightblue"],[3,"Cancelled","lightred"],[4,"QR Generated","light"],[5,"Checked_in","brandy"],[6,"Vitals Done","lightred"],[7,"In_apppointment","lightyellow"],[8,"Payment done","lightgreen"],[9,"Unattained","lightyellow"],[10,"Completed","lightgreen"]];function ut(e){for(var t,n=0;n<mt.length;n++)if(e==mt[n][0]){t=mt[n][1];break}return t}function pt(e){for(var t,n=0;n<mt.length;n++)if(e==mt[n][0]){t=mt[n][2];break}return t}function ht(){return(ht=(0,c.Z)((0,o.Z)().mark((function n(s){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.target.value&&N&&s.target.name)){n.next=12;break}return n.prev=1,p.Loading.circle("Upadating Appointment Status",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),n.next=5,i.Z.post("".concat(t,"/appointment/change/status"),{appointment_id:s.target.name,status:s.target.value,admin_id:N}).then((function(t){lt(),p.Loading.remove(),e.fetchapi(),m().Notify.success(t.data.message)}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),m().Notify.failure(n.t0.message);case 10:n.next=13;break;case 12:m().Notify.alert("Please try Again");case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))).apply(this,arguments)}var xt=function(){J("none"),te()};function ft(){"block"===fe&&(be("none"),_e())}function bt(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le(!0),e.next=3,i.Z.get("".concat(t,"/appointment/vitals/list?appointment_id=").concat(n)).then((function(e){De(e.data.data.vitals),Le(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=(0,c.Z)((0,o.Z)().mark((function e(n,s){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m().Loading.dots("Sending",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.3rem"}),e.prev=1,e.next=4,i.Z.post("".concat(t,"/appointment/call/in"),{appointment_id:s,admin_id:N}).then((function(e){m().Notify.success(e.data.message.slice(0,-1)+" to "+n),m().Loading.remove()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m().Loading.remove(),m().Notify.warning(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var Nt=function(e,t){(0,u.H)(),m().Confirm.show("Call Patient ","Do you surely want to call ".concat(e),"Yes","No",(function(){!function(e,t){jt.apply(this,arguments)}(e,t)}),(function(){return 0}),{})};function vt(){"block"==Re&&(We("none"),Te())}function yt(){"none"===Ke&&Xe("block")}function wt(){"block"===Ke&&(Xe("none"),Ue())}function kt(){"block"===Ke&&(Xe("none"),Qe())}var _t=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Bill",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/appointment/bill"),{appointment_id:n,admin_id:N}).then((function(e){m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.bill_url,"_blank","noreferrer")}))}catch(s){m().Notify.failure(s.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Prescription",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/swift/pdf"),{appointment_id:n}).then((function(e){m().Notify.success(e.data.message),m().Loading.remove(),window.open(e.data.data.prescription_pdf,"_blank","noreferrer")}))}catch(s){m().Notify.failure(s.message),m().Loading.remove()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n,s,a){var c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a,void 0==s||null==s)m().Notify.failure("Please Add a Phone Number to send the message on WhatsApp");else{m().Loading.circle("Sending Bill on Whats App",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/send/bill/whatsapp"),{appointment_id:n,check_pres:c,admin_id:N}).then((function(e){m().Notify.success("".concat(e.data.message).concat(1==c?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),St=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n,s,a){var c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a,void 0==s||null==s)m().Notify.failure("Please Add a Phone Number to send the message on SMS");else{m().Loading.circle("Sending Bill on SMS",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(t,"/send/bill/sms"),{appointment_id:n,check_bill:1,check_pre:c}).then((function(e){m().Notify.success("".concat(e.data.message).concat(1==c?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(o){m().Notify.failure(o.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),Dt=function(){"none"===Ne&&ve("block"),"block"===Ne&&(ve("none"),re())},At=function(){"none"===ot&&ct("block"),"block"===ot&&(ct("none"),oe())};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{id:"doctorscheduledata",children:[(0,h.jsx)("section",{className:"timeslotsection",children:(0,h.jsxs)("div",{className:"container-fluid p-0 m-0 ps-1 ",children:[(0,h.jsx)("div",{className:"row p-0 m-0",children:(0,h.jsx)("div",{className:" col-12 p-0 m-0 align-items-center",children:(0,h.jsxs)("div",{className:"row align-items-center p-0 m-0 mt-3 mb-2 ms-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("h6",{className:"p-0 m-0 text-charcoal fw-bolder text-start",children:"Time Slots Avaliable"})}),(0,h.jsxs)("div",{className:"col-2 ps-1",children:[(0,h.jsx)("button",{className:"btn m-0 p-0",children:(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",onClick:function(){"none"===ue&&pe("block")}})}),(0,h.jsx)("div",{className:"d-".concat(ue," rounded-1 quickdocslots bg-seashell shadow col-lg-6 col-md-8 col-sm-12 col-12 col-xl-4 position-absolute end-0 start-0 top-0 m-auto mt-3"),style:{zIndex:"3010",minWidth:"10rem",maxWidth:"30rem"},children:(0,h.jsx)(b,{CloseAddQuickSlots:function(){"block"===ue&&pe("none")},fetchapi:e.fetchapi,DocClinic:e.DocClinic,DoctorID:e.DoctorID,DoctorName:e.DoctorName})})]})]})})}),(0,h.jsx)("div",{className:"scroll timeslots col-12 justify-content-around",children:e.todayDoc[e._selected][3].map((function(t,n){return 0==t[1]?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"button-sm button-".concat(ee==n?"charcoal":"charcoal-outline"," m-1 px-3 py-2 fw-bold rounded-1"),style:{letterSpacing:"1px"},onClick:function(e){J("block"),te(n)},children:dt(t[0])},n),ee==n?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"d-".concat(ee==n?V:"none"," col-lg-8 col-md-10 col-sm-12 col-12 col-xl-6 shadow quickappointment position-absolute m-auto start-0 end-0 bg-seashell rounded-4 border border-1"),style:{top:"-3.8rem"},children:(0,h.jsx)(f,{fetchapi:e.fetchapi,closeAddAppointmentform:xt,DocClinic:e.DocClinic,timeindex:ee,selectedtime:t[0],selectedtimeID:t[2]})})}):(0,h.jsx)(h.Fragment,{})]}):(0,h.jsx)("button",{disabled:!0,className:" button-sm button-charcoal50-outline m-1 px-3 py-2 rounded-1 fw-bold",style:{letterSpacing:"1px"},children:dt(t[0])},n)}))})]})}),(0,h.jsxs)("section",{className:"allappointmentsection p-0 m-0 ms-1",children:[(0,h.jsx)("div",{className:"col-auto m-0 p-0 align-items-center",children:(0,h.jsx)("h6",{className:"p-0 ms-1 text-charcoal fw-bolder mt-3 mb-2",children:"Appointments"})}),(0,h.jsx)("div",{className:" scroll scroll-y align-content-center align-items-center",style:{minHeight:"50vh",maxHeight:"50vh",Height:"50h"},children:(0,h.jsxs)("table",{className:"table text-start",children:[(0,h.jsx)("thead",{className:"p-0 m-0 px-2 bg-pearl",children:(0,h.jsxs)("tr",{className:"p-0 m-0 position-sticky text-charcoal75 top-0",style:{fontSize:"0.75rem"},children:[(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Update"},0),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start",children:"Time"},3),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:"Patient"},2),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start px-3",children:"Status"},1),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:" Amount"},4),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl",children:"Vitals"},6),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl d-".concat(d.appointment_charges_edit?"":"none"),children:"Bill"},7),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Consumables"},9),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"more"},9)]})}),0==P?(0,h.jsx)("tbody",{className:"scroll scroll-y",children:(0,h.jsx)("tr",{className:" position-relative text-burntumber fs-3 mt-1 text-center m-auto",children:(0,h.jsx)("td",{className:" position-absolute start-0 end-0 text-burntumber fs-3 mt-1 text-center"})})}):(0,h.jsx)("tbody",{children:C&&void 0!==C&&0==C.length?(0,h.jsx)("tr",{children:(0,h.jsx)("button",{className:"text-center position-absolute border-0 text-charcoal fw-bold px-5 start-0 end-0 mx-auto",children:"No Appointments Found"})}):C.map((function(t,n){return(0,h.jsxs)("tr",{className:"align-middle",children:[(0,h.jsx)("td",{className:"py-0 bg-".concat(G===n?"lightyellow":"","  text-center"),children:(0,h.jsx)("button",{className:"btn m-0 p-0",onClick:function(e){"none"===H&&(O("block"),nt(!0)),R(n),$(t.id)},children:(0,h.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image",className:"img-fluid"},n)},n)}),(0,h.jsx)("td",{className:"py-0 text-start fw-bold",style:{letterSpacing:"1px"},children:dt(t.timeslot.time_from)}),(0,h.jsx)("td",{className:"py-0 ",children:(0,h.jsxs)("div",{className:"row p-0 m-0",style:{width:"fit-content"},children:[(0,h.jsxs)("div",{className:"col-12 p-0 m-0 fw-bold align-self-end",children:[t.patient&&null!==t.patient.full_name?t.patient.full_name:"N/A",null!=t.patient&&1==t.patient.is_profile_verified?(0,h.jsx)("img",{className:"p-0 m-0 me-4 img-fluid",src:"images/verified.png",style:{scale:"0.8"}}):""]}),(0,h.jsx)("small",{className:"col-auto p-0 m-0 text-burntumber fw-bold",style:{letterSpacing:"1px"},children:t.patient&&null!=t.patient.phone_number?t.patient.phone_number:"N/A"})]})}),(0,h.jsx)("td",{className:" text-start pe-5",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsx)("div",{className:"col-1 p-0 m-0 me-2",children:(0,h.jsx)("div",{className:"rounded-circle border-1 button-".concat(pt(t.appointment_status)," fontmain"),style:{height:"12px",width:"12px"}})}),(0,h.jsx)("div",{className:"col-5 p-0 m-0",children:(0,h.jsxs)("select",{disabled:1!=d.appointment_edit,className:"bg-transparent border-0 text-start fw-bold ",name:t.id,onChange:function(e){!function(e){ht.apply(this,arguments)}(e)},children:[(0,h.jsx)("option",{className:"fw-bold",selected:!0,disabled:!0,children:ut(t.appointment_status)}),(0,h.jsx)("option",{className:"button-lightred",value:"1",children:"Pending"},0),(0,h.jsx)("option",{className:"button-lightblue",value:"2",children:"Booked"},1),(0,h.jsx)("option",{className:"button-lightred",value:"3",children:"Cancelled"},2),(0,h.jsx)("option",{className:"button-pearl",value:"4",children:"QR Generated"},3),(0,h.jsx)("option",{className:"button-brandy",value:"5",children:"Checked_in"},4),(0,h.jsx)("option",{className:"button-lightred",value:"6",children:"Vitals Done"},5),(0,h.jsx)("option",{className:"button-lightyellow",value:"7",children:"In_apppointment"},6),(0,h.jsx)("option",{className:"button-lightgreen",value:"8",children:"Payment done"},7),(0,h.jsx)("option",{className:"button-lightyellow",value:"9",children:"Unattained"},8),(0,h.jsx)("option",{className:"button-lightgreen",value:"10",children:"Completed"},9)]})})]})}),(0,h.jsxs)("td",{className:"py-0 text-start",children:[(0,h.jsxs)("div",{className:"col p-0 m-0 fw-bold fontmain",style:{fontSize:"0.75rem",letterSpacing:"1px"},children:["\u20b9",t.total_amount]}),(0,h.jsxs)("div",{className:"col p-0 m-0 text-start",children:[(0,h.jsx)("button",{className:"button-sm p-0 m-0 bg-transparent border-0",onClick:function(){Qe(n),yt()},children:(0,h.jsx)(l.Z,{appointmentData:t,index:n,Appointmentlist:lt})}),Je==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"payments bg-seashell shadow-sm start-0 end-0 top-0 mx-auto border border-1 rounded-1 col-lg-6 col-md-10 col-sm-12 col-12 mt-2 col-xl-6 position-absolute px-5 py-2 d-".concat(Je==n?Ke:"none"),children:(0,h.jsx)(j.H,{ClosePaymentsForm:kt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:lt,setsingleload:F,isLoading:E,appointmentdata:C,paymentsi:Je})})]}):(0,h.jsx)(h.Fragment,{})]})]}),(0,h.jsx)("td",{className:" text-center py-0 bg-".concat(ke===n?"lightyellow":""),children:(0,h.jsx)("button",{className:"btn p-0 m-0",onClick:function(){_e(n),"none"===fe&&be("block"),bt(t.id)},children:(0,h.jsx)("img",{src:"/images/vitals.png",alt:"displaying_image"})})}),(0,h.jsxs)("td",{className:" text-center py-0 d-".concat(d.appointment_charges_edit?"":"none"," bg-").concat(ze===n?"lightyellow":""),children:[" ",(0,h.jsx)("img",{src:"/images/bill.png",onClick:function(){Te(n),"none"===Re&&We("block")},alt:"displaying_image",className:"me-1"}),"  "]}),(0,h.jsx)("td",{className:" text-center py-0  bg-".concat(le===n?"lightyellow":""),children:(0,h.jsxs)("button",{className:"button-sm border-0 p-0 m-0 position-relative bg-".concat(le===n?"lightyellow":"transparent"),children:[(0,h.jsx)("img",{src:"/images/bandage.png",onClick:function(){re(n),Dt()},alt:"displaying_image",className:"me-1"}),(0,h.jsx)("span",{class:" position-absolute start-75 translate-middle badge p-0 m-0 text-burntumber fw-bold rounded-2 ",style:{zIndex:"2",top:"10%"},children:C[n].medicine_used.length})]})}),(0,h.jsx)("td",{className:"text-center",children:(0,h.jsxs)("div",{className:"dropdown d-inline-block ",children:[(0,h.jsx)("button",{className:"button p-0 m-0 bg-transparent border-0 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("img",{src:"/images/more.png",alt:"displaying_image",className:"img-fluid"})}),(0,h.jsxs)("ul",{className:"dropdown-menu shadow-sm p-2 scroll",style:{"-webkit-appearance":"none",appearance:"none",width:"max-content",height:"40vh"},children:[(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){return Nt(t.patient.full_name,t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/speaker.png",alt:"displaying_image"})," Call Patient"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){_t(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image"})," Generate Bill"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){Zt(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image"})," Generate Prescription"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){Ct(e,n,1)}),(function(){Ct(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/whatsapp.png",alt:"displaying_image"})," Send on Whats App"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){St(e,n,1)}),(function(){St(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid ms-2",src:"/images/message.png",alt:"displaying_image"}),"Send on SMS"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){At(),oe(n)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/medicine.png",alt:"displaying_image"}),"Buy Medicines"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold p-0 m-0 align-items-center p-2  d-".concat(d.appointment_charges_edit?"flex":"none"),onClick:function(){Ue(n),yt()},children:[(0,h.jsx)("img",{src:"/images/rupee.png",className:"me-2 img-fluid",alt:"displaying_image"}),"Payments"]})]})]})}),G===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"updateappointment shadow-sm border-0 rounded-1 bg-seashell mt-2 start-0 end-0 top-0 col-lg-8 col-md-10 col-sm-11 col-11 col-xl-5 d-".concat(G==n?H:"none"," position-absolute"),children:(0,h.jsx)(x,{fetchapi:e.fetchapi,fetchallAppointmentslist:e.fetchallAppointmentslist,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:null!=t.patient&&null!=t.patient.id?t.patient.id:"",appointmentid:t.id,addappointmentform:V,closeappointmentform:it,doctorid:e.doctorid,appointmentdoctorid:t.doctor.id,appointmentdate:t.appointment_date,appointmenttime:dt(t.timeslot.time_from)})})]}):(0,h.jsx)(h.Fragment,{}),ke===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"vitals position-absolute border-0 d-".concat(ke==n?fe:"none"),style:{zIndex:"4"},children:(0,h.jsx)(g,{GetAppointmentVitals:bt,CloseVitals:ft,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,appointmentvitalslist:Se,loadvitals:Fe,patientid:t.patient&&null!=t.patient.id?t.patient.id:""})})]}):(0,h.jsx)(h.Fragment,{}),ze==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"bill d-".concat(ze==n?Re:"none"," start-0 end-0 mx-auto top-0 border-0 position-absolute p-0 m-0 col-lg-8 col-md-10 col-sm-11 col-11 mt-2 col-xl-6 "),style:{zIndex:"4",height:"60vh"},children:(0,h.jsx)(k,{fetchapi:e.fetchapi,CloseBillForm:vt,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",Appointmentlist:lt,setsingleload:F,isLoading:E,Data:t,appointmentdata:C,appointmentid:t.id,doctorfee:t.doctor.consulationFee,billform:Re})})]}):(0,h.jsx)(h.Fragment,{}),Oe===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"payments start-0 end-0 top-0 position-absolute bg-seashell mx-auto rounded-2 pt-2 px-2 p-0 m-0 col-lg-8 col-md-10 col-sm-11 col-11 mt-2 col-xl-6 d-".concat(Oe==n?Ke:"none"),style:{zIndex:"4"},children:(0,h.jsx)(j.H,{ClosePaymentsForm:wt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:lt,setsingleload:F,isLoading:E,appointmentdata:C})})]}):(0,h.jsx)(h.Fragment,{}),le==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"consumables mx-auto  position-absolute top-0 start-0 end-0   d-".concat(le==n?Ne:"none"," "),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(_,{appointmentdata:C[n],Appointmentlist:lt,existedconsumables:C[n].medicine_used.reverse(),patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,toggleConsumables:Dt})})]}):(0,h.jsx)(h.Fragment,{}),ae==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"saleentryform mx-auto col-xl-6 col-lg-8 col-md-10 p-0 m-0 position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0  d-".concat(ae==n?ae:"none"),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(Z.c3,{data:t,DoctorID:e.DoctorID,DoctorName:e.DoctorName,saleindex:ae,toggle_nsef:At,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:t.patient&&null!=t.patient.id?t.patient.id:""})})]}):(0,h.jsx)(h.Fragment,{})]})}))})]})})]})]})})}function S(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.q2),l=(0,a.useState)(),d=(0,s.Z)(l,2),u=d[0],p=d[1],x=(0,a.useState)([]),f=(0,s.Z)(x,2),b=f[0],g=f[1];function j(e,t){e=e.split(":"),t=t.split(":");var n=new Date(0,0,0,e[0],e[1],0),s=new Date(0,0,0,t[0],t[1],0).getTime()-n.getTime(),a=Math.floor(s/1e3/60/60);s-=1e3*a*60*60;var o=Math.floor(s/1e3/60);return a<0&&(a+=24),(0!=a?(a<=9?"0":"")+a+"hrs ":"")+(o<=9?"0":"")+o+"mins"}function N(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}var v=(0,a.useState)([]),y=(0,s.Z)(v,2),w=y[0],k=y[1],_=(0,a.useState)(),Z=(0,s.Z)(_,2),C=Z[0],S=Z[1],D=(0,a.useState)(!1),A=(0,s.Z)(D,2),P=A[0],F=A[1],L=localStorage.getItem("ClinicId");function I(){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S(!0),n.next=3,i.Z.get("".concat(t,"/todays/doctor/time/list?doctor_id=").concat(e.docid,"&clinic_id=").concat(L)).then((function(e){0==e.data.data.length||k(e.data.data.reverse()),S(!1)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var z=(0,a.useState)(!1),T=(0,s.Z)(z,2),B=T[0],G=T[1],R=(0,a.useState)("1"),W=(0,s.Z)(R,2),M=W[0],H=W[1];function O(){return(O=(0,c.Z)((0,o.Z)().mark((function n(){var s;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(F(!0),s=localStorage.getItem("id"),!(L&&M&&e.docid&&s)){n.next=16;break}return n.prev=3,n.next=6,i.Z.post("".concat(t,"/doctor/start/time"),{clinic_id:L,room_id:M,doctor_id:e.docid,admin_id:s}).then((function(e){F(!1),m().Notify.success(e.data.message)}));case 6:return n.next=8,I();case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),m().Notify.failure(n.t0.message),F(!1);case 14:n.next=18;break;case 16:m().Notify.alert("Please fill all details"),F(!1);case 18:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)((0,o.Z)().mark((function e(n){var s,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("id"),G(!0),a=n.id,e.prev=3,e.next=6,i.Z.post("".concat(t,"/doctor/end/time"),{admin_id:s,log_id:a}).then((function(e){m().Notify.success(e.data.message)}));case 6:return e.next=8,I();case 8:G(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),m().Notify.failure(e.t0.message),G(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return(0,a.useEffect)((function(){I()}),[e._selected]),(0,a.useEffect)((function(){for(var e=0;e<n.length;e++)n[e].id==Number(L)&&g(n[e].rooms)}),[L]),(0,h.jsxs)("div",{className:"scroll room_timecards align-items-center align-content-center my-auto mb-2 ms-2",children:[(0,h.jsx)("div",{id:"cardslot",className:"d-".concat(C?"none":"inline-flex"),children:(0,h.jsx)("div",{className:"card card1 p-0 m-0 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex align-items-center ms-3",children:[(0,h.jsx)("p",{className:" m-0 p-0 text-charcoal fw-bold me-2",children:"Room"}),(0,h.jsx)("select",{onChange:function(e){H(e.target.value)},className:"form-control bg-charcoal25 text-charcoal my-1 mx-2 p-0 py-2 px-3 w-auto text-center border-0",id:"clinicroom1",children:b.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.room_number})}))}),P?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("button",{className:"btn playbutton p-0 m-0 mx-2",onClick:function(){return O.apply(this,arguments)},children:(0,h.jsx)("img",{className:"img-fluid",src:"images/play.png"})})]})})})}),C?(0,h.jsx)("div",{className:"card bg-pearl text-center ms-3 bg-seashell","aria-hidden":"true",style:{width:"18rem",paddingTop:"0.76rem",paddingBottom:"0.76rem"},children:(0,h.jsxs)("div",{className:" text-start placeholder-glow gx-2",children:[(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-2 ms-2 text-start"})]})}):w.map((function(e,t){return(0,h.jsx)("div",{id:"cardslot text-start",className:"d-inline-flex m-1",children:(0,h.jsx)("div",{className:"card p-0 m-0 py-1 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex text-start align-items-center p-0 m-0 ",children:[(0,h.jsx)("p",{className:" p-0 m-0  ms-2 text-charcoal75 fw-bold me-1 ps-2 ",style:{fontSize:"0.75rem"},children:"Room"}),(0,h.jsx)("h5",{className:"text-burntumber fw-semibold my-1 me-2 border-0",id:"clinicroom",children:e.room_id}),B&&t===u?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"d-flex p-0 m-0 justify-content-center",children:[(0,h.jsx)("button",{type:"text",className:"btn fromtime p-0 m-0 float-end text-charcoal text-center",style:{fontSize:"0.75rem"},children:e.login_time?N(e.login_time):""}),(0,h.jsx)("div",{className:"mx-1 align-self-center",style:{padding:"0.9px"},children:"-"}),(0,h.jsx)("button",{type:"text",className:"btn totime p-0 m-0 text-charcoal float-end text-center",style:{fontSize:"0.75rem"},children:e.logout_time?N(e.logout_time):"__"})]}),(0,h.jsx)("div",{className:"d-flex mx-2",children:e.logout_time?(0,h.jsx)("div",{id:"totalhrs",className:" p-0 m-0 timediff text-burntumber fw-bold text-center pe-2",defaultValue:"",style:{fontSize:"0.75rem"},children:e.logout_time?j(e.login_time,e.logout_time):""}):(0,h.jsx)("button",{className:"btn p-0 m-0 pausebutton",value:e.id,onClick:function(n){U(e),p(t)},children:(0,h.jsx)("img",{className:"",src:"images/pause.png",onClick:function(e){U(e),p(t)}})})})]})]})})})},t)}))]})}var D=n(7485),A=(0,a.createContext)(),P=(0,a.createContext)();var F=function(e){var t=(0,a.useContext)(r.Pl),n=(0,a.useState)(0),o=(0,s.Z)(n,2),c=o[0],i=o[1],l=(0,a.useState)(0),d=(0,s.Z)(l,2),m=d[0],u=d[1],p=(0,a.useState)(),x=(0,s.Z)(p,2),f=x[0],b=x[1],g=(0,a.useState)(),j=(0,s.Z)(g,2),N=j[0],v=j[1],y=(0,a.useState)(),w=(0,s.Z)(y,2),k=w[0],_=w[1],Z=(0,a.useState)([0]),F=(0,s.Z)(Z,2),L=F[0],I=(F[1],(0,a.useState)("none")),E=(0,s.Z)(I,2),z=E[0],T=E[1],B=function(){"none"===z&&(i(1),T("block")),"block"===z&&(i(0),T("none"))};return function(){for(var e=0;e<L.length&&!L.includes(m);e++)L.push(m)}(),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"container-fluid doctorsection p-0 m-0 mt-1 ps-1 scroll",children:(0,h.jsxs)("div",{className:" hstack gap-3 d-flex p-0 m-0 py-1 ps-1 align-items-center",children:[e.isLoading?(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"2rem",height:"2rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]}),(0,h.jsxs)("div",{className:"spinner-grow my-auto",style:{width:"1.5rem",height:"1.5rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]})," "]}):e.todayDoc.map((function(e,t){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-auto doctors p-0 m-0",children:(0,h.jsxs)("button",{className:" button rounded-1 p-0 m-0 py-1 px-3 btn-sm col-auto shadow-none text-".concat(t===m?"light":"charcoal75 fw-bolder"," button-").concat(t===m?"charcoal":"pearl"," border-").concat(t===m?"secondary":"none"),style:{fontSize:"0.9rem"},autoFocus:t===m,onFocus:function(){b(e[0]),v(e[1]),_(e[2])},value:"".concat(e[0],".").concat(e[1]),onClick:function(n){u(t),b(e[0]),v(e[1])},children:["Dr. ".concat(e[1])," "]},t)}),(0,h.jsx)("div",{className:"vr rounded-1 h-75 align-self-center",style:{padding:"0.8px"}})]})})),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"btn bg-transparent border-0 ",id:"adddoctorbtn",onClick:B,children:(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image"})})})]})}),(0,h.jsx)("section",{className:"patientsection p-0 m-0 ps-1 position-relative",children:e.Loading?(0,h.jsx)("div",{className:"container-fliud pt-3",children:(0,h.jsxs)("div",{className:"d-flex fs-2 align-items-center justify-content-around",children:[(0,h.jsx)("strong",{className:"text-charcoal",children:"Please Wait..."}),(0,h.jsx)("div",{className:"text-burntumber spinner-border ml-auto",role:"status","aria-hidden":"true"})]})}):e.todayDoc&&0!=e.todayDoc.length?L.map((function(n,s){return n==m?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"p-0 m-0 my-2 d-".concat(1==t.dashboard_all?"":"none"),children:(0,h.jsx)(S,{docid:e.todayDoc[m][0],_selected:m})}),(0,h.jsx)("div",{className:"p-0 m-0 my-2",children:(0,h.jsx)(A.Provider,{value:N,children:(0,h.jsx)(P.Provider,{value:f,children:(0,h.jsx)(C,{todayDoc:e.todayDoc,DoctorID:f,DoctorName:N,_selected:m,fetchapi:e.fetchapi,DocClinic:k})})})})]},s):(0,h.jsx)("div",{})})):(0,h.jsx)("div",{className:"container-fliud pt-3",children:(0,h.jsxs)("div",{className:"d-flex fs-2 align-items-center justify-content-around",children:[(0,h.jsx)("strong",{className:"text-burntumber",children:"Please Wait..."}),(0,h.jsx)("div",{className:"text-burntumber spinner-border ml-auto",role:"status","aria-hidden":"true"})]})})}),1==c?(0,h.jsx)("div",{className:"col-lg-5 col-md-6 col-sm-12 col-12 doctorinfosection d-".concat(z," me-lg-2 top-0  me-md-2 rounded-4 border bg-seashell shadow-sm position-absolute"),style:{zIndex:"2",marginTop:"5.1rem"},children:(0,h.jsx)(A.Provider,{value:N,children:(0,h.jsx)(P.Provider,{value:f,children:(0,h.jsx)(D.c,{toggledoctorform:B,staticBackdrop4:"staticBackdrop4",fetchapi:e.fetchapi})})})}):(0,h.jsx)(h.Fragment,{})]})}},7485:function(e,t,n){n.d(t,{c:function(){return p}});var s=n(4165),a=n(5861),o=n(9439),c=n(9867),i=n(606),l=n(7992),r=n.n(l),d=n(4012),m=n(6626),u=n(2834),p=function(e){var t=(0,c.useContext)(m.Jx),n=((0,c.useContext)(m.U8),(0,c.useContext)(m.j8)),l=(0,c.useContext)(m.zS),p=(0,c.useContext)(m.q2),h=localStorage.getItem("ClinicId"),x=(0,c.useState)(),f=(0,o.Z)(x,2),b=f[0],g=f[1],j=(0,c.useState)(),N=(0,o.Z)(j,2),v=N[0],y=N[1],w=(0,c.useState)(),k=(0,o.Z)(w,2),_=k[0],Z=k[1],C=(0,c.useState)(),S=(0,o.Z)(C,2),D=S[0],A=S[1],P=(0,c.useState)(),F=(0,o.Z)(P,2),L=F[0],I=F[1],E=localStorage.getItem("id");function z(){return(z=(0,a.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(b&&v&&_&&D&&h&&E)){n.next=6;break}return I(!0),n.next=4,i.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:b,date:v,time_from:_,time_to:D,clinic_id:h,admin_id:E}).then((function(t){e.toggledoctorform(),G(),I(!1),e.fetchapi(),r().Notify.success(t.data.message)}));case 4:n.next=8;break;case 6:r().Notify.warning("Please Fill all Detais"),I(!1);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var T=(0,c.useState)("none"),B=(0,o.Z)(T,2),G=(B[0],B[1],function(){g(),y(),Z(),A()}),R=function(e){for(var t=0;t<l.length;t++)if(void 0!==l[t][0]&&l[t][0]==e)return"(Already added)"};return(0,u.jsxs)("div",{className:"container px-2 fw-bold",children:[(0,u.jsx)("h5",{className:"text-center mt-2 fw-bold",children:"Slot Details"}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==L,"aria-label":"Close",onClick:e.toggledoctorform}),(0,u.jsx)("hr",{}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("label",{className:"ps-1",children:"Doctor"}),(0,u.jsxs)("select",{className:"col-10 form-control selectdoctor",value:b||"",onChange:function(e){g(e.target.value)},children:[(0,u.jsx)("option",{defaultValue:"Select Doctor",children:"Select Doctor"}),n.map((function(e){return(0,u.jsxs)("option",{value:e[0],children:["Dr. ",e[1]," ",R(e[0])]})}))]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Clinic"}),(0,u.jsx)("div",{className:"col-12",children:p.map((function(e,t){return(0,u.jsxs)("label",{className:"d-".concat(h==e.id?"block":"none"," text-burntumber"),children:[(0,u.jsx)("input",{type:"checkbox",className:"radio form-check-input me-1",checked:h==e.id})," ",e.title," ",e.address]})}))}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Date"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"date",className:"form-control col-10",value:v||"",onChange:function(e){y(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time From"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:_||"",onChange:function(e){Z(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time To"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:D||"",onChange:function(e){A(e.target.value)}})}),(0,u.jsx)("hr",{}),L?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("button",{type:"button",className:"button button-charcoal px-5",onClick:function(e){e.preventDefault(),(0,d.H)(),r().Confirm.show("Add Doctor Time Slots","Do you surely want to add the following Doctor","Yes","No",(function(){!function(e){z.apply(this,arguments)}()}),(function(){return 0}),{})},children:" Done "})}),(0,u.jsx)("div",{className:"col-6 pb-2 m-auto text-center",children:(0,u.jsx)("button",{className:"button button-pearl px-5",onClick:G,children:"Reset"})})]})]})}}}]);
//# sourceMappingURL=589.4a6758e9.chunk.js.map