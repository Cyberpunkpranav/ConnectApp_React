"use strict";(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[391],{7866:function(e,t,a){a.d(t,{C:function(){return p}});var s=a(4165),n=a(5861),c=a(9439),l=a(9867),r=a(606),i=a(6626),o=a(7992),d=a.n(o),m=a(6094),h=a(4012),u=(a(9045),a(9371),a(2834)),p=function(e){var t=(0,l.useContext)(i.Jx),a=((0,l.useRef)(null),(0,l.useState)()),o=(0,c.Z)(a,2),p=o[0],x=o[1],b=(0,l.useState)(),N=(0,c.Z)(b,2),f=N[0],j=N[1],_=(0,l.useState)(),g=(0,c.Z)(_,2),v=g[0],y=g[1],S=(0,l.useState)(),k=(0,c.Z)(S,2),w=k[0],T=k[1],C=(0,l.useState)(),G=(0,c.Z)(C,2),Z=G[0],I=G[1],D=(0,l.useState)(""),A=(0,c.Z)(D,2),P=A[0],R=A[1],q=(0,l.useState)(),E=(0,c.Z)(q,2),F=E[0],M=E[1],L=(0,l.useState)(),H=(0,c.Z)(L,2),B=H[0],z=H[1];(0,l.useEffect)((function(){y(P&&void 0!=P.label?P.label:""),I(P&&void 0!=P.value&&void 0!=P.value.place_id?P.value.place_id:"ChIJo2X9SlLiDDkRnZp6DO-GNP0")}),[P]);var Q=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==Z){e.next=9;break}return e.prev=1,e.next=4,r.Z.get("https://maps.googleapis.com/maps/api/place/details/json?key=AIzaSyC4wk5k8E6jKkpJClZlXZ8oavuPyi0AMVE&place_id=".concat(Z)).then((function(e){if(e)for(var t=void 0!=e.data.result?e.data.result.address_components:[],a=0;a<t.length;a++)t[a].types.includes("postal_code")&&j(t[a].short_name?t[a].short_name:""),t[a].types.includes("country")&&z(t[a].long_name?t[a].long_name:""),t[a].types.includes("locality")&&M(t[a].long_name?t[a].long_name:"")})).catch((function(e){console.log(e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){Q()}),[Z]);var O=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.Z.post("".concat(t,"/add/patient/address"),{patient_id:e.patientid,full_name:e.searchinput,address_line_1:p,address_line_2:"",zip_code:f,country:B,state:F,city:v}).then((function(t){1==t.data.status&&(d().Notify.success(t.data.message),void 0!==e.form3?e.getAllPatients():e.setpatientdata(t.data.data),V())}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),V=function(){z(),M(),R(),I(),y(),j(),x()},U=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.Z.post("".concat(t,"/update/patient/address"),{address_id:e.data.id,patient_id:e.data.patient_id,full_name:e.searchinput,address_line_1:p,address_line_2:"",zip_code:f,country:B,state:F,city:v}).then((function(t){1==t.data.status&&(d().Notify.success(t.data.message),e.Toggle_Address(),e.getAllPatients(),V())}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return(0,l.useEffect)((function(){void 0!=e.data&&(x(void 0!=e.data.address_line1?e.data.address_line1:""),j(void 0!=e.data.zip_code?e.data.zip_code:""),T(void 0!=e.data.city?e.data.city:""),M(void 0!=e.data.state?e.data.state:""),z(void 0!=e.data.country?e.data.country:""))}),[]),(0,u.jsxs)("div",{className:"text-center px-2 py-1",children:[(0,u.jsxs)("div",{className:"text-start",children:[(0,u.jsx)("h5",{className:"fw-bold text-charcoal py-2 ms-2",children:void 0!=e.data?"Update Address":"Add New Address"}),(0,u.jsx)("div",{className:"btn-close position-absolute end-0 top-0 mt-2 me-2",onClick:e.Toggle_Address}),(0,u.jsxs)("div",{className:"col-auto mx-2 pb-2 m-auto",children:[(0,u.jsx)("label",{htmlFor:"inputAddress",className:" fw-bold text-charcoal75 ",children:"Add Address"}),(0,u.jsx)("input",{type:"text",className:"form-control ",id:"inputAddress",value:p||"",placeholder:"Address",onChange:function(e){x(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 py-2",children:[(0,u.jsx)("div",{className:"col-12 d-".concat(void 0!=e.data?"block":"none"," my-2"),children:(0,u.jsxs)("label",{className:" fw-bold text-charcoal75",children:["Selected Location:",(0,u.jsx)("span",{className:"text-charcoal ps-1",children:w||(0,u.jsx)("i",{children:"Not selected"})})]})}),(0,u.jsxs)("div",{className:"col-6 m-auto",children:[(0,u.jsx)("label",{htmlFor:"inputAddress",className:" fw-bold text-charcoal75",children:void 0!=e.data?"Select another Location":"Select Location"}),(0,u.jsx)(m.ZP,{apiKey:"AIzaSyC4wk5k8E6jKkpJClZlXZ8oavuPyi0AMVE",selectProps:{defaultInputValue:w||P,onChange:R,placeholder:"Select Location"},onLoadFailed:function(e){d().Notify.warning(e)}})]}),(0,u.jsxs)("div",{className:"col-6 m-auto",children:[(0,u.jsx)("label",{className:" fw-bold text-charcoal75",children:"Pin Code"}),(0,u.jsx)("input",{type:"text",className:"form-control ",value:f||"",placeholder:"pincode",onChange:function(e){j(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-6 m-auto",children:[(0,u.jsx)("label",{htmlFor:"inputpincode",className:" fw-bold text-charcoal75",children:"State"}),(0,u.jsx)("input",{type:"text",className:"form-control",value:F||"",placeholder:"state",onChange:function(e){M(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-6 m-auto",children:[(0,u.jsx)("label",{htmlFor:"inputpincode",className:" fw-bold text-charcoal75",children:"Country"}),(0,u.jsx)("input",{type:"text",className:"form-control",value:B||"",placeholder:"country",onChange:function(e){z(e.target.value)},required:!0})]})]})]}),(0,u.jsx)("div",{className:"button button-charcoal my-2 ",onClick:function(){e.data?((0,h.H)(),d().Confirm.show("Update Address","Do you surely want to Update the following Address?","Yes","No",(function(){U()}),(function(){return 0}),{})):((0,h.H)(),d().Confirm.show("Add New Address","Do you surely want to add a new address of ".concat(e.searchinput),"Yes","No",(function(){O()}),(function(){return 0}),{}))},children:"Save"})]})}},4012:function(e,t,a){a.d(t,{H:function(){return c}});a(9045);var s=a(7992),n=a.n(s),c=function(){return n().Confirm.init({className:"notiflix-confirm",width:"30rem",zindex:4003,position:"top",distance:"0rem",backgroundColor:"#f2f2f2",borderRadius:"20px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Urbanist",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#222023",titleFontSize:"1.5rem",titleMaxLength:34,messageColor:"#222023",messageFontSize:"1.2rem",messageMaxLength:110,buttonsFontSize:"1rem",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#222023",cancelButtonColor:"#222023",cancelButtonBackground:"#ffffff"})}},1391:function(e,t,a){a.d(t,{bE:function(){return oe},Ps:function(){return ee},fd:function(){return B},c3:function(){return M},AL:function(){return P},Md:function(){return W},hL:function(){return se}});var s=a(4942),n=a(3433),c=a(4165),l=a(5861),r=a(9439),i=a(606),o=a(9867),d=a(6626),m=a(3295),h=a(480),u=(a(4594),a(2834)),p=function(e){var t=e.apiData,a=e.fileName;return(0,u.jsx)("button",{className:"button button-seashell text-start text-charcoal fw-bold ms-lg-2",onClick:function(e){return function(e,t){var a={Sheets:{data:h.P6.json_to_sheet(e)},SheetNames:["data"]},s=h.cW(a,{bookType:"xlsx",type:"array"}),n=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetcharset=UTF-8"});m.saveAs(n,t+".xlsx")}(t,a)},children:"Export"})},x=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+"Purchase Entry",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.purchaseentryarr.length){for(a=0;a<e.purchaseentryarr.length;a++)s=e.purchaseentryarr[a].medicines.map((function(e){return{Type:"Medicine","PE ID":e.purchase_entry.bill_id&&null!=e.purchase_entry.bill_id?"PE-"+e.purchase_entry.bill_id:"","Invoice No.":e.purchase_entry.invoice_no&&null!=e.purchase_entry.invoice_no?e.purchase_entry.invoice_no:"","Bill Date":d(e.purchase_entry.bill_date),Distributor:e.purchase_entry.distributor.entity_name,GSTIN:e.purchase_entry.distributor.GSTIN_no,"Item ID":null!=e.id?e.id:"","Item Name":e.medicine&&e.medicine.name&&null!=e.medicine.name?e.medicine.name:"","HSN Code":e.medicine&&null!==e.medicine.hsn_code?e.medicine.hsn_code:"","Batch No.":null!=e.batch_no?e.batch_no:"",ExpiryDate:null!==e.expiry_date?d(e.expiry_date):"",MRP:null!=e.mrp?e.mrp:"",Rate:null!=e.rate?e.rate:"",Qty:e.qty,Discount:null!=e.discount?e.discount:"","Trade Disc.":null!=e.trade_discount?e.trade_discount:"","CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax":m(e.CGST,e.SGST,e.IGST,e.qty),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Cost in Rs":e.cost,"Total Rs":e.total_amount?e.total_amount:""}})),x.push(s),s=e.purchaseentryarr[a].vaccines.map((function(e){return{Type:"Vaccine","PE ID":e.purchase_entry.bill_id&&null!=e.purchase_entry.bill_id?"PE-"+e.purchase_entry.bill_id:"","Invoice No.":e.purchase_entry.invoice_no&&null!=e.purchase_entry.invoice_no?e.purchase_entry.invoice_no:"","Bill Date":d(e.purchase_entry.bill_date),Distributor:e.purchase_entry.distributor.entity_name,GSTIN:e.purchase_entry.distributor.GSTIN_no,"Item ID":null!=e.id?e.id:"","Item Name":e.vaccines&&e.vaccines.name&&null!=e.vaccines.name?e.medicine.name:"","HSN Code":e.vaccines&&null!==e.vaccines.hsn_code?e.vaccines.hsn_code:"","Batch No.":null!=e.batch_no?e.batch_no:"",ExpiryDate:null!==e.expiry_date?d(e.expiry_date):"",MRP:null!=e.mrp?e.mrp:"",Rate:null!=e.rate?e.rate:"",Qty:e.qty,Discount:null!=e.discount?e.discount:"","Trade Disc.":null!=e.trade_discount?e.trade_discount:"","CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax in Rs":m(e.CGST,e.SGST,e.IGST,e.qty),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Cost Rs":e.cost,"Total Rs":e.total_amount?e.total_amount:""}})),x.push(s);l=x.flat(),n(l)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.purchaseentryarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},b=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+"Purchase Return",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.purchasereturnarr.length){t.next=10;break}a=(0,c.Z)().mark((function t(){var a,n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.purchasereturnarr[s].distributor.entity_name,n=e.purchasereturnarr[s].distributor.GSTIN_no,l=e.purchasereturnarr[s].purchase_medicines.map((function(e){return{Type:"Medicine","PE ID":e.purchase_entry.bill_id&&null!=e.purchase_entry.bill_id?"PE-"+e.purchase_entry.bill_id:"","Invoice No.":e.purchase_entry.invoice_no&&null!=e.purchase_entry.invoice_no?e.purchase_entry.invoice_no:"","Bill Date":d(e.purchase_entry.bill_date),Distributor:a,GSTIN:n,"Item ID":null!=e.id?e.id:"","Item Name":e.medicine&&e.medicine.name&&null!=e.medicine.name?e.medicine.name:"","HSN Code":e.medicine&&null!==e.medicine.hsn_code?e.medicine.hsn_code:"","Batch No.":null!=e.batch_no?e.batch_no:"",ExpiryDate:null!==e.expiry_date?d(e.expiry_date):"",MRP:null!=e.mrp?e.mrp:"",Rate:null!=e.rate?e.rate:"",Qty:e.qty,Discount:null!=e.discount?e.discount:"","Trade Disc.":null!=e.trade_discount?e.trade_discount:"","CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax in Rs":m(e.CGST,e.SGST,e.IGST,e.qty),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Cost Rs":e.cost,"Total Rs":e.total_amount?e.total_amount:""}})),x.push(l),l=e.purchasereturnarr[s].purchase_vaccines.map((function(e){return{Type:"Vaccine","PE ID":e.purchase_entry.bill_id&&null!=e.purchase_entry.bill_id?"PE-"+e.purchase_entry.bill_id:"","Invoice No.":e.purchase_entry.invoice_no&&null!=e.purchase_entry.invoice_no?e.purchase_entry.invoice_no:"","Bill Date":d(e.purchase_entry.bill_date),Distributor:a,GSTIN:n,"Item ID":null!=e.id?e.id:"","Item Name":e.vaccine&&e.vaccine.name&&null!=e.vaccine.name?e.vaccine.name:"","HSN Code":e.vaccine&&null!==e.vaccine.hsn_code?e.vaccine.hsn_code:"","Batch No.":null!=e.batch_no?e.batch_no:"",ExpiryDate:null!==e.expiry_date?d(e.expiry_date):"",MRP:null!=e.mrp?e.mrp:"",Rate:null!=e.rate?e.rate:"",Qty:e.qty,"Discount %":null!=e.discount?e.discount:"","Trade Disc. %5":null!=e.trade_discount?e.trade_discount:"","CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax in Rs":m(e.CGST,e.SGST,e.IGST,e.qty),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Cost Rs":e.cost,"Total Rs":e.total_amount?e.total_amount:""}})),x.push(l);case 6:case"end":return t.stop()}}),t)})),s=0;case 3:if(!(s<e.purchasereturnarr.length)){t.next=8;break}return t.delegateYield(a(),"t0",5);case 5:s++,t.next=3;break;case 8:r=x.flat(),n(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.purchasereturnarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},N=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+"Sale Entry",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function x(e,t,a,s){return e?e-=t+a+s:0}function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r,i;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.saleentryarr.length){t.next=11;break}a=[],s=(0,c.Z)().mark((function t(){var s,n,i,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.saleentryarr[l].bill_id?e.saleentryarr[l].bill_id:"",n=e.saleentryarr[l].bill_date?d(e.saleentryarr[l].bill_date):"",i=null!==e.saleentryarr[l].patient.full_name?e.saleentryarr[l].patient.full_name:"",o=null!==e.saleentryarr[l].doctor_name?e.saleentryarr[l].doctor_name:"",r=e.saleentryarr[l].sale_medicines.map((function(e){return{Type:"Medicine","Bill ID":s,Name:i,Doctor:o,"Bill Date":n,"Item ID":null!=e.medicine_stocks.id?e.medicine_stocks.id:"","Item Name":e.medicine&&e.medicine.name&&null!=e.medicine.name?e.medicine.name:"","HSN Code":e.medicine&&null!==e.medicine.hsn_code?e.medicine.hsn_code:"","Batch No.":null!=e.medicine_stocks.batch_no?e.medicine_stocks.batch_no:"",ExpiryDate:null!==e.medicine_stocks.expiry_date?d(e.medicine_stocks.expiry_date):"",Rate:null!=e.medicine_stocks.rate?e.medicine_stocks.rate:"",Cost:null!=e.medicine_stocks.cost?e.medicine_stocks.cost:"",MRP:null!=e.medicine_stocks.mrp?e.medicine_stocks.mrp:"",Qty:e.qty,"Disc. %":null!=e.discount?e.discount:"","Taxable Amt":x(Number(e.total_amount),Number(e.CGST),Number(e.SGST),Number(e.IGST)),"Total CGST":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"Total SGST":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"Total IGST":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax %":m(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Total Tax ":h(e.CGST,e.SGST,e.IGST)*Number(e.qty),Amount:null!==e.total_amount?e.total_amount:"","Grand Total":e.total_amount?e.total_amount:""}})),a.push(r),r=e.saleentryarr[l].sale_vaccines.map((function(e){return{Type:"Vaccine","Bill ID":s,Name:i,Doctor:o,"Bill Date":n,"Item ID":null!=e.vaccine_stocks.id?e.vaccine_stocks.id:"","Item Name":e.vaccine&&e.vaccine.name&&null!=e.vaccine.name?e.vaccine.name:"","HSN Code":e.vaccine&&null!==e.vaccine.hsn_code?e.vaccine.hsn_code:"","Batch No.":null!=e.vaccine_stocks.batch_no?e.vaccine_stocks.batch_no:"",ExpiryDate:null!==e.vaccine_stocks.expiry_date?d(e.vaccine_stocks.expiry_date):"",Rate:null!=e.vaccine_stocks.rate?e.vaccine_stocks.rate:"",Cost:null!=e.vaccine_stocks.cost?e.vaccine_stocks.cost:"",MRP:null!=e.vaccine_stocks.mrp?e.vaccine_stocks.mrp:"",Qty:e.qty,"Disc. %":null!=e.discount?e.discount:"","Taxable Amt":x(Number(e.total_amount),Number(e.CGST),Number(e.SGST),Number(e.IGST)),"Total CGST":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"Total SGST":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"Total IGST":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax %":m(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Total Tax ":h(e.CGST,e.SGST,e.IGST)*Number(e.qty),Amount:null!==e.total_amount?e.total_amount:"","Grand Total":e.total_amount?e.total_amount:""}})),a.push(r);case 8:case"end":return t.stop()}}),t)})),l=0;case 4:if(!(l<e.saleentryarr.length)){t.next=9;break}return t.delegateYield(s(),"t0",6);case 6:l++,t.next=4;break;case 9:i=a.flat(),n(i);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.saleentryarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},f=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+"Sale Returns",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.salereturnarr.length){t.next=10;break}a=(0,c.Z)().mark((function t(){var a,n,r,i,o;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=null!==e.salereturnarr[s].return_date?d(e.salereturnarr[s].return_date):"",n=null!==e.salereturnarr[s].sale_entry_id?"P-"+e.salereturnarr[s].sale_entry_id:"",r=null!==e.salereturnarr[s].return_no?"SR-"+e.salereturnarr[s].return_no:"",i=null!==e.salereturnarr[s].sale_entry.patient.full_name?e.salereturnarr[s].sale_entry.patient.full_name:"",o=null!==e.salereturnarr[s].grand_total?e.salereturnarr[s].grand_total:"",l=e.salereturnarr[s].sale_medicines.map((function(e){return{"Return No.":r,Name:i,Type:"Medicine","SE ID":n,"Return Date":a,"Item ID":null!=e.id?e.id:"","Item Name":e.medicine&&e.medicine.name&&null!=e.medicine.name?e.medicine.name:"","HSN Code":e.medicine&&null!==e.medicine.hsn_code?e.medicine.hsn_code:"","Batch No.":null!=e.medicine_stocks.batch_no?e.medicine_stocks.batch_no:"",ExpiryDate:null!==e.medicine_stocks.expiry_date?d(e.medicine_stocks.expiry_date):"",MRP:null!=e.medicine_stocks.mrp?e.medicine_stocks.mrp:"",Rate:null!=e.medicine_stocks.rate?e.medicine_stocks.rate:"",Cost:null!=e.medicine_stocks.cost?e.medicine_stocks.cost:"",Discount:null!=e.discount?e.discount:"","Selling Cost in Rs":null!==e.disc_mrp?e.disc_mrp:"",Qty:e.qty,"CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"IGST %":e.IGST_rate,"Total Tax in Rs":m(e.CGST,e.SGST,e.IGST,e.qty),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Total in Rs":e.total_amount?e.total_amount:"","Returned Amount":o}})),x.push(l),l=e.salereturnarr[s].sale_vaccines.map((function(e){return{"Return No.":r,Name:i,Type:"Vaccine","SE ID":n,"Return Date":a,"Item ID":null!=e.id?e.id:"","Item Name":e.vaccine&&e.vaccine.name&&null!=e.vaccine.name?e.vaccine.name:"","HSN Code":e.vaccine&&null!==e.vaccine.hsn_code?e.vaccine.hsn_code:"","Batch No.":null!=e.vaccine_stocks.batch_no?e.vaccine_stocks.batch_no:"",ExpiryDate:null!==e.medicine_stocks.expiry_date?d(e.vaccine_stocks.expiry_date):"",MRP:null!=e.vaccine_stocks.mrp?e.vaccine_stocks.mrp:"",Rate:null!=e.vaccine_stocks.rate?e.vaccine_stocks.rate:"",Cost:null!=e.vaccine_stocks.cost?e.vaccine_stocks.cost:"",Discount:null!=e.discount?e.discount:"","Selling Cost in Rs":null!==e.disc_mrp?e.disc_mrp:"",Qty:e.qty,"CGST in Rs":Number(e.CGST)*Number(e.qty),"CGST %":e.CGST_rate,"SGST in Rs":Number(e.SGST)*Number(e.qty),"SGST %":e.SGST_rate,"IGST in Rs":Number(e.IGST)*Number(e.qty),"Total Tax in Rs":m(e.CGST,e.SGST,e.IGST),"Total Tax %":h(e.CGST_rate,e.SGST_rate,e.IGST_rate),"Total in Rs":e.total_amount?e.total_amount:"","Returned Amount":o}})),x.push(l);case 9:case"end":return t.stop()}}),t)})),s=0;case 3:if(!(s<e.salereturnarr.length)){t.next=8;break}return t.delegateYield(a(),"t0",5);case 5:s++,t.next=3;break;case 8:r=x.flat(),n(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.salereturnarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},j=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+" Transfer In ",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.transferinarr.length){t.next=10;break}a=(0,c.Z)().mark((function t(a){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=e.transferinarr[a].medicines.map((function(t){return{Type:"Medicine","TI ID":void 0!=e.transferinarr[a].id?"TI-"+e.transferinarr[a].id:"","From Location":void 0!=e.transferinarr[a].from_location&&void 0!=e.transferinarr[a].from_location.title?e.transferinarr[a].from_location.title:"",Channel:void 0!=e.transferinarr[a].channel?1==e.transferinarr[a].channel?"Pharmacy":"Clinic":"","To Location":void 0!==e.transferinarr[a].to_location&&void 0!=e.transferinarr[a].to_location.title?e.transferinarr[a].to_location.title:"","Transfer Date":void 0!=e.transferinarr[a].transfer_date?d(e.transferinarr[a].transfer_date):"","Item ID":null!=t.medicine_id?t.medicine_id:"","Item Stock ID":null!=t.medicies_stocks_id?t.medicies_stocks_id:"","Item Name":t.medicine_stock_details.medicine.name&&null!==t.medicine_stock_details.medicine.name?t.medicine_stock_details.medicine.name:"","HSN Code":t.medicine_stock_details.medicine.hsn_code&&null!==t.medicine_stock_details.medicine.hsn_code?t.medicine_stock_details.medicine.hsn_code:"","Batch No.":t.medicine_stock_details.batch_no&&null!==t.medicine_stock_details.batch_no?t.medicine_stock_details.batch_no:"",ExpiryDate:null!==t.medicine_stock_details.expiry_date?d(t.medicine_stock_details.expiry_date):"",MRP:null!=t.medicine_stock_details.mrp?t.medicine_stock_details.mrp:"",Rate:null!=t.medicine_stock_details.rate?t.medicine_stock_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.medicine_stock_details.discount?t.medicine_stock_details.discount:"","Trade Disc.":null!=t.medicine_stock_details.trade_discount?t.medicine_stock_details.trade_discount:"","CGST in Rs":Number(t.medicine_stock_details.CGST)*Number(t.qty),"CGST %":t.medicine_stock_details.CGST_rate,"SGST in Rs":Number(t.medicine_stock_details.SGST)*Number(t.qty),"SGST %":t.medicine_stock_details.SGST_rate,"IGST in Rs":Number(t.medicine_stock_details.IGST)*Number(t.qty),"IGST %":t.medicine_stock_details.IGST_rate,"Total Tax":m(t.medicine_stock_details.CGST,t.medicine_stock_details.SGST,t.medicine_stock_details.IGST,t.qty),"Total Tax %":h(t.medicine_stock_details.CGST_rate,t.medicine_stock_details.SGST_rate,t.medicine_stock_details.IGST_rate),"Cost in Rs":t.medicine_stock_details.cost,"Total Rs":t.medicine_stock_details.total_amount?t.medicine_stock_details.total_amount:""}})),x.push(l),l=e.transferinarr[a].vaccines.map((function(t){return{Type:"Vaccine","TO ID":e.transferinarr[a].id&&null!=e.transferinarr[a].id?"TO-"+e.transferinarr[a].id:"",Channel:void 0!=e.transferinarr[a].channel?1==e.transferinarr[a].channel?"Pharmacy":"Clinic":"","From Location":void 0!=e.transferinarr[a].from_location&&void 0!=e.transferinarr[a].from_location.title?e.transferinarr[a].from_location.title:"","To Location":void 0!=e.transferinarr[a].to_location&&void 0!=e.transferinarr[a].to_location.title?e.transferinarr[a].to_location.title:"","Transfer Date":void 0!=e.transferinarr[a].transfer_date?d(e.transferinarr[a].transfer_date):"","Item ID":null!=t.vaccine_brand_id?t.vaccine_brand_id:"","Item Stock ID":null!=t.vaccine_stocks_id?t.vaccine_stocks_id:"","Item Name":t.vaccine_stock_details.vaccine.name&&null!==t.vaccine_stock_details.vaccine.name?t.vaccine_stock_details.vaccine.name:"","HSN Code":t.vaccine_stock_details.vaccine.hsn_code&&null!==t.vaccine_stock_details.vaccine.hsn_code?t.vaccine_stock_details.vaccine.hsn_code:"","Batch No.":t.vaccine_stock_details.batch_no&&null!==t.vaccine_stock_details.batch_no?t.vaccine_stock_details.batch_no:"",ExpiryDate:null!==t.vaccine_stock_details.expiry_date?d(t.vaccine_stock_details.expiry_date):"",MRP:null!=t.vaccine_stock_details.mrp?t.vaccine_stock_details.mrp:"",Rate:null!=t.vaccine_stock_details.rate?t.vaccine_stock_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.vaccine_stock_details.discount?t.vaccine_stock_details.discount:"","Trade Disc.":null!=t.vaccine_stock_details.trade_discount?t.vaccine_stock_details.trade_discount:"","CGST in Rs":Number(t.vaccine_stock_details.CGST)*Number(t.qty),"CGST %":t.vaccine_stock_details.CGST_rate,"SGST in Rs":Number(t.vaccine_stock_details.SGST)*Number(t.qty),"SGST %":t.vaccine_stock_details.SGST_rate,"IGST in Rs":Number(t.vaccine_stock_details.IGST)*Number(t.qty),"IGST %":t.vaccine_stock_details.IGST_rate,"Total Tax":m(t.vaccine_stock_details.CGST,t.vaccine_stock_details.SGST,t.vaccine_stock_details.IGST,t.qty),"Total Tax %":h(t.vaccine_stock_details.CGST_rate,t.vaccine_stock_details.SGST_rate,t.vaccine_stock_details.IGST_rate),"Cost in Rs":t.vaccine_stock_details.cost,"Total Rs":t.vaccine_stock_details.total_amount?t.vaccine_stock_details.total_amount:""}})),x.push(l);case 4:case"end":return t.stop()}}),t)})),s=0;case 3:if(!(s<e.transferinarr.length)){t.next=8;break}return t.delegateYield(a(s),"t0",5);case 5:s++,t.next=3;break;case 8:r=x.flat(),n(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.transferinarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},_=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+" Transfer Out ",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.transferoutarr.length){t.next=10;break}a=(0,c.Z)().mark((function t(a){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=e.transferoutarr[a].medicines.map((function(t){return{Type:"Medicine","TO ID":void 0!=e.transferoutarr[a].id?"TO-"+e.transferoutarr[a].id:"","From Location":void 0!=e.transferoutarr[a].from_location&&void 0!=e.transferoutarr[a].from_location.title?e.transferoutarr[a].from_location.title:"",Channel:void 0!=e.transferoutarr[a].channel?1==e.transferoutarr[a].channel?"Pharmacy":"Clinic":"","To Location":void 0!==e.transferoutarr[a].to_location&&void 0!=e.transferoutarr[a].to_location.title?e.transferoutarr[a].to_location.title:"","Transfer Date":void 0!=e.transferoutarr[a].transfer_date?d(e.transferoutarr[a].transfer_date):"","Item ID":null!=t.medicine_id?t.medicine_id:"","Item Stock ID":null!=t.medicies_stocks_id?t.medicies_stocks_id:"","Item Name":t.medicine_stock_details.medicine.name&&null!==t.medicine_stock_details.medicine.name?t.medicine_stock_details.medicine.name:"","HSN Code":t.medicine_stock_details.medicine.hsn_code&&null!==t.medicine_stock_details.medicine.hsn_code?t.medicine_stock_details.medicine.hsn_code:"","Batch No.":t.medicine_stock_details.batch_no&&null!==t.medicine_stock_details.batch_no?t.medicine_stock_details.batch_no:"",ExpiryDate:null!==t.medicine_stock_details.expiry_date?d(t.medicine_stock_details.expiry_date):"",MRP:null!=t.medicine_stock_details.mrp?t.medicine_stock_details.mrp:"",Rate:null!=t.medicine_stock_details.rate?t.medicine_stock_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.medicine_stock_details.discount?t.medicine_stock_details.discount:"","Trade Disc.":null!=t.medicine_stock_details.trade_discount?t.medicine_stock_details.trade_discount:"","CGST in Rs":Number(t.medicine_stock_details.CGST)*Number(t.qty),"CGST %":t.medicine_stock_details.CGST_rate,"SGST in Rs":Number(t.medicine_stock_details.SGST)*Number(t.qty),"SGST %":t.medicine_stock_details.SGST_rate,"IGST in Rs":Number(t.medicine_stock_details.IGST)*Number(t.qty),"IGST %":t.medicine_stock_details.IGST_rate,"Total Tax":m(t.medicine_stock_details.CGST,t.medicine_stock_details.SGST,t.medicine_stock_details.IGST,t.qty),"Total Tax %":h(t.medicine_stock_details.CGST_rate,t.medicine_stock_details.SGST_rate,t.medicine_stock_details.IGST_rate),"Cost in Rs":t.medicine_stock_details.cost,"Total Rs":t.medicine_stock_details.total_amount?t.medicine_stock_details.total_amount:""}})),x.push(l),l=e.transferoutarr[a].vaccines.map((function(t){return{Type:"Vaccine","TO ID":e.transferoutarr[a].id&&null!=e.transferoutarr[a].id?"TO-"+e.transferoutarr[a].id:"",Channel:void 0!=e.transferoutarr[a].channel?1==e.transferoutarr[a].channel?"Pharmacy":"Clinic":"","From Location":void 0!=e.transferoutarr[a].from_location&&void 0!=e.transferoutarr[a].from_location.title?e.transferoutarr[a].from_location.title:"","To Location":void 0!=e.transferoutarr[a].to_location&&void 0!=e.transferoutarr[a].to_location.title?e.transferoutarr[a].to_location.title:"","Transfer Date":void 0!=e.transferoutarr[a].transfer_date?d(e.transferoutarr[a].transfer_date):"","Item ID":null!=t.vaccine_brand_id?t.vaccine_brand_id:"","Item Stock ID":null!=t.vaccine_stocks_id?t.vaccine_stocks_id:"","Item Name":t.vaccine_stock_details.vaccine.name&&null!==t.vaccine_stock_details.vaccine.name?t.vaccine_stock_details.vaccine.name:"","HSN Code":t.vaccine_stock_details.vaccine.hsn_code&&null!==t.vaccine_stock_details.vaccine.hsn_code?t.vaccine_stock_details.vaccine.hsn_code:"","Batch No.":t.vaccine_stock_details.batch_no&&null!==t.vaccine_stock_details.batch_no?t.vaccine_stock_details.batch_no:"",ExpiryDate:null!==t.vaccine_stock_details.expiry_date?d(t.vaccine_stock_details.expiry_date):"",MRP:null!=t.vaccine_stock_details.mrp?t.vaccine_stock_details.mrp:"",Rate:null!=t.vaccine_stock_details.rate?t.vaccine_stock_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.vaccine_stock_details.discount?t.vaccine_stock_details.discount:"","Trade Disc.":null!=t.vaccine_stock_details.trade_discount?t.vaccine_stock_details.trade_discount:"","CGST in Rs":Number(t.vaccine_stock_details.CGST)*Number(t.qty),"CGST %":t.vaccine_stock_details.CGST_rate,"SGST in Rs":Number(t.vaccine_stock_details.SGST)*Number(t.qty),"SGST %":t.vaccine_stock_details.SGST_rate,"IGST in Rs":Number(t.vaccine_stock_details.IGST)*Number(t.qty),"IGST %":t.vaccine_stock_details.IGST_rate,"Total Tax":m(t.vaccine_stock_details.CGST,t.vaccine_stock_details.SGST,t.vaccine_stock_details.IGST,t.qty),"Total Tax %":h(t.vaccine_stock_details.CGST_rate,t.vaccine_stock_details.SGST_rate,t.vaccine_stock_details.IGST_rate),"Cost in Rs":t.vaccine_stock_details.cost,"Total Rs":t.vaccine_stock_details.total_amount?t.vaccine_stock_details.total_amount:""}})),x.push(l);case 4:case"end":return t.stop()}}),t)})),s=0;case 3:if(!(s<e.transferoutarr.length)){t.next=8;break}return t.delegateYield(a(s),"t0",5);case 5:s++,t.next=3;break;case 8:r=x.flat(),n(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.transferoutarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},g=function(e){var t=(0,o.useState)([]),a=(0,r.Z)(t,2),s=a[0],n=a[1],i=e.fromdate+"-"+e.todate+" Transfer In ",d=function(e){if(e)return e=e.split("-").reverse().join("-")};function m(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}function h(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}var x=[];function b(){return N.apply(this,arguments)}function N(){return(N=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.dumpsarr.length){t.next=10;break}a=(0,c.Z)().mark((function t(a){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=e.dumpsarr[a].medicines.map((function(t){return{Type:"Medicine","Dump ID":void 0!=e.dumpsarr[a].id?"D-"+e.dumpsarr[a].id:"",Channel:void 0!=e.dumpsarr[a].channel?1==e.dumpsarr[a].channel?"Pharmacy":"Clinic":"","Dump Date":void 0!=e.dumpsarr[a].dump_date?d(e.dumpsarr[a].dump_date):"","Item ID":null!=t.medicine_id?t.medicine_id:"","Item Stock ID":null!=t.medicies_stocks_id?t.medicies_stocks_id:"","Item Name":t.medicine_details.medicine.name&&null!==t.medicine_details.medicine.name?t.medicine_details.medicine.name:"","HSN Code":t.medicine_details.medicine.hsn_code&&null!==t.medicine_details.medicine.hsn_code?t.medicine_details.medicine.hsn_code:"","Batch No.":t.medicine_details.batch_no&&null!==t.medicine_details.batch_no?t.medicine_details.batch_no:"",ExpiryDate:null!==t.medicine_details.expiry_date?d(t.medicine_details.expiry_date):"",MRP:null!=t.medicine_details.mrp?t.medicine_details.mrp:"",Rate:null!=t.medicine_details.rate?t.medicine_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.medicine_details.discount?t.medicine_details.discount:"","Trade Disc.":null!=t.medicine_details.trade_discount?t.medicine_details.trade_discount:"","CGST in Rs":Number(t.medicine_details.CGST)*Number(t.qty),"CGST %":t.medicine_details.CGST_rate,"SGST in Rs":Number(t.medicine_details.SGST)*Number(t.qty),"SGST %":t.medicine_details.SGST_rate,"IGST in Rs":Number(t.medicine_details.IGST)*Number(t.qty),"IGST %":t.medicine_details.IGST_rate,"Total Tax":m(t.medicine_details.CGST,t.medicine_details.SGST,t.medicine_details.IGST,t.qty),"Total Tax %":h(t.medicine_details.CGST_rate,t.medicine_details.SGST_rate,t.medicine_details.IGST_rate),"Cost in Rs":t.medicine_details.cost,"Total Rs":t.medicine_details.total_amount?t.medicine_details.total_amount:""}})),x.push(l),l=e.dumpsarr[a].vaccines.map((function(t){return{Type:"Vaccine","Dump ID":e.dumpsarr[a].id&&null!=e.dumpsarr[a].id?"D-"+e.dumpsarr[a].id:"",Channel:void 0!=e.dumpsarr[a].channel?1==e.dumpsarr[a].channel?"Pharmacy":"Clinic":"","Dump Date":void 0!=e.dumpsarr[a].dump_date?d(e.dumpsarr[a].dump_date):"","Item ID":null!=t.vaccine_brand_id?t.vaccine_brand_id:"","Item Stock ID":null!=t.vaccine_stocks_id?t.vaccine_stocks_id:"","Item Name":t.vaccine_details.vaccine.name&&null!==t.vaccine_details.vaccine.name?t.vaccine_details.vaccine.name:"","HSN Code":t.vaccine_details.vaccine.hsn_code&&null!==t.vaccine_details.vaccine.hsn_code?t.vaccine_details.vaccine.hsn_code:"","Batch No.":t.vaccine_details.batch_no&&null!==t.vaccine_details.batch_no?t.vaccine_details.batch_no:"",ExpiryDate:null!==t.vaccine_details.expiry_date?d(t.vaccine_details.expiry_date):"",MRP:null!=t.vaccine_details.mrp?t.vaccine_details.mrp:"",Rate:null!=t.vaccine_details.rate?t.vaccine_details.rate:"",Qty:null!==t.qty?t.qty:"",Discount:null!=t.vaccine_details.discount?t.vaccine_details.discount:"","Trade Disc.":null!=t.vaccine_details.trade_discount?t.vaccine_details.trade_discount:"","CGST in Rs":Number(t.vaccine_details.CGST)*Number(t.qty),"CGST %":t.vaccine_details.CGST_rate,"SGST in Rs":Number(t.vaccine_details.SGST)*Number(t.qty),"SGST %":t.vaccine_details.SGST_rate,"IGST in Rs":Number(t.vaccine_details.IGST)*Number(t.qty),"IGST %":t.vaccine_details.IGST_rate,"Total Tax":m(t.vaccine_details.CGST,t.vaccine_details.SGST,t.vaccine_details.IGST,t.qty),"Total Tax %":h(t.vaccine_details.CGST_rate,t.vaccine_details.SGST_rate,t.vaccine_details.IGST_rate),"Cost in Rs":t.vaccine_details.cost,"Total Rs":t.vaccine_details.total_amount?t.vaccine_details.total_amount:""}})),x.push(l);case 4:case"end":return t.stop()}}),t)})),s=0;case 3:if(!(s<e.dumpsarr.length)){t.next=8;break}return t.delegateYield(a(s),"t0",5);case 5:s++,t.next=3;break;case 8:r=x.flat(),n(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.dumpsarr]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{apiData:s,fileName:i})})},v=a(5602),y=function(e){return(0,u.jsx)("div",{style:{height:"auto",maxWidth:64,width:"100%"},children:(0,u.jsx)(v.Z,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:e.id,viewBox:"0 0 256 256"})})},S=a(7992),k=a.n(S),w=a(7548),T=a.n(w),C=a(4012),G=(a(9045),a(9371),a(7866)),Z=function(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useState)(),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)(),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(),T=(0,r.Z)(w,2),G=T[0],Z=T[1],I=(0,o.useState)(),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)(),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)(),L=(0,r.Z)(M,2),H=L[0],B=L[1],z=(0,o.useState)(),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1],U=(0,o.useState)(),Y=(0,r.Z)(U,2),W=Y[0],J=Y[1],X=(0,o.useState)(),K=(0,r.Z)(X,2),$=K[0],ee=K[1],te=(0,o.useState)(),ae=(0,r.Z)(te,2),se=ae[0],ne=ae[1],ce=(0,o.useState)(),le=(0,r.Z)(ce,2),re=le[0],ie=le[1],oe=(0,o.useState)(),de=(0,r.Z)(oe,2),me=de[0],he=de[1],ue=(0,o.useState)(),pe=(0,r.Z)(ue,2),xe=pe[0],be=pe[1],Ne=(0,o.useState)(),fe=(0,r.Z)(Ne,2),je=fe[0],_e=fe[1],ge=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var s;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s={display_name:n,name:x,salt_name:j,manufacturer:y,strength:G,medicine_unit:A,packaging:E,packaging_type_id:H,medicine_form_id:O,schedule:W,hsn_code:$,rack_number:se,max_stock_count:re,min_stock_count:me,alert_stock_count:xe,image:je},!(n&&x&&j&&y&&G&&A&&E&&H&&O&&W&&$&&se&&re&&me&&xe&&je)){a.next=12;break}return a.prev=2,a.next=5,i.Z.post("".concat(t,"/medicine/add"),s).then((function(t){e.ToggleNewMedicine(),ve(),1==t.data.status?(e.medcinelist(),k().Notify.success(t.data.message)):k().Notify.warning(t.data.message)}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),k().Notify.failure(a.t0.message);case 10:a.next=13;break;case 12:k().Notify.warning("Please Fill all Details");case 13:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(){return a.apply(this,arguments)}}();var ve=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(),b(),_(),S(),Z(),P(),F(),B(),V(),J(),ee(),ne(),ie(),he(),be(),_e();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"position-relative p-0 m-0 fw-bold",children:[(0,u.jsxs)("div",{className:"shadow-sm",children:[(0,u.jsx)("h5",{className:"p-0 m-0 text-center py-2 fw-bold text-charcoal",children:"Add New Medicine"}),(0,u.jsx)("button",{className:"btn btn-close position-absolute end-0 top-0 mt-1 me-1",onClick:e.ToggleNewMedicine})]}),(0,u.jsxs)("div",{className:"scroll scroll-y ps-2",style:{minHeight:"100%"},children:[(0,u.jsxs)("div",{className:"row p-0 m-0  ms-3",children:[(0,u.jsx)("p",{className:"text-charcoal fw-bold p-0 m-0 py-2 text-start",children:"Basic Details"}),(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Display Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:n||"",onChange:function(e){m(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:x||"",onChange:function(e){b(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Salt Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:j||"",onChange:function(e){_(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Manufacturer"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:y||"",onChange:function(e){S(e.target.value)}})]})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 ms-3 mt-3",children:[(0,u.jsx)("p",{className:"text-charcoal fw-bold p-0 m-0 py-2 text-start",children:"Other Details  "}),(0,u.jsxs)("div",{className:"row p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Strength"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:G||"",onChange:function(e){Z(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Medicine Unit"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:A||"",onChange:function(e){P(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Unit"}),(0,u.jsx)("option",{value:"1",children:"mg"}),(0,u.jsx)("option",{value:"2",children:"ml"}),(0,u.jsx)("option",{value:"3",children:"mcg"}),(0,u.jsx)("option",{value:"4",children:"g"}),(0,u.jsx)("option",{value:"5",children:"%"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Packaging"}),(0,u.jsx)("input",{type:"number",className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:E||"",onChange:function(e){F(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Packaging Type"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:H||"",onChange:function(e){B(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Packaging Type"}),(0,u.jsx)("option",{value:"1",children:"Strip"}),(0,u.jsx)("option",{value:"2",children:"Tube"}),(0,u.jsx)("option",{value:"3",children:"Bottle"}),(0,u.jsx)("option",{value:"4",children:"Syringe"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Medicine Form"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:O||"",onChange:function(e){V(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Medicine form"}),(0,u.jsx)("option",{value:"1",children:"tablet"}),(0,u.jsx)("option",{value:"2",children:"capsule"}),(0,u.jsx)("option",{value:"3",children:"liquid"}),(0,u.jsx)("option",{value:"4",children:"topical"}),(0,u.jsx)("option",{value:"5",children:"cream"}),(0,u.jsx)("option",{value:"6",children:"device"}),(0,u.jsx)("option",{value:"7",children:"drop"}),(0,u.jsx)("option",{value:"8",children:"foam"}),(0,u.jsx)("option",{value:"9",children:"gel"}),(0,u.jsx)("option",{value:"10",children:"inhaler"}),(0,u.jsx)("option",{value:"11",children:"injection"}),(0,u.jsx)("option",{value:"12",children:"lotion"}),(0,u.jsx)("option",{value:"13",children:"ointment"}),(0,u.jsx)("option",{value:"14",children:"patch"}),(0,u.jsx)("option",{value:"15",children:"powder"}),(0,u.jsx)("option",{value:"16",children:"spray"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Schedule"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:W||"",onChange:function(e){J(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Schedule"}),(0,u.jsx)("option",{value:"G",children:"G"}),(0,u.jsx)("option",{value:"H",children:"H"}),(0,u.jsx)("option",{value:"X",children:"X"}),(0,u.jsx)("option",{value:"J",children:"J"}),(0,u.jsx)("option",{value:"A",children:"A"}),(0,u.jsx)("option",{value:"B",children:"B"}),(0,u.jsx)("option",{value:"C",children:"C"}),(0,u.jsx)("option",{value:"D",children:"D"}),(0,u.jsx)("option",{value:"E",children:"E"}),(0,u.jsx)("option",{value:"F",children:"F"}),(0,u.jsx)("option",{value:"K",children:"K"}),(0,u.jsx)("option",{value:"M",children:"M"}),(0,u.jsx)("option",{value:"N",children:"N"}),(0,u.jsx)("option",{value:"O",children:"O"}),(0,u.jsx)("option",{value:"P",children:"P"}),(0,u.jsx)("option",{value:"Q",children:"Q"}),(0,u.jsx)("option",{value:"R",children:"R"}),(0,u.jsx)("option",{value:"S",children:"S"}),(0,u.jsx)("option",{value:"T",children:"T"}),(0,u.jsx)("option",{value:"U",children:"U"}),(0,u.jsx)("option",{value:"V",children:"V"}),(0,u.jsx)("option",{value:"Y",children:"Y"})]})]})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-start mt-3 ms-3",children:[(0,u.jsx)("p",{className:"text-charcoal fw-bold p-0 m-0 py-2 text-start",children:"Choose Medicine Photo"}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"file",className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:je||"",onChange:function(e){_e(e.target.value)}})})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-end mt-3 mb-5 ms-3",children:[(0,u.jsx)("p",{className:"text-charcoal fw-bold p-0 m-0 py-2 text-start",children:"HSN Code and Count"}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"HSN Code"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:$||"",onChange:function(e){ee(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Rack Number"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:se||"",onChange:function(e){ne(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Max. Stock Count"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:re||"",onChange:function(e){ie(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Min. Stock Count"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:me||"",onChange:function(e){he(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Alert Stock Count "}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:xe||"",onChange:function(e){be(e.target.value)}})]})]})]}),(0,u.jsx)("div",{className:"bg-pearl border p-3 align-items-center ",children:(0,u.jsxs)("div",{className:"row p-0 m-0 text-center justify-content-between align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-charcoal ",onClick:function(){(0,C.H)(),k().Confirm.show("Save Purchase Entry","Do you surely want to add ".concat(n," as New Medicine "),"Yes","No",(function(){ge()}),(function(){return 0}),{})},children:"Save"})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-seashell",onClick:ve,children:"Cancel"})})]})})]})},I=function(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useState)(),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)(),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(),T=(0,r.Z)(w,2),G=T[0],Z=T[1],I=(0,o.useState)(),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)(),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)(),L=(0,r.Z)(M,2),H=L[0],B=L[1],z=(0,o.useState)(),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1],U=(0,o.useState)(),Y=(0,r.Z)(U,2),W=Y[0],J=Y[1],X=(0,o.useState)(),K=(0,r.Z)(X,2),$=K[0],ee=K[1],te=(0,o.useState)(),ae=(0,r.Z)(te,2),se=ae[0],ne=ae[1],ce=(0,o.useState)(),le=(0,r.Z)(ce,2),re=le[0],ie=le[1],oe=(0,o.useState)(),de=(0,r.Z)(oe,2),me=de[0],he=de[1],ue=(0,o.useState)(),pe=(0,r.Z)(ue,2),xe=pe[0],be=pe[1],Ne=(0,o.useState)(""),fe=(0,r.Z)(Ne,2),je=fe[0],_e=fe[1],ge=e.data,ve=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(ge.display_name),b(ge.name),_(ge.salt_name),S(ge.manufacturer),Z(ge.strength),P(ge.medicine_unit),F(ge.packaging),B(ge.packaging_type_id),V(ge.medicine_form_id),J(ge.schedule),ee(ge.hsn_code),ne(ge.rack_number),ie(ge.max_stock_count),he(ge.min_stock_count),be(ge.alert_stock_count),_e(ge.image);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){ve()}),[]);var ye=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var s;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={medicine_id:ge.id,display_name:n,name:x,salt_name:j,manufacturer:y,strength:G,medicine_unit:Number(A),packaging:E,packaging_type_id:Number(H),medicine_form_id:Number(O),schedule:W,hsn_code:$,rack_number:se,max_stock_count:Number(re),min_stock_count:Number(me),alert_stock_count:Number(xe),image:je?{name:je[0].name,size:je[0].size,type:je[0].type,webkitRelativePath:je[0].webkitRelativePath,lastModifiedDate:je[0].lastModifiedDate,lastModified:je[0].lastModified}:""},a.prev=1,a.next=4,i.Z.post("".concat(t,"/medicine/update"),s).then((function(t){k().Notify.success(t.data.message),e.medcinelist()}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),k().Notify.failure(a.t0.message);case 9:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(){return a.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:" p-0 m-0 fw-bold",children:[(0,u.jsxs)("div",{className:"shadow-sm",children:[(0,u.jsx)("h5",{className:"p-0 m-0 text-center py-2 fw-bold text-charcoal",children:"Update Medicine"}),(0,u.jsx)("button",{className:"btn btn-close position-absolute end-0 top-0 mt-1 me-1",onClick:e.ToggleUpdateMedicine})]}),(0,u.jsxs)("div",{className:"scroll scroll-y",style:{minHeight:"100%"},children:[(0,u.jsx)("div",{className:"row p-0 m-0 ms-3 mt-3",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("p",{className:"text-charcoal75 fw-bold p-0 m-0 py-2 text-start ps-3",children:"Basic Details"}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Display Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:n||"",onChange:function(e){m(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:x||"",onChange:function(e){b(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Salt Name"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:j||"",onChange:function(e){_(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Manufacturer"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:y||"",onChange:function(e){S(e.target.value)}})]})]})}),(0,u.jsx)("div",{className:"row p-0 m-0 mt-5",children:(0,u.jsxs)("div",{className:"row p-0 m-0 ms-3",children:[(0,u.jsx)("p",{className:"text-charcoal75 fw-bold p-0 m-0 py-2 text-start ps-3",children:"Other Details  "}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Strength"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:G||"",onChange:function(e){Z(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Medicine Unit"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:A||"",onChange:function(e){P(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Unit"}),(0,u.jsx)("option",{value:"1",children:"mg"}),(0,u.jsx)("option",{value:"2",children:"ml"}),(0,u.jsx)("option",{value:"3",children:"mcg"}),(0,u.jsx)("option",{value:"4",children:"g"}),(0,u.jsx)("option",{value:"5",children:"%"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Packaging"}),(0,u.jsx)("input",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:E||"",onChange:function(e){F(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Packaging Type"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:H||"",onChange:function(e){B(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Packaging Type"}),(0,u.jsx)("option",{value:"1",children:"Strip"}),(0,u.jsx)("option",{value:"2",children:"Tube"}),(0,u.jsx)("option",{value:"3",children:"Bottle"}),(0,u.jsx)("option",{value:"4",children:"Syringe"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Medicine Form"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:O||"",onChange:function(e){V(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Medicine form"}),(0,u.jsx)("option",{value:"1",children:"tablet"}),(0,u.jsx)("option",{value:"2",children:"capsule"}),(0,u.jsx)("option",{value:"3",children:"liquid"}),(0,u.jsx)("option",{value:"4",children:"topical"}),(0,u.jsx)("option",{value:"5",children:"cream"}),(0,u.jsx)("option",{value:"6",children:"device"}),(0,u.jsx)("option",{value:"7",children:"drop"}),(0,u.jsx)("option",{value:"8",children:"foam"}),(0,u.jsx)("option",{value:"9",children:"gel"}),(0,u.jsx)("option",{value:"10",children:"inhaler"}),(0,u.jsx)("option",{value:"11",children:"injection"}),(0,u.jsx)("option",{value:"12",children:"lotion"}),(0,u.jsx)("option",{value:"13",children:"ointment"}),(0,u.jsx)("option",{value:"14",children:"patch"}),(0,u.jsx)("option",{value:"15",children:"powder"}),(0,u.jsx)("option",{value:"16",children:"spray"})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Schedule"}),(0,u.jsxs)("select",{className:"form-control w-75 bg-seashell p-0 m-0 px-2 py-1",value:W||"",onChange:function(e){J(e.target.value)},children:[(0,u.jsx)("option",{children:"Select Schedule"}),(0,u.jsx)("option",{value:"G",children:"G"}),(0,u.jsx)("option",{value:"H",children:"H"}),(0,u.jsx)("option",{value:"X",children:"X"}),(0,u.jsx)("option",{value:"J",children:"J"}),(0,u.jsx)("option",{value:"A",children:"A"}),(0,u.jsx)("option",{value:"B",children:"B"}),(0,u.jsx)("option",{value:"C",children:"C"}),(0,u.jsx)("option",{value:"D",children:"D"}),(0,u.jsx)("option",{value:"E",children:"E"}),(0,u.jsx)("option",{value:"F",children:"F"}),(0,u.jsx)("option",{value:"K",children:"K"}),(0,u.jsx)("option",{value:"M",children:"M"}),(0,u.jsx)("option",{value:"N",children:"N"}),(0,u.jsx)("option",{value:"O",children:"O"}),(0,u.jsx)("option",{value:"P",children:"P"}),(0,u.jsx)("option",{value:"Q",children:"Q"}),(0,u.jsx)("option",{value:"R",children:"R"}),(0,u.jsx)("option",{value:"S",children:"S"}),(0,u.jsx)("option",{value:"T",children:"T"}),(0,u.jsx)("option",{value:"U",children:"U"}),(0,u.jsx)("option",{value:"V",children:"V"}),(0,u.jsx)("option",{value:"Y",children:"Y"})]})]})]})}),(0,u.jsxs)("div",{className:"row p-0 m-0 ms-3 mt-5 mb-4",children:[(0,u.jsx)("p",{className:"text-charcoal75 fw-bold p-0 m-0 py-2 text-start ps-3",children:"HSN Code and Count"}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"HSN Code"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:$||"",onChange:function(e){ee(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Rack Number"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:se||"",onChange:function(e){ne(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Max. Stock Count"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:re||"",onChange:function(e){ie(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Min. Stock Count"}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:me||"",onChange:function(e){he(e.target.value)}})]}),(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("p",{className:"p-0 m-0",children:"Alert Stock Count "}),(0,u.jsx)("input",{className:"form-control bg-seashell p-0 m-0 px-2 py-1",value:xe||"",onChange:function(e){be(e.target.value)}})]})]})]}),(0,u.jsx)("div",{className:"position-absolute w-100 bottom-0 bottom_bar bg-pearl border p-2 align-items-center ",children:(0,u.jsxs)("div",{className:"row p-0 m-0 text-center justify-content-between align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-charcoal ",onClick:function(){(0,C.H)(),k().Confirm.show("Save Purchase Entry","Do you surely want to Update ".concat(ge.display_name," Details"),"Yes","No",(function(){ye()}),(function(){return 0}),{})},children:"Update"})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-seashell",onClick:ve,children:"Set Previous"})})]})})]})},D=function(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useState)(""),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(""),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)(""),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(""),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(!1),T=(0,r.Z)(w,2),G=T[0],Z=T[1];(0,o.useEffect)((function(){m(e.data.name),b(e.data.hsn_code),_(e.data.manufacturer),S(e.data.salt_name)}),[]);var I=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,Z(!0),a.next=4,i.Z.post("".concat(t,"/update/vaccine/brand"),{name:n,hsn_code:x,manufacturer:j,salt_name:y,vaccine_brand_id:e.data.id}).then((function(t){e.vaccinelist(),e.ToggleUpdateVaccine(),k().Notify.success(t.data.message)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),k().Notify.failure(a.t0.message);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();return(0,u.jsxs)("section",{style:{minHeight:"100%"},children:[(0,u.jsxs)("h5",{className:"text-center text-charocal fw-bold pt-2 shadow-sm pb-2",children:["Update ",n||""]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto mt-2 position-absolute top-0 end-0 me-2 mt-2",onClick:e.ToggleUpdateVaccine,"aria-label":"Close"}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-center mt-4",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Name"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:n||"",onChange:function(e){m(e.target.value)},placeholder:"Vaccine name"})})]}),(0,u.jsx)("div",{className:"col-1"}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"HSN Code"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:x||"",onChange:function(e){b(e.target.value)},placeholder:"hsn code"})})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-center mt-4",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Manufacturer"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:j||"",onChange:function(e){_(e.target.value)},placeholder:"manufacturer"})})]}),(0,u.jsx)("div",{className:"col-1"}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Salt Name"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:y||"",onChange:function(e){S(e.target.value)},placeholder:"salt name"})})]})]}),(0,u.jsx)("div",{className:"container-fluid position-absolute bottom-0 bg-pearl py-3 px-2",children:(0,u.jsxs)("div",{className:"row p-0 m-0 ",children:[(0,u.jsx)("div",{className:"col-9"}),(0,u.jsx)("div",{className:"col-auto",children:G?(0,u.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1.5rem",height:"1.5rem"},children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):(0,u.jsx)("button",{className:"button button-charcoal",onClick:function(){(0,C.H)(),k().Confirm.show("Add Charges and Payments","Do you surely want to update ".concat(e.data.name),"Yes","No",(function(){I()}),(function(){return 0}),{})},children:"Update Vaccine"})})]})})]})},A=function(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useState)(""),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(""),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)(""),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(""),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(!1),T=(0,r.Z)(w,2),G=T[0],Z=T[1],I=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,Z(!0),a.next=4,i.Z.post("".concat(t,"/add/vaccine/brand"),{name:n,hsn_code:x,manufacturer:j,salt_name:y}).then((function(t){e.vaccinelist(),e.ToggleNewVaccine(),k().Notify.success(t.data.message)}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),k().Notify.failure(a.t0.message);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();return(0,u.jsxs)("section",{style:{minHeight:"100%"},children:[(0,u.jsx)("h5",{className:"text-center text-charocal fw-bold pt-2 shadow-sm pb-2",children:"Add New Vaccine"}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto mt-2 position-absolute top-0 end-0 me-2 mt-2",onClick:e.ToggleNewVaccine,"aria-label":"Close"}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-center mt-4",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Name"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:n||"",onChange:function(e){m(e.target.value)},placeholder:"Vaccine name"})})]}),(0,u.jsx)("div",{className:"col-1"}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"HSN Code"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:x||"",onChange:function(e){b(e.target.value)},placeholder:"hsn code"})})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-center mt-4",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Manufacturer"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:j||"",onChange:function(e){_(e.target.value)},placeholder:"manufacturer"})})]}),(0,u.jsx)("div",{className:"col-1"}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("label",{htmlFor:"",className:"fw-bold text-charcoal75 ms-1",children:"Salt Name"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"text",className:"form-control bg-seashell fw-bold",value:y||"",onChange:function(e){S(e.target.value)},placeholder:"salt name"})})]})]}),(0,u.jsx)("div",{className:"container-fluid position-absolute bottom-0 bg-pearl py-3 px-2",children:(0,u.jsxs)("div",{className:"row p-0 m-0 ",children:[(0,u.jsx)("div",{className:"col-9"}),(0,u.jsx)("div",{className:"col-auto",children:G?(0,u.jsx)("div",{class:"spinner-border",role:"status",style:{width:"1.5rem",height:"1.5rem"},children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):(0,u.jsx)("button",{className:"button button-charcoal",onClick:function(){(0,C.H)(),k().Confirm.show("Add Charges and Payments","Do you surely want to add new Vaccine as ".concat(n),"Yes","No",(function(){I()}),(function(){return 0}),{})},children:"Save Vaccine"})})]})})]})};function P(e){var t,a=(0,o.useContext)(d.U8),s=localStorage.getItem("ClinicId"),n=(0,o.useState)(),c=(0,r.Z)(n,2),l=c[0],i=c[1],m=(0,o.useState)(),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useContext)(d.Pl),N=[{option:"Sale Entry",display:b.sale_entry_view?1:0},{option:"Sale Returns",display:b.sale_return_view?1:0}],f=(0,o.useState)("Sale Entry"),j=(0,r.Z)(f,2),_=j[0],g=j[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"salesection pt-1",children:(0,u.jsx)("div",{className:"container-fluid p-0 m-0 mt-3",children:(0,u.jsxs)("div",{className:"row gx-3 p-0 m-0 ms-1 position-relative",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:_||" Sale Type "}),(0,u.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:N.map((function(e,t){return(0,u.jsxs)("li",{className:"dropdown-item text-".concat(e.option===_?"light":"dark"," fw-bold bg-").concat(e.option===_?"charcoal":"seashell"),onClick:function(t){return g(e.option)},children:[" ",e.option," "]})}))})]})}),(0,u.jsx)("div",{className:"col-auto bg-seashell rounded-2 ",children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold ",value:l||(a||""),onChange:function(e){i(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,u.jsxs)("div",{className:"col-auto p-0 m-0",children:[(0,u.jsx)("input",{type:"date",className:" border-0 button button-seashell text-charcoal text-center fw-bold",value:p||(l||(a||"")),onChange:function(e){x(e.target.value)}}),"                "]})]})}),(0,u.jsx)("div",{className:"col-auto p-0 m-0"})]})})}),(0,u.jsx)("section",{className:"tablesrender position-relative",children:(0,u.jsx)("div",{className:"container-fluid p-0 m-0 pt-3",children:(0,u.jsx)("div",{className:"",children:(t=_,"Sale Entry"===t?(0,u.jsx)(R,{function:e.func,function2:e.function,fromdate:l,todate:p,ClinicID:s}):"Sale Returns"===t?(0,u.jsx)(F,{fromdate:l,todate:p,ClinicID:s}):(0,u.jsx)("div",{className:"fs-2",children:"Nothing Selected"}))})})})]})}function R(e){var t=(0,o.useContext)(d.Pl),a=(0,o.useContext)(d.U8),s=e.ClinicID,n=e.fromdate,m=e.todate,h=localStorage.getItem("id"),p=(0,o.useContext)(d.Jx),x=(0,o.useState)("none"),b=(0,r.Z)(x,2),f=b[0],j=b[1],_=(0,o.useState)(1),g=(0,r.Z)(_,2),v=(g[0],g[1],(0,o.useState)(!1)),y=(0,r.Z)(v,2),S=y[0],w=y[1],C=(0,o.useState)([]),G=(0,r.Z)(C,2),Z=G[0],I=G[1],D=(0,o.useState)([]),A=(0,r.Z)(D,2),P=A[0],R=A[1],F=(0,o.useState)(),L=(0,r.Z)(F,2),H=L[0],B=L[1],z=(0,o.useState)("none"),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1],U=(0,o.useState)([]),Y=(0,r.Z)(U,2),W=Y[0],J=Y[1],X=(0,o.useState)("none"),K=(0,r.Z)(X,2),$=K[0],ee=K[1],te=(0,o.useState)(),ae=(0,r.Z)(te,2),se=ae[0],ne=ae[1],ce=(0,o.useState)(),le=(0,r.Z)(ce,2),re=le[0],ie=le[1],oe=function(){"none"===O&&V("block"),"block"===O&&V("none")},de=function(){"none"===f&&j("block"),"block"===f&&(j("none"),B())},me=function(){"none"===$&&ee("block"),"block"===$&&(ee("none"),ne())};function he(e){if(void 0==e||void 0==e.selected){w(!0);try{i.Z.get("".concat(p,"/sale/entry?clinic_id=").concat(s,"&limit=25&offset=0&from_date=").concat(n||a,"&to_date=").concat(m||(n||a))).then((function(e){I(e.data.data.sale_entry),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(t){k().Notify.warning(t.message),w(!1)}}else{w(!0);try{i.Z.get("".concat(p,"/sale/entry?clinic_id=").concat(s,"&limit=25&offset=").concat(25*e.selected,"&from_date=").concat(n||a,"&to_date=").concat(m||(n||a))).then((function(e){I(e.data.data.sale_entry),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(t){k().Notify.warning(t.message),w(!1)}}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(p,"/sale/entry?clinic_id=").concat(s,"&from_date=").concat(n||a,"&to_date=").concat(m||n||a)).then((function(e){ie(e.data.data.total_count),J(Math.round(e.data.data.total_count/25)+1),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(e){k().Notify.warning(e.message),w(!1)}}()}),[n,m]),(0,o.useEffect)((function(){he(),function(){try{i.Z.get("".concat(p,"/sale/entry?clinic_id=").concat(s,"&limit=").concat(re,"&offset=0&from_date=").concat(n||a,"&to_date=").concat(m||n||a)).then((function(e){R(e.data.data.sale_entry),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(e){k().Notify.warning(e.message),w(!1)}}()}),[re]);var ue=function(e){if(e)return e=e.split("-").reverse().join("-")},pe=[[1,"Confirmed","lightgreen"],[2,"Payment done","success"],[3,"Completed","lightyellow"],[4,"Cancelled","lightred"]];function xe(e){for(var t,a=0;a<pe.length;a++)if(e==pe[a][0]){t=pe[a][1];break}return t}function be(e){for(var t,a=0;a<pe.length;a++)if(e==pe[a][0]){t=pe[a][2];break}return t}var Ne=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("".concat(p,"/sale/entry/change/status"),{sale_entry_id:a,status:t.target.value,admin_id:h}).then((function(e){k().Notify.success(e.data.message),he()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),k().Notify.failure(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k().Loading.circle("Generating Bill",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(p,"/sale/entry/bill"),{sale_entry_id:t,admin_id:h}).then((function(e){1==e.data.status?(k().Notify.success(e.data.message),k().Loading.remove()):(k().Notify.failure(e.data.message),k().Loading.remove()),window.open(e.data.data.bill_url,"_blank","noreferrer"),k().Loading.remove()})).catch((function(e){k().Loading.remove(),k().Notify.failure(e.message)}))}catch(a){k().Loading.remove(),k().Notify.failure(a.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==a||null==a)k().Notify.failure("Please Add a Phone Number to send the message on WhatsApp");else{k().Loading.circle("Sending Bill on Whats App",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{i.Z.post("".concat(p,"/sale/entry/send/bill/whatsapp"),{sale_entry_id:t,admin_id:h}).then((function(e){k().Notify.success(e.data.message),k().Loading.remove()}))}catch(s){k().Notify.failure(s.message),k().Loading.remove()}}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 export align-self-center text-center ",children:(0,u.jsx)(N,{saleentryarr:P,fromdate:ue(n),todate:ue(m)})}),(0,u.jsxs)("button",{className:"button addentrypurchase button-charcoal end-0 me-3  position-absolute d-".concat(1==t.sale_entry_add?"":"none"),onClick:oe,children:[(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"}),"Entry Sale"]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",re," ",re>0?"Sale Entries":"Sale Entry"," "," "]}),(0,u.jsx)("div",{className:"position-relative",children:(0,u.jsx)("div",{className:"scroll scroll-y p-0 m-0 mt-2",style:{minHeight:"40vh",height:"58vh",maxHeight:"100%"},children:(0,u.jsxs)("table",{className:"table text-start table-responsive ",children:[(0,u.jsx)("thead",{className:" position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{className:" ",children:[(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder px-3",children:" Bill ID "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder",children:" Patient Name "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder",children:" Bill Date "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder",children:" Bill Total "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder",children:" Doctor Name "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder",children:" Invoice No. "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder text-center",children:" Status "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bolder text-center ",children:" Actions "})]})}),S?(0,u.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,u.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):Z&&0!=Z.length?(0,u.jsx)("tbody",{children:Z.map((function(e,t){return(0,u.jsxs)("tr",{className:" bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"text-charcoal fw-bold px-3",children:[" ",e.bill_id&&null!==e.bill_id?"P-"+e.bill_id:""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.patient&&e.patient&&null!=e.patient.full_name?e.patient.full_name:""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.bill_date&&e.bill_date?ue(e.bill_date):""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.grand_total&&e.grand_total?"Rs. "+e.grand_total:""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e&&null!=e.doctor_name?e.doctor_name:""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.bill_id&&null!==e.bill_id?"P-"+e.bill_id:""," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("select",{disabled:4==e.sale_entry_status,className:" fw-bolder border-0 bg-".concat(t%2==0?"seashell":"pearl"," text-center rounded-pill  bg-").concat(be(e.sale_entry_status)),name:e.id,onChange:function(t){Ne(t,e.id)},style:{appearance:"none"},children:[(0,u.jsxs)("option",{className:"button",selected:!0,disabled:!0,children:[" ",xe(e.sale_entry_status)," "]}),(0,u.jsx)("option",{className:"text-lightred bg-pearl",value:"1",children:" Confirmed "},0),(0,u.jsx)("option",{className:"text-lightblue  bg-pearl",value:"2",children:" Payment Done "},1),(0,u.jsx)("option",{className:"text-lightred  bg-pearl",value:"3",children:" Completed "},2),(0,u.jsx)("option",{className:"text-charcoal  bg-pearl",value:"4",children:" Cancelled "},3)]})}),(0,u.jsx)("td",{className:"text-charcoal text-center bg-transparent fw-bold",children:(0,u.jsxs)("div",{className:"dropdown  bg-".concat(se==t?"lightyellow":""," d-inline-block text-center text-decoration-none"),children:[(0,u.jsx)("button",{className:"button border-0 p-0 m-0 text-decoration-none dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,u.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image"})}),(0,u.jsxs)("ul",{className:"dropdown-menu text-start",children:[(0,u.jsxs)("li",{className:"text-start dropdown-item border-bottom ",onClick:function(){ne(t),me()},children:[" ",(0,u.jsx)("img",{src:"/images/rupee.png",alt:"displaying_image",className:"me-1"})," Payments "]}),(0,u.jsxs)("li",{className:" text-start dropdown-item border-bottom",onClick:function(){B(t),de()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"me -1"})," "," Inventory "]}),(0,u.jsxs)("li",{className:"text-start dropdown-item border-bottom",onClick:function(){fe(e.id)},children:[" ",(0,u.jsx)("img",{src:"/images/pdf.png",alt:"displaying_image"})," "," Generate Bill "]}),(0,u.jsxs)("li",{className:"text-start dropdown-item",onClick:function(){je(e.id,e.patient.phone_number)},children:[" ",(0,u.jsx)("img",{src:"/images/whatsapp.png",alt:"displaying_image"})," "," Send Bill On WhatsApp"," "," "]})]})]})}),(0,u.jsx)("td",{className:"p-0 m-0",children:t==H?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:"position-absolute d-".concat(t==H?f:"none"," start-0 end-0 mx-auto border border-1 bg-seashell rounded-4"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(E,{saleentryarr:Z[t],itembillid:"P-"+e.bill_id,toggle_seidw:de})})]}):(0,u.jsx)(u.Fragment,{})}),(0,u.jsx)("td",{className:"p-0 m-0",children:t==se?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:"col-lg-8 col-xl-6 col-md-8 col-sm-10 start-0 end-0 top-0 mx-auto shadow rounded-4 position-absolute bg-pearl d-".concat(se==t?$:"none"),children:(0,u.jsx)(q,{GETSalesList:he,saleentryarr:Z[t],toggle_payments:me,itembillid:"P-"+e.bill_id})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center p-0 m-0",style:{minHeight:"55vh",maxHeight:"55vh"},children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,u.jsx)("strong",{className:"text-charcoal fw-bolder text-center",children:" No Sale Entries "})})})]})})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:W,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:he,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})}),(0,u.jsx)("section",{className:"newsaleentryform col-xl-6 col-lg-8 col-md-10 p-0 m-0 position-absolute d-".concat(O," border rounded-2 shadow mx-auto top-0 bottom-0 m-auto start-0 end-0 bg-seashell"),style:{height:"70vh"},children:(0,u.jsx)(M,{toggle_nsef:oe,GETSalesList:he})})]})}function q(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useContext)(d.Pl),s=localStorage.getItem("id"),m=(0,o.useState)([]),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)(0),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useState)(),g=(0,r.Z)(_,2),v=g[0],y=g[1],S={paymentmethod:"",amount:0};function w(){return(w=(0,l.Z)((0,c.Z)().mark((function t(){var a,s,n,l,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],n=[],(a=[]).push(Object.keys(JSON.parse(e.saleentryarr.payment_method_details))),s.push(Object.values(JSON.parse(e.saleentryarr.payment_method_details))),l=[],{paymentmethod:"",amount:0},a[0]){for(r=0;r<a[0].length;r++)n.push({paymentmethod:a[0][r],amount:s[0][r]});x(n)}p.push(l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(e){p.splice(e,e)}(0,o.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]);function G(){return(G=(0,l.Z)((0,c.Z)().mark((function a(){var n,l,r,o;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n=[],l=[],r=0;r<p.length;r++)n.push(p[r].amount),l.push(p[r].paymentmethod);return o={sale_entry_id:e.saleentryarr.id,g_total_main:e.saleentryarr.grand_total,payment_method:l,payment_method_main:l,payment_method_details:n,admin_id:s},a.prev=4,y(!0),a.next=8,i.Z.post("".concat(t,"/sale/entry/save/charges"),o).then((function(t){e.GETSalesList(),y(!1),k().Notify.success(t.data.message)}));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(4),y(!1),k().Notify.failure(a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[4,10]])})))).apply(this,arguments)}var Z=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,p&&p.map((function(e){return t+=Number(e.amount)})),j(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(){p&&p.length>0?x((function(e){return[].concat((0,n.Z)(e),[S])})):x([S])}function D(){var t=[],a=0,s=0;if(p&&void 0!==p){for(var n=0;n<p.length;n++)t.push(Number(p[n].amount));return t.forEach((function(e){a+=e})),a>e.saleentryarr.grand_total?(s=a-e.saleentryarr.grand_total,Number(s).toFixed(2)):Number(s).toFixed(2)}}return(0,o.useEffect)((function(){Z()}),[e.saleentryarr]),(0,u.jsxs)("div",{className:"p-0 m-0 text-center",children:[(0,u.jsxs)("h6",{className:"text-center mt-2 fw-bold",children:[e.itembillid," Payments"]}),(0,u.jsx)("hr",{className:"p-0 m-0 mt-1"}),(0,u.jsx)("button",{className:"btn-close position-absolute top-0 end-0 p-2 m-2 ",onClick:function(){e.toggle_payments(),x([])}}),(0,u.jsxs)("p",{className:"text-charcoal p-0 m-auto fw-bolder",children:[" Grand Total :"," "," ",(0,u.jsxs)("span",{className:"text-burntumber",children:[" Rs ",e.saleentryarr.grand_total," "]})," "]}),(0,u.jsx)("hr",{className:"p-0 m-0 mb-1"}),(0,u.jsxs)("div",{className:"container-fluid text-start position-relative",children:[(0,u.jsx)("div",{className:"d-".concat(f==e.saleentryarr.grand_total?"":"none"," bg-lightgreen fw-bold text-center p-2 my-2"),children:" Payment Done "}),(0,u.jsx)("h6",{className:"text-charcoal fw-bolder text-center",children:"Payments"}),(0,u.jsx)("h6",{className:"text-burntumber fw-bolder text-center",children:D()>0?"Amount Exceeded by ".concat(D()):""}),p?p.map((function(t,s){return 1==a.sale_entry_charges_edit||null==e.saleentryarr.payment_method_details?(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-end g-2",children:[(0,u.jsx)("div",{className:"col-4 ",children:(0,u.jsxs)("select",{className:"form-control border-success py-1 text-center",value:t.paymentmethod,onChange:function(e){t.paymentmethod=e.target.value,x((function(e){return(0,n.Z)(e)}))},children:[(0,u.jsx)("option",{className:"text-charcoal75 fw-bolder",children:" Payment Method "}),(0,u.jsx)("option",{value:"Cash",children:"Cash"}),(0,u.jsx)("option",{value:"Card",children:"Card"}),(0,u.jsx)("option",{value:"Paytm",children:"Paytm"}),(0,u.jsx)("option",{value:"Phonepe",children:"Phone Pe"}),(0,u.jsx)("option",{value:"Wire-Transfer",children:"Wire Transfer"}),(0,u.jsx)("option",{value:"Razorpay",children:"Razorpay"}),(0,u.jsx)("option",{value:"Points",children:"Points"}),(0,u.jsx)("option",{value:"Adjust-Advance",children:"Adjust-Advance"})]})}),(0,u.jsx)("div",{className:"col-4 text-center ",children:(0,u.jsx)("input",{className:"form-control border-success py-1 text-center",value:t.amount,onChange:function(e){t.amount=e.target.value,x((function(e){return(0,n.Z)(e)}))}})}),(0,u.jsx)("div",{className:"col-2 text-center",children:(0,u.jsx)("button",{className:"btn btn-sm p-0 m-0",onClick:function(){T(s),x((function(e){return(0,n.Z)(e)}))},children:(0,u.jsx)("img",{src:"/images/delete.png",className:"img-fluid"})})})]}):(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-center g-2",children:[(0,u.jsx)("div",{className:"col-4 text-center ",children:(0,u.jsx)("input",{className:"form-control py-1",disabled:!0,value:t.paymentmethod})}),(0,u.jsx)("div",{className:"col-4 text-center ",children:(0,u.jsx)("input",{className:"form-control py-1 text-center",disabled:!0,value:t.amount,onChange:function(e){t.amount=e.target.value,x((function(e){return(0,n.Z)(e)}))}})})]})})):(0,u.jsx)(u.Fragment,{}),(0,u.jsx)("div",{className:"container-fluid text-center mt-2 ",children:1==a.sale_entry_charges_edit||null==e.saleentryarr.payment_method_details?(0,u.jsx)("button",{className:"btn py-0",onClick:I,children:(0,u.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"2rem"}})}):(0,u.jsx)(u.Fragment,{})})]}),(0,u.jsx)("div",{className:"mt-2 pb-3",children:v?(0,u.jsx)("div",{className:"container-fliud pt-2",children:(0,u.jsxs)("div",{className:"d-flex fs-6 align-items-center justify-content-around",children:[(0,u.jsx)("h6",{className:"text-charcoal",children:"Updating..."}),(0,u.jsx)("div",{className:"text-charcoal spinner-border ml-auto",role:"status","aria-hidden":"true"})]})}):(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-charcoal m-0 p-0 py-1 px-5",disabled:f==e.saleentryarr.grand_total,onClick:function(t){(0,C.H)(),k().Confirm.show("Add Charges and Payments","Do you surely want to add the following Charges and Payments of  ".concat(e.itembillid),"Yes","No",(function(){!function(){G.apply(this,arguments)}()}),(function(){return 0}),{})},children:" Save "})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("button",{className:"button button-pearl border-charcoal p-0 m-0 py-1 px-5",onClick:function(){x(),e.toggle_payments()},children:" Cancel "})})]})})]})}function E(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1];0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var b=(0,o.useState)(!1),N=(0,r.Z)(b,2),f=N[0],j=N[1];function _(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function g(e,t,a,s){if(e&&t&&null!==a)return Number(Number(e)+Number(t)+Number(a))*Number(s)}return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsxs)("h5",{className:"text-center text-charcoal pt-3",children:[" ",e.itembillid," Sale Entry Item Details "]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-4",onClick:e.toggle_seidw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"d-flex p-0 m-0 mt-3 mb-1 justify-content-center",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsx)("button",{className:"button shadow-0 rounded-0 border-charcoal button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:e})}))}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-between",children:[(0,u.jsxs)("div",{className:"col-auto ms-2 mb-2 text-burntumber rounded-1 fw-bolder bg-pearl",children:[(0,u.jsx)("p",{className:"text-charcoal p-0 m-0 ms-1 text-start",children:"Grand Total"}),(0,u.jsx)("hr",{className:"p-0 m-0"}),(0,u.jsx)("h5",{className:"text-charcoal p-0 m-0 fw-bold text-start ms-1",children:e.saleentryarr.grand_total?e.saleentryarr.grand_total:0})]}),(0,u.jsxs)("div",{className:"col-auto align-self-end justify-content-end me-4",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:f||"",onChange:function(){j(1!=f)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{Height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Medicine "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc. % "}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" "," "," Amt "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Grand Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total CGST "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:[" SGST%"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total Tax "})]})]}),e.saleentryarr.sale_medicines&&0!==e.saleentryarr.sale_medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.saleentryarr.sale_medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.medicine_stocks&&null!==e.medicine_stocks.id?"m"+e.medicine_stocks.id:""," "]}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.medicine&&null!==e.medicine.name?e.medicine.name:""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.main_mrp?e.main_mrp:""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.qty&&null!=e.qty?e.qty:""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:null!=e.discount?e.discount:""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST_rate?Number(e.SGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST?Number(e.SGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.CGST_rate?Number(e.CGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.CGST?Number(e.CGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.IGST_rate?Number(e.IGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.IGST?Number(e.IGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:_(e.CGST_rate,e.SGST_rate,e.IGST_rate)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:g(e.CGST,e.SGST,e.IGST,e.qty)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.disc_mrp?e.disc_mrp:""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e&&e.total_amount?e.total_amount:""})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,u.jsx)("p",{className:" text-center text-charcoal fw-bold",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{Height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Vaccine "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc. % "}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Amt "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Grand Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" Total IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total Tax "})]})]}),void 0!==e.saleentryarr.sale_vaccines&&0!==e.saleentryarr.sale_vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.saleentryarr.sale_vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.vaccine_stocks&&null!==e.vaccine_stocks.id?"v"+e.vaccine_stocks.id:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.vaccine&&null!==e.vaccine.name?e.vaccine.name:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.main_mrp?e.main_mrp:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.qty&&null!=e.qty?e.qty:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",null!=e.discount?e.discount:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST_rate?Number(e.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST?Number(e.SGST)*Number(e.qty):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST_rate?Number(e.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST?Number(e.CGST)*Number(e.qty):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST_rate?Number(e.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST?Number(e.IGST)*Number(e.qty):""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",_(e.CGST_rate,e.SGST_rate,e.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",g(e.CGST,e.SGST,e.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.disc_mrp?e.disc_mrp:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.total_amount?e.total_amount:""," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:" text-center fw-bold text-charcoal",children:" No Vaccines Found "})})})]})})]})}function F(e){var t=(0,o.useContext)(d.U8),a=e.ClinicID,s=e.fromdate,n=e.todate,c=(0,o.useContext)(d.Jx),l=(0,o.useState)("none"),m=(0,r.Z)(l,2),h=m[0],p=m[1],x=(0,o.useState)(!1),b=(0,r.Z)(x,2),N=b[0],j=b[1],_=(0,o.useState)([]),g=(0,r.Z)(_,2),v=g[0],y=g[1],S=(0,o.useState)([]),w=(0,r.Z)(S,2),C=w[0],G=w[1],Z=(0,o.useState)(),I=(0,r.Z)(Z,2),D=I[0],A=I[1],P=(0,o.useState)("none"),R=(0,r.Z)(P,2),q=R[0],E=R[1],F=(0,o.useState)(),M=(0,r.Z)(F,2),B=M[0],z=M[1],Q=(0,o.useState)(),O=(0,r.Z)(Q,2),V=O[0],U=O[1];function Y(e){if(void 0==e||void 0==e.selected)try{i.Z.get("".concat(c,"/sale/return?clinic_id=").concat(a,"&limit=25&offset=0&from_date=").concat(s||t,"&to_date=").concat(n||(s||t))).then((function(e){y(e.data.data.sale_return),j(!1)})).catch((function(e){k().Notify.warning(e),j(!1)}))}catch(l){k().Notify.warning(l.data.message),j(!1)}else try{i.Z.get("".concat(c,"/sale/return?clinic_id=").concat(a,"&limit=25&offset=").concat(25*e.selected,"&from_date=").concat(s||t,"&to_date=").concat(n||(s||t))).then((function(e){y(e.data.data.sale_return),j(!1)})).catch((function(e){k().Notify.warning(e),j(!1)}))}catch(l){k().Notify.warning(l.data.message),j(!1)}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(c,"/sale/return?clinic_id=").concat(a,"&from_date=").concat(s||t,"&to_date=").concat(n||s||t)).then((function(e){U(e.data.data.total_count),z(Math.round(e.data.data.total_count/25)+1),j(!1)})).catch((function(e){k().Notify.warning(e),j(!1)}))}catch(e){k().Notify.warning(e.message),j(!1)}}()}),[s,n]),(0,o.useEffect)((function(){Y(),function(){j(!0);try{i.Z.get("".concat(c,"/sale/return?clinic_id=").concat(a,"&limit=").concat(V,"&offset=0&from_date=").concat(s||t,"&to_date=").concat(n||s||t)).then((function(e){U(e.data.data.total_count),G(e.data.data.sale_return),j(!1)})).catch((function(e){k().Notify.warning(e),j(!1)}))}catch(e){k().Notify.warning(e.data.message),j(!1)}}()}),[V]);var W=function(){"none"===h&&p("block"),"block"===h&&p("none")},J=function(){"none"===q&&E("block"),"block"===q&&E("none")},X=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 export align-self-center text-center ms-3",children:(0,u.jsx)(f,{salereturnarr:C,fromdate:X(s),todate:X(n)})}),(0,u.jsxs)("button",{className:"button addentrypurchase button-charcoal position-absolute end-0 me-3",onClick:J,children:[(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})," Entry Return "]}),(0,u.jsxs)("div",{classsName:"p-0 m-0",children:[(0,u.jsxs)("h2",{className:" p-0 m-0 heading text-charcoal fw-bolder ms-3  ",style:{width:"fit-content"},children:[" ",V," ",V>0?"Sale Returns":"Sale Return"," "," "]}),(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0",style:{minHeight:"40vh",height:"59vh",maxHeight:"70vh"},children:(0,u.jsxs)("table",{className:"table text-start p-0 m-0",children:[(0,u.jsx)("thead",{className:"p-0 m-0 align-middle",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-center",scope:"col",children:" Return No. "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-start",scope:"col",children:" Name "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-start",scope:"col",children:" Sale Entry ID "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-start",scope:"col",children:" Return Date "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-start",scope:"col",children:" Return Amount "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-center",scope:"col",children:" Inventory "})]})}),N?(0,u.jsx)("body",{className:" text-center",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"fs-5",children:" Getting Details please be Patient ... "}),(0,u.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):v&&0!=v.length?(0,u.jsx)("tbody",{children:v.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"text-charcoal fw-bold text-center",children:[" SR-",e.return_no," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold text-start",children:[" ",e.sale_entry&&e.sale_entry.patient&&null!=e.sale_entry.patient.full_name?e.sale_entry.patient.full_name:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold text-start",children:[" ",e.sale_entry&&e.sale_entry&&null!=e.sale_entry.id?e.sale_entry.id:""]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold text-start",children:[" ",e.return_date?X(e.return_date):""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold text-start",children:[" ",e.grand_total?e.grand_total:"N/A"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsx)("button",{className:"btn p-0 m-0",onClick:function(){A(t),W()},children:(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1"})})}),(0,u.jsx)("td",{className:" position-absolute d-".concat(t==D?h:"none"," bg-seashell border border-1 start-0 end-0 mx-auto p-0 m-0 rounded-4"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:t==D?(0,u.jsx)(H,{salereturnarr:v[t],toggle_sridw:W}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:" No Sale Returns "})})})]})}),(0,u.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:B,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:Y,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]}),(0,u.jsx)("section",{className:"rounded-2 position-absolute start-0 top-0 end-0 mx-auto border shadow bg-seashell d-".concat(q),style:{height:"70vh",width:"60vh"},children:(0,u.jsx)(L,{toggle_nref:J,GETSaleReturns:Y})})]})}function M(e){(0,o.useRef)(null),(0,o.useContext)(d.q2);var t=(0,o.useContext)(d.Pl),a=(0,o.useContext)(d.Jx),s=(0,o.useContext)(d.j8),m=localStorage.getItem("ClinicId"),h=(0,o.useRef)(null),p=(0,o.useRef)(null),x=((0,o.useRef)(null),(0,o.useRef)(null)),b=(0,o.useState)(e.patientname?e.patientname:""),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useState)([]),g=(0,r.Z)(_,2),v=g[0],y=g[1],S=(0,o.useState)("none"),w=(0,r.Z)(S,2),T=w[0],Z=w[1],I=(0,o.useState)(e.patientid?e.patientid:""),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)([]),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)(e.DoctorID?e.DoctorID:""),L=(0,r.Z)(M,2),H=L[0],B=L[1],z=(0,o.useState)(e.DoctorName?e.DoctorName:""),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1],U=(0,o.useState)(),Y=(0,r.Z)(U,2),W=Y[0],J=Y[1],X=(0,o.useState)(m),K=(0,r.Z)(X,2),$=K[0],ee=(K[1],(0,o.useState)()),te=(0,r.Z)(ee,2),ae=te[0],se=te[1],ne=(0,o.useState)(),ce=(0,r.Z)(ne,2),le=ce[0],re=ce[1],ie=(0,o.useState)(0),oe=(0,r.Z)(ie,2),de=oe[0],me=oe[1],he=(0,o.useState)(0),ue=(0,r.Z)(he,2),pe=ue[0],xe=ue[1],be=(0,o.useState)(),Ne=(0,r.Z)(be,2),fe=(Ne[0],Ne[1]),je=(0,o.useState)(!1),_e=(0,r.Z)(je,2),ge=_e[0],ve=_e[1],ye=(0,o.useState)([]),Se=(0,r.Z)(ye,2),ke=Se[0],we=Se[1],Te=(0,o.useState)([]),Ce=(0,r.Z)(Te,2),Ge=Ce[0],Ze=Ce[1],Ie=(0,o.useState)([]),De=(0,r.Z)(Ie,2),Ae=De[0],Pe=De[1],Re=(0,o.useState)(),qe=(0,r.Z)(Re,2),Ee=qe[0],Fe=qe[1],Me=(0,o.useState)(),Le=(0,r.Z)(Me,2),He=Le[0],Be=Le[1],ze=(0,o.useState)(),Qe=(0,r.Z)(ze,2),Oe=Qe[0],Ve=Qe[1],Ue=(0,o.useState)([]),Ye=(0,r.Z)(Ue,2),We=Ye[0],Je=Ye[1],Xe=(0,o.useState)(),Ke=(0,r.Z)(Xe,2),$e=Ke[0],et=Ke[1],tt=(0,o.useState)(),at=(0,r.Z)(tt,2),st=at[0],nt=at[1],ct=(0,o.useState)(),lt=(0,r.Z)(ct,2),rt=lt[0],it=lt[1],ot=(0,o.useState)("none"),dt=(0,r.Z)(ot,2),mt=(dt[0],dt[1],(0,o.useState)(e.data&&e.data.patient.phone_number?e.data.patient.phone_number:"")),ht=(0,r.Z)(mt,2),ut=ht[0],pt=ht[1],xt=(0,o.useState)(),bt=(0,r.Z)(xt,2),Nt=bt[0],ft=bt[1],jt=(0,o.useState)("none"),_t=(0,r.Z)(jt,2),gt=_t[0],vt=_t[1],yt=function(e){if(e)return e=e.split("-").reverse().join("-")},St=function(e){e?(it(e.id),me(1)):(it(),me(0))},kt=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),e.prev=1,e.next=4,i.Z.get("".concat(a,"/stock/list?search=").concat(t,"&location_id=").concat(m)).then((function(e){var a=[],s=[],n=[];a.push(e.data.data.medicines?e.data.data.medicines:[]),s.push(e.data.data.vaccines?e.data.data.vaccines:[]),n=(n=a.concat(s)).flat(),Ze(n),nt(!1),t.length>1?h.current.style.display="block":h.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=11;break}return Fe(!0),e.prev=2,e.next=5,i.Z.get("".concat(a,"/sale/item/search/by/id?item=").concat(t)).then((function(e){Fe(!1),Pe([e.data.data])}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),Fe(!1),k().Notify.failure(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();function Tt(e,t,a){var s=t;return Number(a)>Number(s)&&k().Notify.failure("Selling Cost should not less than Cost"),e?1==e?t=Number(t):s=(s=Number(t)*Number(e)).toFixed(2):0}function Ct(e){var t=0;return e?(e.forEach((function(e){t+=Number(e.discount)})),t):t}function Gt(e){var t="";t=e.vaccine_brand_id?"v":"m";var a={productid:e.id,type:e.type?e.type:t,product:e.item_name?e.item_name:He,batch:e.batch_no,expiry:e.expiry_date,quantity:e.current_stock,qtytoSale:1,discount:0,cost:e.cost,mainmrp:e.mrp,disccost:e.mrp,gst:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate),totalamt:e.mrp};We&&0==We.length?Je([a]):Je((function(e){return[].concat((0,n.Z)(e),[a])}))}function Zt(){return(Zt=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(We.filter((function(e){return e.batch!==t}))),a=a.flat(),Je(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)((0,c.Z)().mark((function t(){var s,n,l,r,o,d,m,h,u;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],n=[],l=[],r=[],o=[],d=[],m=[],!(void 0!=O&&O.length>0||void 0!=W&&W.length>0)){t.next=22;break}for(h=0;h<We.length;h++)s.push(We[h].type+We[h].productid),n.push(We[h].qtytoSale),l.push(We[h].discount),r.push(We[h].disccost),o.push(We[h].mainmrp),d.push(We[h].gst),m.push(We[h].totalamt);return u={clinic_id:$,doctor_id:H,doctor_name:H?O:W,patient_id:A,pro_id:s,qty:n,discount:l,disc_mrp:r,main_mrp:o,gst:d,total_amount:m,grand_total:$e,appointment_id:"",add_to_cart:pe,deliver:de,address_id:rt},fe(!0),t.prev=11,t.next=14,i.Z.post("".concat(a,"/sale/entry/save"),u).then((function(t){fe(!1),ft(t),void 0==e.saleindex&&e.GETSalesList(),1==t.data.status?k().Notify.success(t.data.message):k().Notify.warning(t.data.message)})).catch((function(e){k().Notify.failure(e.message),fe(!1)}));case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(11),k().Notify.failure(t.t0.message),fe(!1);case 20:t.next=23;break;case 22:k().Notify.failure("Please Choose A Doctor to further proceed the sale entry");case 23:case"end":return t.stop()}}),t,null,[[11,16]])})))).apply(this,arguments)}(0,o.useEffect)((function(){s.map((function(e){return e[0]==H?V(e[1]):""}))}),[H]),(0,o.useEffect)((function(){!function(){var e=0;We.map((function(t){return e+=Number(t.totalamt)})),et(e)}()}),[We]);var At=function(){var t=(0,l.Z)((0,c.Z)().mark((function t(s,n){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.post("".concat(a,"/sale/entry/change/status"),{sale_entry_id:Nt.data.data.id,status:2,admin_id:ta}).then((function(t){k().Notify.success(t.data.message),e.GETSalesList()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),k().Notify.failure(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){1==pe&&It()}),[pe]);var Pt=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je([]),it(),Be(),V(),B(),P(),et(),xe(),me(0),j(),F();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=(0,o.useState)("block"),qt=(0,r.Z)(Rt,2),Et=qt[0],Ft=qt[1],Mt=function(){"block"==Et&&Ft("none"),"none"==Et&&Ft("block")},Lt=(0,o.useState)("none"),Ht=(0,r.Z)(Lt,2),Bt=Ht[0],zt=Ht[1],Qt=function(){"block"==Bt&&zt("none"),"none"==Bt&&zt("block")},Ot=(0,o.useState)("none"),Vt=(0,r.Z)(Ot,2),Ut=Vt[0],Yt=Vt[1],Wt=function(){"none"==Ut&&Yt("block"),"block"==Ut&&Yt("none")},Jt=(0,o.useState)("none"),Xt=(0,r.Z)(Jt,2),Kt=Xt[0],$t=Xt[1],ea=function(){"none"==Kt&&$t("block"),"block"==Kt&&$t("none")},ta=localStorage.getItem("id"),aa=(0,o.useState)([{paymentmethod:"",amount:0}]),sa=(0,r.Z)(aa,2),na=sa[0],ca=sa[1],la=(0,o.useState)(0),ra=(0,r.Z)(la,2),ia=(ra[0],ra[1]),oa=(0,o.useState)(),da=(0,r.Z)(oa,2),ma=(da[0],da[1]),ha={paymentmethod:"",amount:0};function ua(e){na.splice(e,e)}var pa=function(e){(0,C.H)(),k().Confirm.show("Add Charges and Payments","Do you surely want to add the following Charges and Payments of  ".concat(Nt.data.data.id),"Yes","No",(function(){!function(){xa.apply(this,arguments)}()}),(function(){return 0}),{})};function xa(){return(xa=(0,l.Z)((0,c.Z)().mark((function t(){var s,n,l,r,o,d;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=[],n=[],l=0,r=0;r<na.length;r++)s.push(na[r].amount),n.push(na[r].paymentmethod);for(o={sale_entry_id:Nt?Nt.data.data.id:"",g_total_main:Nt?Nt.data.data.grand_total:"",payment_method:n,payment_method_main:n,payment_method_details:s,admin_id:ta},d=0;d<na.length;d++)l+=Number(na[d].amount);if(l!=Math.round(o.g_total_main)){t.next=19;break}return k().Notify.success("Payment Successfull"),t.prev=8,ma(!0),t.next=12,i.Z.post("".concat(a,"/sale/entry/save/charges"),o).then((function(t){void 0!=e.saleindex?console.log("Run"):e.GETSalesList(),e.toggle_nsef(),ca([{paymentmethod:"",amount:0}]),ft(),At(),Pt(),ma(!1),k().Notify.success(t.data.message)}));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),ma(!1);case 17:t.next=20;break;case 19:k().Notify.warning("Unsufficent Amount to proceed Payment successfully");case 20:case"end":return t.stop()}}),t,null,[[8,14]])})))).apply(this,arguments)}var ba=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,na&&na.map((function(e){return t+=Number(e.amount)})),ia(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){ba()}),[e.saleentryarr]);var Na=(0,o.useState)("none"),fa=(0,r.Z)(Na,2),ja=fa[0],_a=fa[1],ga=function(){"block"==ja&&_a("none"),"none"==ja&&_a("block")};function va(e){1==e?vt("block"):(Wt(),ea(),vt("none"))}return(0,o.useEffect)((function(){vt("none")}),[e.toggle_nsef]),(0,u.jsxs)("div",{className:"saleentry rounded-2",children:[(0,u.jsxs)("div",{className:"shadow-sm",children:[(0,u.jsx)("h5",{className:"text-center fw-bold py-2",children:"New Sale Entry"}),(0,u.jsx)("button",{className:"btn btn-back position-absolute start-0 top-0 ms-2 d-".concat("block"==Et?"none":"block"),onClick:function(){"block"===Bt&&(Qt(),Mt()),"block"===Ut&&(Wt(),Qt()),"block"===Kt&&(ea(),Wt())}}),(0,u.jsx)("button",{className:"btn btn-close position-absolute end-0 top-0 me-2",onClick:e.toggle_nsef})]}),(0,u.jsxs)("div",{className:"stage1 d-".concat(Et),children:[(0,u.jsx)("div",{className:"container-fluid ps-5 mt-2",children:(0,u.jsxs)("div",{className:"order mt-4",children:[(0,u.jsxs)("div",{className:"patient mt-4",children:[(0,u.jsx)("h6",{className:"m-0 p-0 pb-1 fw-bold text-charcoal75",children:"Patient"}),(0,u.jsx)("input",{type:"text",placeholder:"Search Name or Number",className:"form-control rounded-1 border-2 border-charcoal75 fw-bold w-auto bg-seashell",value:f||"",onFocus:function(){return ve(!0)},onChange:function(e){ve(!0),j(e.target.value),i.Z.get("".concat(a,"/patient/list?search=").concat(f,"&limit=5&offset=0")).then((function(e){y(e.data.data.patients_list),ve(!1)})),f&&f.length>1?Z("block"):Z("none")}}),(0,u.jsx)("div",{className:"col-auto d-".concat(T," text-decoration-none searchinput position-absolute rounded-1 shadow bg-pearl px-2"),style:{width:"max-content",zIndex:"2"},children:1==ge||void 0==f?(0,u.jsxs)("p",{className:"btn text-charcoal75 fs-6 p-0 m-0 ps-1",children:[" Loading..."," "," "]}):0==v.length?(0,u.jsx)("p",{className:"text-danger btn fs-6 p-0 m-0",children:"Patient not found"}):v.map((function(e){return(0,u.jsx)("div",{className:"col-auto ms-1 py-2 bg-pearl text-decoration-none text-charcoal text-start px-1",onClick:function(){!function(e,t,a){j(t),P(e),F(a),pt(a.phone_number),Z("none")}(e.id,e.full_name,e)},style:{width:"max-content",cursor:"pointer"},children:(0,u.jsxs)("div",{className:" fw-bold text-charcoal",children:[" ",e.full_name," ",(0,u.jsx)("span",{className:"fw-bold text-charcoal75",children:e.phone_number})," "]})})}))})]}),(0,u.jsxs)("div",{className:"row mt-4",children:[(0,u.jsxs)("div",{className:"doctor col-6",children:[(0,u.jsx)("h6",{className:"m-0 p-0 pb-1 fw-bold text-charcoal75",children:"Doctor"}),(0,u.jsxs)("select",{className:"col-10 form-control selectdoctor text-charcoal fw-bold rounded-1 border-2 border-charcoal75 w-auto bg-seashell",placeholder:"Select Doctor",value:H||"",onChange:function(e){B(e.target.value)},children:[(0,u.jsx)("option",{className:"text-charcoal",children:"Select Doctor"}),s.map((function(e,t){return(0,u.jsxs)("option",{className:"text-charcoal",value:e[0],children:[" ","Dr."," ",e[1]," "]},t)}))]})]}),(0,u.jsxs)("div",{className:"anotherdoctor col-6",children:[(0,u.jsx)("h6",{className:"m-0 p-0 pb-1 fw-bold text-charcoal75",children:" Another Doctor"}),(0,u.jsx)("input",{type:"text",placeholder:"Type Name",className:"form-control rounded-1 fw-bold text-charcoal border-2 border-charcoal75 w-auto bg-seashell",value:W||"",onChange:function(e){J(e.target.value)}})]})]})]})}),(0,u.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-8",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" "," "," Order Total"," "," "]}),(0,u.jsxs)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:[" ",$e," "]})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Discount %"]}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:Ct(We)})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Total Items"]}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:We.length})]})]})}),(0,u.jsx)("div",{className:"col-4 align-self-center d-flex justify-content-end",children:(0,u.jsx)("button",{className:"button button-charcoal px-5",onMouseDown:function(){Qt()},onMouseUp:function(){Mt()},children:" Next "})})]})})]}),(0,u.jsxs)("div",{className:"stage2 d-".concat(Bt),children:[(0,u.jsxs)("div",{className:"container-fluid mt-4 text-center p-0 m-0",children:[(0,u.jsxs)("div",{className:"col-12 p-0 m-0 justify-content-center",children:[(0,u.jsx)("h6",{className:"text-charcoal75 p-0 m-0 fw-bolder text-start ms-3",children:" Add Products "}),(0,u.jsxs)("div",{className:"row p-0 m-0 my-2 justify-content-start",children:[(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("input",{className:"form-control fw-bold border-charcoal75 border-2 rounded-1 bg-seashell",placeholder:"Search Product by Name",value:He||"",onChange:function(e){kt(e.target.value),Be(e.target.value),Ve(),we(),x.current.style.display="none"}}),(0,u.jsx)("div",{ref:h,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"1"},children:Ge?st?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,u.jsx)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:(0,u.jsx)("span",{className:"sr-only",children:" "})})]}):0==st&&0==Ge.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:" Oops! Not Avaliable "}):(0,u.jsxs)("div",{className:"rounded-4 scroll border border-1 bg-pearl p-1 d-".concat(Ge&&Ge.length>0?"block":"none"),style:{height:"30vh"},children:[(0,u.jsxs)("p",{className:"text-start p-2 position-sticky top-0 bg-pearl fw-bold text-charcoal75 ms-2",style:{fontSize:"0.8rem"},children:[" ",Ge.length," Search Results "]}),Ge.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," text-start fw-bold p-2 border-bottom text-charcoal "),onClick:function(t){we(e),Be(e.display_name?e.display_name:e.name),Ve(e.id),x.current.style.display="block"},children:[" ",e.display_name?e.display_name:e.name," ",(0,u.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})," "]})}))]}):(0,u.jsx)("div",{className:"bg-seashell"})}),(0,u.jsxs)("div",{ref:x,className:"position-absolute start-50 mt-1 bg-pearl scroll scroll-y align-self-center rounded-2 border border-1 p-2 d-".concat(ke&&ke.stock_info&&void 0!==ke.stock_info?"block":"none"),style:{zIndex:"2",width:"10rem","min-height":"30vh"},children:[(0,u.jsxs)("p",{className:"text-start fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[" ",ke&&void 0!==ke.stock_info?ke.stock_info.length:""," "," Batch Stocks "]}),ke&&0!=ke.length?0==ke.stock_info.length?(0,u.jsx)("div",{className:"bg-burntumber text-white fw-bold p-2",children:"Oops! Not Available"}):ke.stock_info.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"max-content"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom text-wrap"),onClick:function(){Gt(e),Be(),Ve(),we(),Ze()},children:[(0,u.jsx)("p",{className:"text-start m-0 p-0 fw-bold",children:He}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" BatchNo. -"," "," ",e.batch_no&&null!==e.batch_no?e.batch_no:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Stock -"," "," ",e.current_stock&&e.current_stock?e.current_stock:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Expiry Date -"," "," ",e.expiry_date?yt(e.expiry_date):""," "]})]})})):(0,u.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]}),(0,u.jsx)("div",{})]}),(0,u.jsx)("div",{className:"col-1 text-burntumber fw-bold align-self-center",children:"OR"}),(0,u.jsxs)("div",{className:"col-4 ",children:[(0,u.jsx)("input",{className:"form-control bg-seashell border-charcoal75 border-2 rounded-1 fw-bold",value:Oe||"",placeholder:"Search Product by ID",onChange:function(e){wt(e.target.value),Ve(e.target.value),p.current.style.display="block"}}),(0,u.jsx)("div",{ref:p,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"2"},children:Ae?Ee?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:[" Searching Please wait....",(0,u.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,u.jsx)("span",{className:"sr-only",children:" "})," "," "]})," "]}):0==Ee&&0==Ae.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:" Oops! Not Avaliable "}):Ae.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"max-content"},className:"p-0 p-1 rounded-pill shadow bg-".concat(t%2==0?"pearl":"seashell"," fs-6 "),onClick:function(t){Ve(e.type+e.id),Gt(e),p.current.style.display="none"},children:[" ",e.item_name?e.item_name:""," "]})})):(0,u.jsx)("div",{className:"bg-seashell"})})]})]})]}),(0,u.jsxs)("div",{className:"col-12 m-0 p-0 mt-5",children:[(0,u.jsx)("div",{className:"d-flex p-0 m-0 justify-content-between",children:(0,u.jsx)("h6",{className:"text-charcoal75 p-0 m-0 fw-bolder text-start ms-3",children:"Product Added"})}),(0,u.jsx)("div",{className:"p-0 m-0 scroll scroll-y",style:{height:"35vh"},children:(0,u.jsxs)("table",{className:"table p-0 m-0",children:[(0,u.jsxs)("thead",{className:"p-0 m-0",children:[(0,u.jsxs)("tr",{className:"p-0 m-0 ",children:[(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item ID "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item Name "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" BatchNo. "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Expiry Date "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Avl.Stock "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Qty To Sale "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Discount % "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",colSpan:"4",scope:"col-group",children:" Costing "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Total Amount "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Delete "})]}),(0,u.jsxs)("tr",{className:"p-0 m-0",children:[(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",scope:"col",children:" MRP "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",scope:"col",children:" Cost "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",scope:"col",children:" GST Rate "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",scope:"col",children:" Selling Cost/Unit "})]})]}),We&&0!==We.length?(0,u.jsx)("tbody",{className:"p-0 m-0",children:We.map((function(e){return(0,u.jsxs)("tr",{className:"p-0 m-0 align-middle text-charcoal fw-bold bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,u.jsxs)("td",{children:[e.type," ",e.productid," "]}),(0,u.jsx)("td",{children:e.product}),(0,u.jsx)("td",{children:e.batch}),(0,u.jsx)("td",{children:yt(e.expiry)}),(0,u.jsx)("td",{children:e.quantity}),(0,u.jsxs)("td",{children:[(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell",value:e.qtytoSale?e.qtytoSale:"",onChange:function(t){t.target.value<=e.quantity?e.qtytoSale=t.target.value:k().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=Tt(e.qtytoSale,e.disccost),Je((function(e){return(0,n.Z)(e)}))}})," "]}),(0,u.jsxs)("td",{className:"text-center p-0 m-0",style:{Width:"0rem"},children:[(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell",value:e.discount?e.discount:"",onChange:function(t){var a,s;e.discount=t.target.value,e.disccost=(a=e.mainmrp,(s=t.target.value)?(Number(a)-Number(a)*Number(s)/100).toFixed(2):Number(a)),e.totalamt=Tt(e.qtytoSale,Number(e.disccost),Number(e.cost)),Je((function(e){return(0,n.Z)(e)}))}})," "]}),(0,u.jsx)("td",{children:e.mainmrp}),(0,u.jsx)("td",{children:e.cost}),(0,u.jsx)("td",{children:e.gst+"%"}),(0,u.jsx)("td",{children:e.disccost}),(0,u.jsx)("td",{children:e.totalamt}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"btn p-0 m-0",onClick:function(){!function(e){Zt.apply(this,arguments)}(e.batch)},children:(0,u.jsx)("img",{src:"images/delete.png"})})})]})}))}):(0,u.jsx)("tbody",{className:"p-0 m-0 position-relative",children:(0,u.jsx)("tr",{className:"p-0 m-0",children:(0,u.jsx)("td",{className:"p-0 m-0 position-absolute text-charcoal75 fw-bold start-0 end-0",children:" No Product Added "})})})]})})]})]}),(0,u.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-8",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" "," "," Order Total"," "," "]}),(0,u.jsxs)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:[" ",$e," "]})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Discount %"]}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:Ct(We)})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Total Items"]}),(0,u.jsx)("h4",{className:"text-charcoal p-0 m-0 fw-bolder card-header text-start ps-3",children:We.length})]})]})}),(0,u.jsx)("div",{className:"col-4 align-self-center d-flex justify-content-end",children:(0,u.jsx)("button",{className:"button button-charcoal px-5",onMouseDown:function(){Wt()},onMouseUp:function(){Qt()},children:" + Address "})})]})})]}),(0,u.jsxs)("div",{className:"stage3 d-".concat(Ut," "),children:[(0,u.jsxs)("div",{className:"row align-items-center p-0 m-0 pt-2",children:[(0,u.jsx)("div",{className:"col-auto"}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("h6",{className:"fw-bold text-charcoal75",children:"Patient Details"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("h6",{className:"fw-bold text-charcoal",children:["Name:",f]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("h6",{className:"fw-bold text-charcoal",children:["Phone:",void 0!=ut?ut:""]})})]}),(0,u.jsx)("hr",{className:"my-1"}),(0,u.jsx)("div",{className:"container rounded-2 m-auto w-75 bg-pearl d-".concat("block"==gt?"none":"block"),children:(0,u.jsxs)("div",{className:"row shadow rounded-2 p-2",style:{zIndex:"10"},children:[(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("p",{className:"fw-bolder text-charcoal",children:"Deliver to the Address?"})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("div",{className:"button button-charcoal fw-bold",onClick:function(){return va(!0)},children:"Yes"})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("div",{className:"button button-charcoal-outline fw-bold",onClick:function(){return va(!1)},children:"No"})})]})}),(0,u.jsxs)("div",{className:"container mt-4 position-relative d-".concat(gt," "),children:[(0,u.jsx)("div",{className:"button button-charcoal",onClick:function(){return ga()},children:"Add New Address"}),(0,u.jsx)("h6",{className:"fw-bold text-charcoal75 mt-4",children:"Select Shipping Address"}),void 0!=e.data&&void 0!=E&&0==E.length?e.data&&e.data.patient&&e.data.patient.address&&0!==e.data.patient.address.length?(0,u.jsx)("div",{className:"overflow-scroll ",style:{height:"40vh"},children:e.data.patient.address.map((function(e,t){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",checked:le===t,name:e.id,onClick:function(a){re(t),rt?St():St(e)}})," ",(0,u.jsxs)("h6",{className:"fw-bold text-charcoal d-inline-block",children:[e.address_line1&&null!==e.address_line1?e.address_line1:""," ",e.address_line2&&null!==e.address_line2?e.address_line2:""," ",e.zip_code&&null!==e.zip_code?e.zip_code:""]}),(0,u.jsx)("br",{})]})}))}):(0,u.jsxs)("div",{className:"text-danger fw-bold p-2",children:[" Addresses not found.Please add a new address"," "," "]}):(0,u.jsx)(u.Fragment,{}),E&&void 0!=E.address?void 0!=E&&0==E.address.length?(0,u.jsxs)("div",{className:"text-danger fw-bold p-2",children:[" Addresses not found.Please add a new address"," "," "]}):(0,u.jsx)("div",{className:"overflow-scroll",style:{height:"30vh"},children:E.address.map((function(e,t){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",checked:le===t,name:e.id,onClick:function(a){re(t),rt?St():St(e)}})," ",(0,u.jsxs)("h6",{className:"fw-bold text-charcoal d-inline-block",children:[e.address_line1&&null!==e.address_line1?e.address_line1:""," ",e.address_line2&&null!==e.address_line2?e.address_line2:""," ",e.zip_code&&null!==e.zip_code?e.zip_code:""]}),(0,u.jsx)("br",{})]})}))}):(0,u.jsx)(u.Fragment,{}),(0,u.jsx)("div",{className:"container position-absolute bg-seashell w-75 border border-1 shadow-sm rounded-2 start-0 end-0 d-".concat(ja),style:{top:"-3rem"},children:(0,u.jsx)(G.C,{Toggle_Address:ga,patientid:A,searchinput:f,setpatientdata:F})})]}),(0,u.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-8",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" "," "," Order Total"," "," "]}),(0,u.jsxs)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:[" ",$e," "]})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:"Discount %"}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:Ct(We)})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:" Total Items "}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:We.length})]})]})}),(0,u.jsx)("div",{className:"col-4 align-self-center d-flex justify-content-end",children:(0,u.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,C.H)(),k().Confirm.show("Save Sale Entry","Do you surely want to add total ".concat(We.length," Sale ").concat(We.length<=1?"entry":"entries","  "),"Yes","No",(function(){It(),ea(),Wt()}),(function(){return 0}),{})},children:" + Payment "})})]})})]}),(0,u.jsxs)("div",{className:"stage4 d-".concat(Kt),children:[(0,u.jsxs)("div",{className:"row align-items-center p-0 m-0 pt-2",children:[(0,u.jsx)("div",{className:"col-auto"}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("h6",{className:"fw-bold text-charcoal75",children:"Patient Details"})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("h6",{className:"fw-bold text-charcoal",children:["Order Id:",void 0!=Nt?Nt.data.data.id:""]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("h6",{className:"fw-bold text-charcoal",children:["Phone:",void 0!=ut?ut:""]})})]}),(0,u.jsx)("hr",{className:"my-1"}),(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("h6",{className:"text-charcoal75 fw-bold",children:"Total Amount Due"}),(0,u.jsxs)("h1",{className:"fw-bold text-charcoal",children:["\u20b9",void 0!=Nt?Math.round(Nt.data.data.grand_total):0]})]}),(0,u.jsxs)("div",{className:"container-fluid text-start position-relative scroll scroll-y",style:{height:"35vh"},children:[na&&void 0!==na?na.map((function(e,a){return 1==t.sale_entry_charges_edit?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"container mt-4",children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsxs)("div",{className:"col-10",children:[(0,u.jsx)("h6",{className:"text-charcoal75 fw-bold",children:"Enter Amount"}),(0,u.jsx)("input",{type:"number",placeholder:"\u20b900",value:e.amount,onChange:function(t){e.amount=t.target.value,ca((function(e){return(0,n.Z)(e)}))},className:"form-control rounded-1 fw-bold text-charocoal75 bg-seashell w-25 border-2"})]}),(0,u.jsx)("div",{className:"col-2",children:(0,u.jsx)("button",{className:"btn btn-sm p-0 m-0 d-".concat(0==a?"none":"block"),onClick:function(){ua(a),ca((function(e){return(0,n.Z)(e)}))},children:(0,u.jsx)("img",{src:"/images/minus.png",className:"img-fluid",style:{width:"1.8rem"}})})})]})}),(0,u.jsx)("h6",{className:"text-charcoal75 fw-bold mt-2 ms-2",children:"Select Payment Method"}),(0,u.jsxs)("div",{className:"d-flex flex-horizontal ms-2 mt-2 scroll scroll-y",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Cash",ca((function(e){return(0,n.Z)(e)}))},checked:"Cash"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Cash"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Cash"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Card",ca((function(e){return(0,n.Z)(e)}))},checked:"Card"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Card"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Card"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Paytm",ca((function(e){return(0,n.Z)(e)}))},checked:"Paytm"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Paytm"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Paytm"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Phonepe",ca((function(e){return(0,n.Z)(e)}))},checked:"Phonepe"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Phonepe"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Phonepe"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Razorpay",ca((function(e){return(0,n.Z)(e)}))},checked:"Razorpay"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Razorpay"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Razorpay"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Wire-Transfer",ca((function(e){return(0,n.Z)(e)}))},checked:"Wire-Transfer"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Wire-Transfer"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Wire-Transfer"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Points",ca((function(e){return(0,n.Z)(e)}))},checked:"Points"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Points"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Points"})}),(0,u.jsx)("input",{type:"checkbox",className:"form-check-input border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Adjust-Advance",ca((function(e){return(0,n.Z)(e)}))},checked:"Adjust-Advance"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Adjust-Advance"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Adjust-Advance"})})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"container mt-4",children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsxs)("div",{className:"col-10",children:[(0,u.jsx)("h6",{className:"text-charcoal75 fw-bold",children:"Enter Amount"}),(0,u.jsx)("input",{type:"number",placeholder:"\u20b900",value:e.amount,onChange:function(t){e.amount=t.target.value,ca((function(e){return(0,n.Z)(e)}))},className:"form-control rounded-1 fw-bold text-charocoal75 bg-seashell w-25 border-2"})]}),(0,u.jsx)("div",{className:"col-2",children:(0,u.jsx)("button",{className:"btn btn-sm p-0 m-0 d-".concat(0==a?"none":"block"),onClick:function(){ua(a),ca((function(e){return(0,n.Z)(e)}))},children:(0,u.jsx)("img",{src:"/images/minus.png",className:"img-fluid",style:{width:"1.8rem"}})})})]})}),(0,u.jsx)("h6",{className:"text-charcoal75 fw-bold mt-2 ms-2",children:"Select Payment Method"}),(0,u.jsxs)("div",{className:"d-flex flex-horizontal ms-2 mt-2 scroll scroll-y",children:[(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Cash",ca((function(e){return(0,n.Z)(e)}))},checked:"Cash"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Cash"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Cash"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Card",ca((function(e){return(0,n.Z)(e)}))},checked:"Card"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Card"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Card"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Paytm",ca((function(e){return(0,n.Z)(e)}))},checked:"Paytm"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Paytm"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Paytm"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Phonepe",ca((function(e){return(0,n.Z)(e)}))},checked:"Phonepe"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Phonepe"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Phonepe"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Razorpay",ca((function(e){return(0,n.Z)(e)}))},checked:"Razorpay"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Razorpay"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Razorpay"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Wire-Transfer",ca((function(e){return(0,n.Z)(e)}))},checked:"Wire-Transfer"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Wire-Transfer"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Wire-Transfer"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Points",ca((function(e){return(0,n.Z)(e)}))},checked:"Points"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Points"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Points"})}),(0,u.jsx)("input",{type:"checkbox",disabled:!0,className:"form-check-input bg-seashell border-charcoal p-2 mt-1",onChange:function(){e.paymentmethod="Adjust-Advance",ca((function(e){return(0,n.Z)(e)}))},checked:"Adjust-Advance"==e.paymentmethod,onClick:function(e){void 0!=ae?se():se(e.target.value)},value:"Adjust-Advance"}),(0,u.jsx)("span",{children:(0,u.jsx)("h6",{className:"d-block text-charcoal fw-bold pt-1 ms-2 me-5",children:"Adjust-Advance"})})]})]})})):(0,u.jsx)(u.Fragment,{}),(0,u.jsx)("div",{className:"container-fluid text-center mt-2  ",children:1==t.sale_entry_charges_edit?(0,u.jsx)("button",{className:"btn py-0",onClick:function(){na&&na.length>0?ca((function(e){return[].concat((0,n.Z)(e),[ha])})):ca([ha])},children:(0,u.jsx)("img",{src:"/images/add.png",className:"img-fluid",style:{width:"1.8rem"}})}):(0,u.jsx)(u.Fragment,{})})]}),(0,u.jsx)("div",{className:"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-8",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" "," "," Order Total"," "," "]}),(0,u.jsxs)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:["\u20b9",void 0!=Nt?Math.round(Nt.data.data.grand_total):0," "]})]}),(0,u.jsx)("div",{className:"col-4"}),(0,u.jsx)("div",{className:"col-4"})]})}),(0,u.jsx)("div",{className:"col-4 align-self-center d-flex justify-content-end",children:(0,u.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){return pa()},children:" Sale "})})]})})]})]})}function L(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useRef)(null),s=((0,o.useRef)(null),(0,o.useState)()),m=(0,r.Z)(s,2),h=(m[0],m[1]),p=(0,o.useState)(),x=(0,r.Z)(p,2),b=x[0],N=x[1],f=(0,o.useState)(),j=(0,r.Z)(f,2),_=j[0],g=j[1],v=(0,o.useState)([""]),y=(0,r.Z)(v,2),S=y[0],w=y[1],T=(0,o.useState)([""]),G=(0,r.Z)(T,2),Z=(G[0],G[1],(0,o.useState)("")),I=(0,r.Z)(Z,2),D=I[0],A=I[1],P=(0,o.useState)(),R=(0,r.Z)(P,2),q=R[0],E=R[1],F=(0,o.useState)([]),M=(0,r.Z)(F,2),L=M[0],H=M[1],B=function(e){if(e)return e=e.split("-").reverse().join("-")};function z(){return(z=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={Itemid:t.id,Type:t.type,Item:t.item_name,batchno:t.batch_no,expirydate:t.expiry_date,cost:t.sale_disc_mrp,totalcost:t.sale_disc_mrp,saleqty:t.sale_qty,qtytoReturn:t.sale_qty},void 0==L||0==L.length?(H([a]),A()):(H((function(e){return[].concat((0,n.Z)(e),[a])})),A());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.current.style.display="block",g(!0),e.prev=2,e.next=5,i.Z.get("".concat(t,"/sale/return/item/search/by/id?item=").concat(D,"&bill_id=").concat(b)).then((function(e){w([e.data.data]),g(!1)})).catch((function(e){e.response&&(k().Notify.failure(e.response.data),k().Notify.failure(e.response.status),k().Notify.failure(e.response.headers)),g(!1)}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),k().Notify.failure(e.t0),g(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var s,n,l,r,o,d;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(s=[],n=[],l=[],r=0,o=0;o<L.length;o++)s.push(L[o].Itemid?"".concat(L[o].Type).concat(L[o].Itemid):""),n.push(L[o].totalcost?L[o].totalcost:""),l.push(L[o].qtytoReturn?L[o].qtytoReturn:"");return n.forEach((function(e){r+=Number(e)})),d={bill_id:b,pro_id:s,qty:l,total_amount:n,grand_total:r},E(!0),a.prev=8,a.next=11,i.Z.post("".concat(t,"/sale/return/save"),d).then((function(t){k().Notify.success(t.data.message),e.GETSaleReturns(),H(),N(),h(),E(!1),e.toggle_nref()}));case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(8),k().Notify.warning(a.t0.message),E(!1);case 17:case"end":return a.stop()}}),a,null,[[8,13]])})));return function(){return a.apply(this,arguments)}}();function V(){return(V=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(L.filter((function(e){return e.Itemid!==t}))),a=a.flat(),H(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsxs)("div",{className:"p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"shadow-sm",children:[(0,u.jsx)("h5",{className:"text-center fw-bold py-2",children:" New Sale Return Entry "}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-3",onClick:e.toggle_nref,disabled:!!q,"aria-label":"Close"})]}),(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 w-100 entrydetails bg-seashell mt-4",children:[(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-end",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Select Bill"}),(0,u.jsx)("input",{className:"form-control ms-2 rounded-1 bg-seashell",placeholder:"Bill Id (Does not require initials)",value:b||"",onChange:function(e){N(e.target.value),H([])}})]}),(0,u.jsx)("div",{className:"col-5",children:(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Product ID"}),(0,u.jsx)("input",{className:"form-control bg-seashell",placeholder:"Product Id (Require initials)",value:D||"",onChange:function(e){b?A(e.target.value):k().Notify.failure("Please Add Bill id First"),a.current.style.display="block"}}),(0,u.jsx)("div",{ref:a,className:"position-absolute rounded-1 bg-pearl col-12",style:{zIndex:"1"},children:S?_?(0,u.jsxs)("div",{className:"rounded-1 p-1",children:["Searching Please wait....",(0,u.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,u.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==S.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):S.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer"},className:"p-0 ps-1 shadow bg-".concat(t%2==0?"pearl":"lightyellow"," fs-6 "),name:e.id,onClick:function(t){A(e.item_name),function(e){z.apply(this,arguments)}(e),a.current.style.display="none"},children:[" ",e.item_name," "]})})):(0,u.jsx)("div",{className:"bg-seashell"})})]})}),(0,u.jsxs)("div",{className:"col-2 align-self-center ",children:[(0,u.jsx)("p",{}),(0,u.jsxs)("button",{className:"p-0 m-0 btn",onClick:Q,children:[" ",(0,u.jsx)("img",{src:"images/search.png"})," "]})]})]}),(0,u.jsx)("h6",{className:"text-start fw-bold text-charcoal p-0 m-0 ms-4 mt-4",children:" Items To Return "}),(0,u.jsx)("div",{className:" p-0 m-0 mt-2 scroll scroll-y",style:{height:"40vh",zIndex:"2"},children:(0,u.jsxs)("table",{className:"table datatable text-center position-relative",children:[(0,u.jsx)("thead",{className:"text-charcoal75 fw-bold",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-2",children:"Stock ID"}),(0,u.jsx)("th",{className:"px-2",children:"Item Name"}),(0,u.jsx)("th",{className:"px-2",children:"batch No."}),(0,u.jsx)("th",{className:"px-2",children:"Expiry Date"}),(0,u.jsx)("th",{className:"px-2",children:"Sale Qty"}),(0,u.jsx)("th",{className:"px-2",children:"Qty to Return"}),(0,u.jsx)("th",{className:"px-2",children:"Sale Rate/Unit"}),(0,u.jsx)("th",{className:"px-2",children:"Sale Rate"}),(0,u.jsx)("th",{className:"px-2",children:"Delete"})]})}),L&&0==L.length?(0,u.jsx)("tbody",{className:"position-relative",style:{height:"40vh",color:"var(--charcoal)",fontWeight:"600"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"position-absolute start-0 end-0 top-0 text-center mx-auto",children:"No items Added"})})}):(0,u.jsx)("tbody",{className:"align-middle",style:{height:"40vh",color:"var(--charcoal)",fontWeight:"600"},children:L.map((function(e,t){return(0,u.jsxs)("tr",{className:"",children:[(0,u.jsxs)("td",{children:[" ",e.Type," ",e.Itemid," "]}),(0,u.jsx)("td",{children:e.Item}),(0,u.jsx)("td",{children:e.batchno}),(0,u.jsx)("td",{children:B(e.expirydate)}),(0,u.jsx)("td",{children:e.saleqty}),(0,u.jsx)("td",{className:"p-0 m-0",style:{width:"0px",height:"0px"},children:(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell  mt-2",value:e.qtytoReturn?e.qtytoReturn:"",onChange:function(t){var a,s,c;t.target.value<=e.saleqty?e.qtytoReturn=t.target.value:k().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalcost=(a=e.cost,s=e.saleqty,c=t.target.value,a&&c&&s>=c?(Number(a)*Number(c)).toFixed(2):a),H((function(e){return(0,n.Z)(e)}))}})}),(0,u.jsx)("td",{children:e.cost}),(0,u.jsx)("td",{children:e.totalcost}),(0,u.jsx)("td",{children:(0,u.jsxs)("button",{onClick:function(){!function(e){V.apply(this,arguments)}(e.Itemid)},className:"btn p-0 m-0",children:[" ",(0,u.jsx)("img",{className:"img-fluid",src:"/images/delete.png"})," "]})})]},t)}))})]})})]}),(0,u.jsx)("div",{className:"col-12 position-absolute start-0 end-0 bottom-0 text-center bg-pearl  border border-1 py-3 bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-6",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Order Total"," "]}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:function(){var e=0;return L&&L.length>0&&L.map((function(t){return e+=Number(t.totalcost)})),e}()})]}),(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsxs)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:[" ","Total Items"]}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:L?L.length:0})]})]})}),(0,u.jsx)("div",{className:"col-6 align-self-center",children:q?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,C.H)(),k().Confirm.show("Save Purchase Return ","Do you surely want to add total ".concat(L.length," Sale ").concat(L.length<=1?"Return ":"Returns"," of Bill P-").concat(b," "),"Yes","No",(function(){O()}),(function(){return 0}),{})},children:" Proceed Return "})})]})})]})}function H(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1];0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var b=(0,o.useState)(!1),N=(0,r.Z)(b,2),f=N[0],j=N[1];function _(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function g(e,t,a,s){if(e&&t&&null!==a)return(Number(e)+Number(t)+Number(a))*Number(s)}var v=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsx)("div",{className:"container-fluid p-0 m-0",children:(0,u.jsxs)("div",{className:"row p-0 m-0 position-relative",children:[(0,u.jsxs)("h5",{className:"text-center text-charcoal pt-3",children:[" ",e.itembillid," Sale Return Item Details "]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto position-absolute end-0 me-4",onClick:e.toggle_sridw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsxs)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:[" ",(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})," "]})]})})]})}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsxs)("button",{className:"button border-charcoal rounded-0 shadow-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:[" ",e," "]})}))}),(0,u.jsx)("div",{className:"row justify-content-end me-5",children:(0,u.jsxs)("div",{className:"col-3",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:f||"",onChange:function(){j(1!=f)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP in Rs. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Selling Cost "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Discount% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty "}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total in Rs. "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST in Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST in Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST in Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total in Rs. "})]})]}),e.salereturnarr.sale_medicines&&0!==e.salereturnarr.sale_medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.salereturnarr.sale_medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.medicine_stocks&&null!==e.medicine_stocks.id?"m"+e.medicine_stocks.id:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.medicine&&null!==e.medicine.name?e.medicine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.medicine_stocks.batch_no&&null!=e.medicine_stocks.batch_no?e.medicine_stocks.batch_no:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.medicine_stocks.expiry_date&&null!=e.medicine_stocks.expiry_date?v(e.medicine_stocks.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.main_mrp?e.main_mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.disc_mrp?e.disc_mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.discount?e.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST_rate?e.SGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST?Number(e.SGST)*Number(e.qty):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST_rate?e.CGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST?Number(e.CGST)*Number(e.qty):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST_rate?e.IGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST?Number(e.IGST)*Number(e.qty):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",_(e.CGST_rate,e.SGST_rate,e.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",g(e.CGST,e.SGST,e.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 bg-lightred",children:(0,u.jsx)("strong",{className:"fs-5 text-center bg-lightred",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP in Rs. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Rate in Rs. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Cost in Rs. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total in Rs. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Print QR "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST in Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST in Rs. "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total in Rs. "})]})]}),e.salereturnarr.purchase_vaccines&&0!==e.salereturnarr.purchase_vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.salereturnarr.purchase_vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.vaccine_stocks&&null!==e.vaccine_stocks.id?"v"+e.vaccine_stocks.id:""," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.vaccine&&null!==e.vaccine.name?e.vaccine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.batch_no&&null!=e.batch_no?e.batch_no:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.expiry_date&&null!=e.expiry_date?v(e.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.mrp?e.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.rate?e.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.discount?e.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.trade_discount?e.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST_rate?e.SGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.SGST?e.SGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST_rate?e.CGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST?e.CGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST_rate?e.IGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST?e.IGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",_(e.CGST_rate,e.SGST_rate,e.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",g(e.CGST,e.SGST,e.IGST)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.cost?e.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",(0,u.jsxs)("button",{className:"btn",children:[" ",(0,u.jsx)("img",{src:"/images/qrcode.png",alt:"displaying_image",className:"me-1"})," "]})," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,u.jsx)("strong",{className:"fs-6 text-center",children:"No Vaccines Found"})})})]})})]})}function B(e){var t,a=(0,o.useContext)(d.U8),s=localStorage.getItem("ClinicId"),n=(0,o.useState)(),c=(0,r.Z)(n,2),l=c[0],i=c[1],m=(0,o.useState)(),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)(1),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useContext)(d.Pl),g=(0,o.useState)("Purchase Entry"),v=(0,r.Z)(g,2),y=v[0],S=v[1],k=[{option:"Purchase Entry",display:_.purchase_entry_view},{option:"Purchase Returns",display:_.purchase_return_view}],w=(0,o.useState)("Pharmacy"),T=(0,r.Z)(w,2),C=T[0],G=T[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"purchasesection",children:(0,u.jsx)("div",{className:"container-fluid p-0 m-0 mt-3",children:(0,u.jsxs)("div",{className:"row p-0 m-0 mt-1 gx-3 position-relative",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:y||"Purchase Type "}),(0,u.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:k.map((function(e,t){return(0,u.jsxs)("li",{className:"dropdown-item text-".concat(y==e.option?"light":"dark"," fw-bold bg-").concat(y==e.option?"charcoal":"seashell"),onClick:function(t){return S(e.option)},children:[" ",e.option," "]})}))})]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:C||""}),(0,u.jsxs)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:[(0,u.jsx)("li",{className:"dropdown-item text-".concat("Pharmacy"===C?"light":"dark"," fw-bold bg-").concat("Pharmacy"===C?"charcoal":"seashell"),onClick:function(e){G("Pharmacy"),j(1)},children:" Pharmacy "}),(0,u.jsx)("li",{className:"dropdown-item text-".concat("Clinic"===C?"light":"dark"," fw-bold bg-").concat("Clinic"===C?"charcoal":"seashell"),onClick:function(e){G("Clinic"),j(2)},children:" Clinic "})]})]})}),(0,u.jsx)("div",{className:"col-auto bg-seashell rounded-2 ",children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold ",value:l||(a||""),onChange:function(e){i(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",className:" border-0 button button-seashell text-charcoal text-center fw-bold",value:p||(l||(a||"")),onChange:function(e){x(e.target.value)}})})]})})]})})}),(0,u.jsx)("section",{className:"tablesrender position-relative",children:(0,u.jsx)("div",{className:"container-fluid mt-lg-4 mt-md-3 mt-2 p-0 m-0",children:(0,u.jsx)("div",{className:"",children:(t=y,"Purchase Entry"===t?(0,u.jsx)(z,{function:e.func,function2:e.function,channel:f,fromdate:l,todate:p,ClinicID:s}):"Purchase Returns"===t?(0,u.jsx)(V,{fromdate:l,todate:p,ClinicID:s,channel:f}):(0,u.jsx)("div",{className:"",children:"Nothing Selected"}))})})})]})}function z(e){var t=(0,o.useContext)(d.U8),a=localStorage.getItem("ClinicId"),s=(0,o.useContext)(d.Pl),n=(0,o.useContext)(d.Jx),c=(0,o.useState)("none"),l=(0,r.Z)(c,2),m=l[0],h=l[1],p=function(){"none"===m&&h("block"),"block"===m&&(h("none"),E())},b=e.fromdate,N=e.todate,f=e.channel,j=(0,o.useState)(!1),_=(0,r.Z)(j,2),g=_[0],v=_[1],S=(0,o.useState)([]),w=(0,r.Z)(S,2),C=w[0],G=w[1],Z=(0,o.useState)([]),I=(0,r.Z)(Z,2),D=I[0],A=I[1],P=(0,o.useState)(),R=(0,r.Z)(P,2),q=R[0],E=R[1],F=(0,o.useState)("none"),M=(0,r.Z)(F,2),L=M[0],H=M[1],B=(0,o.useState)(),z=(0,r.Z)(B,2),V=z[0],U=z[1],Y=(0,o.useState)(),W=(0,r.Z)(Y,2),J=W[0],X=W[1],K=(0,o.useState)("none"),$=(0,r.Z)(K,2),ee=$[0],te=$[1];function ae(e){if(void 0==e||void 0==e.selected){v(!0);try{i.Z.get("".concat(n,"/purchase/entry?clinic_id=").concat(a,"&channel=").concat(f,"&limit=25&offset=0&from_date=").concat(b||t,"&to_date=").concat(N||(b||t))).then((function(e){X(e.data.data.total_count),G(e.data.data.purchase_entry),v(!1)})).catch((function(e){k().Notify.warning(e.message),v(!1)}))}catch(s){k().Notify.warning(s.data.message),v(!1)}}else{v(!0);try{i.Z.get("".concat(n,"/purchase/entry?clinic_id=").concat(a,"&channel=").concat(f,"&limit=25&offset=").concat(25*e.selected,"&from_date=").concat(b||t,"&to_date=").concat(N||(b||t))).then((function(e){X(e.data.data.total_count),G(e.data.data.purchase_entry),v(!1)})).catch((function(e){k().Notify.warning(e.message),v(!1)}))}catch(s){k().Notify.warning(s.data.message),v(!1)}}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(n,"/purchase/entry?clinic_id=").concat(a,"&channel=").concat(f,"&from_date=").concat(b||t,"&to_date=").concat(N||b||t)).then((function(e){X(e.data.data.total_count),U(Math.round(e.data.data.total_count/25)+1),v(!1)})).catch((function(e){k().Notify.warning(e),v(!1)}))}catch(e){k().Notify.warning(e.message),v(!1)}}()}),[f,b,N]),(0,o.useEffect)((function(){ae(),function(){v(!0);try{i.Z.get("".concat(n,"/purchase/entry?clinic_id=").concat(a,"&channel=").concat(f,"&limit=").concat(J,"&offset=0&from_date=").concat(b||t,"&to_date=").concat(N||b||t)).then((function(e){A(e.data.data.purchase_entry),v(!1)})).catch((function(e){k().Notify.warning(e.message),v(!1)}))}catch(e){k().Notify.warning(e.data.message),v(!1)}}()}),[J]);var se=function(){"none"===L&&H("block"),"block"===L&&H("none")},ne=function(e){if(e)return e=e.split("-").reverse().join("-")};function ce(e){var t=e.purchaseentry.medicines?e.purchaseentry.medicines:0,a=e.purchaseentry.vaccines?e.purchaseentry.vaccines:0,s={},n={},c=[],l=[];if(void 0!==e.purchaseentry.medicines&&0!==e.purchaseentry.medicines.length)for(var r=0;r<t.length;r++)for(var i=0;i<e.purchaseentry.medicines[r].qty;i++)s[i]={id:"m"+e.purchaseentry.medicines[r].id,name:e.purchaseentry.medicines[r].medicine.name,qrcode:(0,u.jsx)(y,{id:"m"+e.purchaseentry.medicines[r].id})},c.push(s[i]);if(void 0!==e.purchaseentry.vaccines&&0!==e.purchaseentry.vaccines.length)for(var o=0;o<a.length;o++)for(var d=0;d<e.purchaseentry.vaccines[o].qty;d++)n[d]={id:"v"+e.purchaseentry.vaccines[o].id,name:e.purchaseentry.vaccines[o].vaccine.name,qrcode:(0,u.jsx)(y,{id:"v"+e.purchaseentry.vaccines[o].id})},l.push(n[d]);return(0,u.jsxs)("div",{className:"container-fluid",children:[(0,u.jsx)("h5",{className:"text-charcoal75 fw-bold",children:"Medicines"}),(0,u.jsx)("div",{className:"row",children:c.map((function(e){return(0,u.jsxs)("div",{className:"col-auto m-2",children:[(0,u.jsxs)("p",{className:"text-charcoal75",children:[e.name," | ",e.id]}),(0,u.jsx)("div",{className:"container",children:e.qrcode})]},e)}))}),(0,u.jsx)("h5",{className:"text-charcoal75 fw-bold mt-2",children:"Vaccines"}),(0,u.jsx)("div",{className:"row",children:l.map((function(e){return(0,u.jsxs)("div",{className:"col-auto m-2",children:[(0,u.jsxs)("p",{className:"text-charcoal75",children:[e.name," | ",e.id]}),(0,u.jsx)("div",{className:"container",children:e.qrcode})]},e)}))})]})}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 ms-2 export_2 align-self-center text-center",children:(0,u.jsx)(x,{purchaseentryarr:D,fromdate:ne(b),todate:ne(N)})}),(0,u.jsxs)("button",{className:"button addpurchase button-charcoal position-absolute d-".concat(1==s.purchase_entry_add?"":"none"),onClick:se,children:[" ",(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})," Entry Purchase "]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",J," ",J>1?"Purchase Entries":"Purchase Entry"," "," "]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0 mt-2",style:{minHeight:"56vh",height:"56vh"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:" align-middle position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" PE ID "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" PO ID "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" Channel "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" Invoice No. "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" Bill Date "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" Bill Total "}),(0,u.jsx)("th",{className:"fw-bolder   text-charcoal75",children:" Vendor "}),(0,u.jsx)("th",{className:"fw-bolder  text-center  text-charcoal75",children:" Inventory "}),(0,u.jsx)("th",{className:"fw-bolder  text-center  text-charcoal75",children:" QR Code "})]})}),g?(0,u.jsx)("tbody",{className:" text-center",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"",children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):C&&0!=C.length?(0,u.jsx)("tbody",{children:C.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"py-0 my-0 text-charcoal fw-bold ps-2",children:[" PE-",e.bill_id," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.purchase_order_id&&null!==e.purchase_order_id?e.purchase_order_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.channel&&1==e.channel?"Pharmacy":"Clinic"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.invoice_no?e.invoice_no:"N/A"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:e.bill_date&&e.bill_date?ne(e.bill_date):"N/A"}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:e.bill_total&&e.bill_total?"Rs. "+e.bill_total:"N/A"}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:e.distributor&&null!=e.distributor&&e.distributor.entity_name&&null!=e.distributor.entity_name?e.distributor.entity_name:"N/A"}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){E(t),p()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1 img-fluid"})," "]})}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){te(t)},children:[" ",(0,u.jsx)("img",{src:"/images/qrcode.png",alt:"displaying_image",className:"me-1 img-fluid"})," "]})}),(0,u.jsx)("td",{children:t==q?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:" position-absolute d-".concat(t==q?m:"none"," border border-1 start-0 mx-auto end-0 bg-seashell rounded-4 p-0 m-0"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(Q,{purchaseentryarr:C[t],itembillid:"PE-"+e.bill_id,toggle_peidw:p})})]}):(0,u.jsx)(u.Fragment,{})}),(0,u.jsx)("td",{className:"position-absolute start-0 text-start bg-pearl container-fluid d-".concat(ee==t?"block":"none"),style:{top:"-8.5rem",zIndex:"5",height:"89vh"},children:t==ee?(0,u.jsxs)("div",{className:"container-fluid position-relative",children:[(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:function(){return te()},"aria-label":"Close"}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)(ce,{purchaseentry:C[t]})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:" No Purchase Entries "})})})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:V,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:ae,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]}),(0,u.jsx)("section",{className:"newpurchaseentrysection position-absolute start-0 end-0 bg-seashell d-".concat(L),style:{Height:"100vh"},children:(0,u.jsx)(O,{toggle_npef:se,GETPurchaseList:ae})})]})}function Q(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)("none"),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=function(e){if(e)return e=e.split("-").reverse().join("-")};0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var g=(0,o.useState)(!1),v=(0,r.Z)(g,2),S=v[0],k=v[1];function w(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function T(e,t,a,s){if(e&&t||null!==a){var n=Number(Number(e)+Number(t)+Number(a))*Number(s);return n=n.toFixed(2)}}function C(e){for(var t=[],a=0;a<e.qty;a++)t.push(e.qty);return t.map((function(t){return(0,u.jsx)("div",{className:"col-auto m-2",children:(0,u.jsx)(y,{id:e.id})},t)}))}return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"container-fluid p-0 m-0",children:[(0,u.jsxs)("h5",{className:"text-center pt-3 text-charcoal",children:[e.itembillid," Purchase Entry Item Details"]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:e.toggle_peidw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsx)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsx)("button",{className:"button border-charcoal rounded-0 shadow-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:e})}))}),(0,u.jsxs)("div",{className:" d-flex justify-content-end me-5",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:S||"",onChange:function(){k(1!=S)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Item ID"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Item Name"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Batch No."}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Expiry Date"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"MRP"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Rate"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Qty."}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Disc%"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Trade Disc%"}),(0,u.jsx)("th",{colspan:1==S?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:"Total Tax"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Cost"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Total"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Print QR"})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"CGST%"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"CGST"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"SGST%"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"SGST"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"IGST%"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:"IGST"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:"Total%"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:"Total"})]})]}),e.purchaseentryarr.medicines&&0!==e.purchaseentryarr.medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.purchaseentryarr.medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e&&null!==e.id?"m"+e.id:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.medicine&&null!==e.medicine.name?e.medicine.name:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.batch_no&&null!=e.batch_no?e.batch_no:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.expiry_date&&null!=e.expiry_date?_(e.expiry_date):"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.mrp?e.mrp:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.rate?e.rate:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.qty?e.qty:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.discount?e.discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.trade_discount?e.trade_discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.SGST_rate?Number(e.SGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.SGST?(Number(e.SGST)*Number(e.qty)).toFixed(2):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.CGST_rate?Number(e.CGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.CGST?(Number(e.CGST)*Number(e.qty)).toFixed(2):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.IGST_rate?Number(e.IGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:e.IGST?(Number(e.IGST)*Number(e.qty)).toFixed(2):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:w(e.CGST_rate,e.SGST_rate,e.IGST_rate)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:T(e.CGST,e.SGST,e.IGST,e.qty)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.cost?e.cost:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.total_amount?e.total_amount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:(0,u.jsx)("button",{className:"btn",onClick:function(){j(t)},children:(0,u.jsx)("img",{src:"/images/qrcode.png",alt:"displaying_image",className:"me-1"})})}),(0,u.jsx)("div",{className:"position-absolute top-0 start-0  text-start bg-pearl container-fluid d-".concat(f==t?"block":"none"),style:{top:"-4.2rem",zIndex:"5",height:"89vh"},children:(0,u.jsxs)("div",{className:"container-fluid position-relative",children:[(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:function(){return j()},"aria-label":"Close"}),(0,u.jsxs)("p",{className:"mt-2 text-burntumber border-1 ",children:[e.medicine&&null!==e.medicine.name?e.medicine.name:"N/A"," ","| ",e&&null!==e.id?"m"+e.id:"N/A"]}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)(C,{qty:e.qty,id:"m"+e.id})})]})})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:" text-center fw-bold",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" MRP"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Rate"," "," "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==S?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Cost"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Total"," "," "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Print QR "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:" SGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:[" SGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:" IGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==S?"":"none"),children:[" IGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]})]}),e.purchaseentryarr.vaccines&&0!==e.purchaseentryarr.vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.purchaseentryarr.vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e&&null!==e.id?"v"+e.id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.vaccine&&null!==e.vaccine.name?e.vaccine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.batch_no&&null!=e.batch_no?e.batch_no:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.expiry_date&&null!=e.expiry_date?_(e.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.mrp?e.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.rate?e.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.discount?e.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.trade_discount?e.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.SGST_rate?e.SGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.SGST?e.SGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.CGST_rate?e.CGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.CGST?e.CGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.IGST_rate?e.IGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==S?"":"none"),children:[" ",e.IGST?e.IGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",w(e.CGST_rate,e.SGST_rate,e.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",T(e.CGST,e.SGST,e.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.cost?e.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:(0,u.jsxs)("button",{className:"btn",onClick:function(){j(t)},children:[" ",(0,u.jsx)("img",{src:"/images/qrcode.png",alt:"displaying_image",className:"me-1"})," "]})}),(0,u.jsx)("div",{className:"position-absolute top-0 start-0  text-start bg-pearl container-fluid d-".concat(f==t?"block":"none"),style:{top:"-8.2rem",zIndex:"5",height:"89vh"},children:(0,u.jsxs)("div",{className:"container-fluid position-relative",children:[(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:function(){return j()},"aria-label":"Close"}),(0,u.jsxs)("p",{className:"mt-2 text-burntumber border-1 ",children:[" ",e.vaccine&&null!==e.vaccine.name?e.vaccine.name:"N/A"," "," | ",e&&null!==e.id?"v"+e.id:"N/A"," "]}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)(C,{qty:e.qty,id:"v"+e.id})})]})})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:"fw-bold text-center",children:"No Vaccines Found"})})})]})})]})}function O(e){var t=(0,o.useContext)(d.Jx),a=localStorage.getItem("ClinicId"),s=(0,o.useContext)(d.q2),m=(0,o.useRef)(null),p=(0,o.useRef)(null),x=(0,o.useRef)(null),b=(0,o.useState)(),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useState)(),g=(0,r.Z)(_,2),v=g[0],y=g[1],S=(0,o.useState)(),w=(0,r.Z)(S,2),T=w[0],G=w[1],I=(0,o.useState)(),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)(),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)(),L=(0,r.Z)(M,2),H=L[0],B=L[1],z=(0,o.useState)(),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1],U=(0,o.useState)(),Y=(0,r.Z)(U,2),W=Y[0],J=Y[1],X=(0,o.useState)(),K=(0,r.Z)(X,2),$=K[0],ee=K[1],te=(0,o.useState)([""]),ae=(0,r.Z)(te,2),se=ae[0],ne=ae[1],ce=(0,o.useState)(),le=(0,r.Z)(ce,2),re=le[0],ie=le[1],oe=(0,o.useState)(),de=(0,r.Z)(oe,2),me=de[0],he=de[1],ue=(0,o.useState)(0),pe=(0,r.Z)(ue,2),xe=pe[0],be=pe[1],Ne=(0,o.useState)(),fe=(0,r.Z)(Ne,2),je=fe[0],_e=fe[1],ge=(0,o.useState)(),ve=(0,r.Z)(ge,2),ye=ve[0],Se=ve[1],ke=(0,o.useState)(),we=(0,r.Z)(ke,2),Te=we[0],Ce=we[1],Ge=(0,o.useState)(),Ze=(0,r.Z)(Ge,2),Ie=Ze[0],De=Ze[1],Ae=(0,o.useState)(),Pe=(0,r.Z)(Ae,2),Re=Pe[0],qe=Pe[1],Ee=(0,o.useState)(),Fe=(0,r.Z)(Ee,2),Me=Fe[0],Le=Fe[1],He=(0,o.useState)(),Be=(0,r.Z)(He,2),ze=Be[0],Qe=Be[1],Oe=(0,o.useState)(0),Ve=(0,r.Z)(Oe,2),Ue=Ve[0],Ye=Ve[1],We=(0,o.useState)(0),Je=(0,r.Z)(We,2),Xe=Je[0],Ke=Je[1],$e=(0,o.useState)(0),et=(0,r.Z)($e,2),tt=et[0],at=et[1],st=(0,o.useState)(0),nt=(0,r.Z)(st,2),ct=nt[0],lt=nt[1],rt=(0,o.useState)(0),it=(0,r.Z)(rt,2),ot=it[0],dt=it[1],mt=(0,o.useState)(0),ht=(0,r.Z)(mt,2),ut=ht[0],pt=ht[1],xt=(0,o.useState)(0),bt=(0,r.Z)(xt,2),Nt=bt[0],ft=bt[1],jt=(0,o.useState)(0),_t=(0,r.Z)(jt,2),gt=_t[0],vt=_t[1],yt=(0,o.useState)(0),St=(0,r.Z)(yt,2),kt=St[0],wt=St[1],Tt=(0,o.useState)(0),Ct=(0,r.Z)(Tt,2),Gt=Ct[0],Zt=Ct[1],It=(0,o.useState)(),Dt=(0,r.Z)(It,2),At=Dt[0],Pt=Dt[1],Rt=(0,o.useState)(),qt=(0,r.Z)(Rt,2),Et=qt[0],Ft=qt[1],Mt=(0,o.useState)(),Lt=(0,r.Z)(Mt,2),Ht=Lt[0],Bt=Lt[1],zt=(0,o.useState)(),Qt=(0,r.Z)(zt,2),Ot=Qt[0],Vt=Qt[1],Ut=(0,o.useState)(),Yt=(0,r.Z)(Ut,2),Wt=Yt[0],Jt=Yt[1],Xt=(0,o.useState)(),Kt=(0,r.Z)(Xt,2),$t=Kt[0],ea=Kt[1],ta=(0,o.useState)([]),aa=(0,r.Z)(ta,2),sa=aa[0],na=aa[1],ca=(0,o.useState)("none"),la=(0,r.Z)(ca,2),ra=la[0],ia=la[1],oa=function(e){if(e)return e=e.split("-").reverse().join("-")};function da(){return(da=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0;t<s.length;t++)s[t].id==a&&Jt(s[t].state_code);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ma={type:"",isconsumable:0,Itemid:"",Itemname:"",batchno:"",expirydate:"",manufacturingDate:"",quantity:"",freeQty:"",MRP:"",Rate:"",Discount:"",tradeDiscount:"",sgst:"",sgstpercent:"",cgst:"",cgstper:"",igst:"",igstper:"",costperunit:"",totalamount:""};function ha(){return(ha=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ma={type:je,isconsumable:xe,Itemid:me,Itemname:re,batchno:ye,expirydate:Te,manufacturingDate:Ie,MRP:Re,Rate:Me,Qty:ze,freeQty:Ue,Discount:Xe,tradeDiscount:tt,sgstper:Nt,sgst:ut,cgstper:ot,cgst:ct,igstper:kt,igst:gt,costperunit:Gt,totalamount:At},ze?void 0==Ht||0==Ht.length?Bt([ma]):Bt((function(e){return[].concat((0,n.Z)(e),[ma])})):k().Notify.warning("please choose quantity"),ba();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ft(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/item/search?search=").concat(a)).then((function(e){var t=[],s=[],n=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),s.push(e.data.data.vaccines?e.data.data.vaccines:[]),n=(n=t.concat(s)).flat(),ne(n),Ft(!1),a.length>1?m.current.style.display="block":m.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/kyc/list?limit=10&offset=0&search=").concat(a)).then((function(e){ee(e.data.data),V(!1),a.length>1?p.current.style.display="block":p.current.style.display="none"})).catch((function(e){k().Notify.warning(e.data.message),V(!1)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),V(!1),k().Notify.warning(e.t0.data.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),xa=function(){var s=(0,l.Z)((0,c.Z)().mark((function s(){var n,l,r,o,d,m,h,u,p,x,b,N,j,_,g,y,S,w,C,G,Z,I,D,P;return(0,c.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(n=[],l=[],r=[],o=[],d=[],m=[],h=[],u=[],p=[],x=[],b=[],N=[],j=[],_=[],g=[],y=[],S=[],w=[],C=[],G=[],Z=[],I=0,D=0;D<Ht.length;D++)o.push(Ht[D].type?Ht[D].type:""),n.push(Ht[D].isconsumable?Ht[D].isconsumable:0),l.push(Ht[D].Itemid?Ht[D].Itemid:""),r.push(Ht[D].Itemname?Ht[D].Itemname:""),d.push(Ht[D].batchno?Ht[D].batchno:""),m.push(Ht[D].expirydate?Ht[D].expirydate:""),h.push(Ht[D].manufacturingDate?Ht[D].manufacturingDate:""),u.push(Ht[D].MRP?Number(Ht[D].MRP):""),p.push(Ht[D].Rate?Number(Ht[D].Rate):""),x.push(Ht[D].Discount?Number(Ht[D].Discount):0),b.push(Ht[D].tradeDiscount?Number(Ht[D].tradeDiscount):0),N.push(Ht[D].sgst?Number(Ht[D].sgst):""),j.push(Ht[D].sgstper?Number(Ht[D].sgstper):0),_.push(Ht[D].cgst?Number(Ht[D].cgst):""),g.push(Ht[D].cgstper?Number(Ht[D].cgstper):0),y.push(Ht[D].igst?Number(Ht[D].igst):""),S.push(Ht[D].igstper?Number(Ht[D].igstper):0),w.push(Ht[D].costperunit?Number(Ht[D].costperunit):""),C.push(Ht[D].totalamount?Number(Ht[D].totalamount):""),G.push(Ht[D].Qty?Number(Ht[D].Qty):""),Z.push(Ht[D].freeQty?Number(Ht[D].freeQty):0);return C.forEach((function(e){I+=Number(e)})),P={distributor_id:H,purchase_order_id:v,invoice_no:T,bill_date:A,clinic_id:a,channel:f,is_consumable:n,bill_total:I,id:l,type:o,qty:G,free_qty:Z,mrp:u,rate:p,trade_discount:b,discount:x,SGST_rate:j,SGST:N,CGST_rate:g,CGST:_,IGST_rate:S,IGST:y,cost:w,total_amount:C,expiry_date:m,mfd_date:h,batch_no:d},ea(!0),s.prev=26,s.next=29,i.Z.post("".concat(t,"/purchase/entry/save"),P).then((function(t){ea(!1),e.GETPurchaseList(),ea(!1),e.toggle_npef(),1==t.data.status?k().Notify.success(t.data.message):k().Notify.warning(t.data.message)}));case 29:s.next=35;break;case 31:s.prev=31,s.t0=s.catch(26),ea(!1),k().Notify.warning(s.t0.message);case 35:case"end":return s.stop()}}),s,null,[[26,31]])})));return function(){return s.apply(this,arguments)}}(),ba=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(),he(),Se(),Ce(),De(),qe(),Le(),Qe(),Ye(),Ke(),at(),lt(),pt(),vt(),dt(),ft(),wt(),Zt(),Pt(),Ft();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Na(e){var t;Ot==e?(Vt(-1),fa()):(Vt(e),he(Ht[t=e].Itemid),ie(Ht[t].Itemname),Se(Ht[t].batchno),Ce(Ht[t].expirydate),De(Ht[t].manufacturingDate),qe(Ht[t].MRP),Le(Ht[t].Rate),Qe(Ht[t].Qty),Ye(Ht[t].freeQty),Ke(Ht[t].Discount),at(Ht[t].tradeDiscount),lt(Ht[t].cgst),dt(Ht[t].cgstper),pt(Ht[t].sgst),ft(Ht[t].sgstper),vt(Ht[t].igst),wt(Ht[t].igstper),Zt(Ht[t].costperunit),Pt(Ht[t].totalamount))}function fa(){be(0),he(),ie(),Se(),Ce(),De(),qe(),Le(),Qe(),Ye(),Ke(),at(),lt(),dt(),pt(),ft(),vt(),wt(),Zt(),Pt()}function ja(){return(ja=(0,l.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0;t<Ht.length;t++)Ot==t&&(Ht[t]={type:je,isconsumable:xe,Itemid:me,Itemname:re,batchno:ye,expirydate:Te,manufacturingDate:Ie,MRP:Re,Rate:Me,Qty:ze,freeQty:Ue,Discount:Xe,tradeDiscount:tt,sgstper:Nt,sgst:ut,cgstper:ot,cgst:ct,igstper:kt,igst:gt,costperunit:Gt,totalamount:At},k().Notify.success("Item Number ".concat(Ot+1," Updated Successfully")),fa(),Vt(-1));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(){return(_a=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(Ht.filter((function(e){return e.Itemid!==t}))),a=a.flat(),Bt(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ga=0;function va(){return ga=ze?Me*ze:Me,ga=Xe?ga-ga*Xe/100:ga,ga=tt?ga-ga*tt/100:ga,ga=Nt?Number(ga)+Number(ga*Nt/100+ga*Nt/100):ga,ga=(ga=kt?Number(ga)+Number(ga*Number(kt)/100):ga)?parseFloat(ga).toFixed(2):ga}var ya=0;function Sa(){var e=Number(ze)+Number(Ue);return ya=Number(parseFloat(va()/e)),ya=parseFloat(ya).toFixed(2)}var ka=0;function wa(){return ga=ze?Me*ze:Me,ga=Xe?ga-ga*Xe/100:ga,ga=tt?ga-ga*tt/100:ga,ka=Nt?Number((Me*Nt/100+Me*Nt/100)/2):ka,ka=parseFloat(ka).toFixed(2)}var Ta=0;function Ca(){return ga=ze?Me*ze:Me,ga=Xe?ga-ga*Xe/100:ga,ga=tt?ga-ga*tt/100:ga,Ta=kt?Number(Me*kt/100):Ta,Ta=parseFloat(Ta).toFixed(2)}(0,o.useEffect)((function(){wa(),pt(wa()),lt(wa())}),[Nt]),(0,o.useEffect)((function(){Ca(),vt(Ca())}),[kt]),(0,o.useEffect)((function(){Pt(va())}),[va()]),(0,o.useEffect)((function(){Zt(Sa())}),[Sa(),va()]);var Ga=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(t,"/item/search?search=").concat(a)).then((function(e){var t=[],a=[],s=[];return t.push(e.data.data.medicines?e.data.data.medicines:[]),a.push(e.data.data.vaccines?e.data.data.vaccines:[]),(s=(s=t.concat(a)).flat())[0]&&void 0!==s[0].id?s[0].id:"Please Select ID"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(e,t){var a=0;return t&&e?(a=t*e/100,a=(a=Number(a)).toFixed(2)):0},Ia=function(e,t){return e&&t?e*t/100:0},Da=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,a,s,l,r,i,o,d,m,u,p,x,b,N,f;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],2!=H){e.next=24;break}if(!sa||0==sa.length){e.next=24;break}a=h.ij(sa,{type:"buffer"}),s=a.SheetNames[0],l=a.Sheets[s],r=h.P6.sheet_to_json(l),i=0;case 8:if(!(i<r.length)){e.next=24;break}return o=r[i].EXPIRY.replace("/","-20"),o=oa(o="01-"+o),d=Number(r[i].SRATE),d=r[i].CGST?d+Number(Za(d,r[i].CGST))+Number(Za(d,r[i].SGST)):d,d-=Number(Ia(d,r[i].DIS)),d=Number(d).toFixed(2),e.next=18,Ga(r[i]["ITEM NAME"]);case 18:e.sent,ma={type:"",Itemid:"",Itemname:r[i]["ITEM NAME"],batchno:r[i].BATCH,expirydate:o,manufacturingDate:Ie,MRP:r[i].MRP,Rate:r[i].SRATE,Qty:r[i].QTY,freeQty:r[i]["F.QTY"],Discount:"",tradeDiscount:r[i].DIS,sgstper:r[i].SGST,sgst:Za(r[i].SRATE,r[i].SGST),cgstper:r[i].CGST,cgst:Za(r[i].SRATE,r[i].CGST),igstper:Za(r[i].SRATE,r[i].IGST),igst:r[i].IGST,costperunit:d,totalamount:d*r[i].QTY.toFixed(2)},t.push(ma);case 21:i++,e.next=8;break;case 24:if((4==H||3==H)&&sa&&0!=sa.length)for(m=h.ij(sa,{type:"buffer"}),u=m.SheetNames[0],p=m.Sheets[u],x=h.P6.sheet_to_json(p),b=0;b<x.length;b++)N="20"+x[b].EXPYEAR,N+=x[b].EXPMONTH<10?"-0"+x[b].EXPMONTH:"-"+x[b].EXPMONTH,N+=x[b].EXPDAY<10?"-0"+x[b].EXPDAY:x[b].EXPDAY,f=Number(x[b].SRATE),f=x[b].CGST?f+Number(Za(f,x[b].CGST))+Number(Za(f,x[b].SGST)):f,f-=Number(Ia(f,x[b].DIS)),f=Number(f).toFixed(2),ma={type:"",Itemid:"",Itemname:x[b]["ITEM NAME"],batchno:x[b].BATCH,expirydate:N,manufacturingDate:"",MRP:x[b].MRP,Rate:x[b].SRATE,Qty:x[b].QTY,freeQty:x[b]["F.QTY"],Discount:"",tradeDiscount:x[b].DIS,sgstper:x[b].SGST,sgst:Za(x[b].SRATE,x[b].SGST),cgstper:x[b].CGST,cgst:Za(x[b].SRATE,x[b].CGST),igstper:Za(x[b].SRATE,x[b].IGST),igst:x[b].IGST,costperunit:f,totalamount:(f*x[b].QTY).toFixed(2)},t.push(ma);void 0==Ht||0==Ht.length?Bt(t):Bt((function(e){return[].concat((0,n.Z)(e),[t])}));case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Aa=function(){"block"==ra&&ia("none"),"none"==ra&&ia("block")};return(0,u.jsxs)("div",{className:" p-0 m-0",style:{zIndex:"2"},children:[(0,u.jsxs)("div",{className:"row p-0 m-0 p-2",children:[(0,u.jsx)("div",{className:"col-1",children:(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto mt-2",onClick:e.toggle_npef,"aria-label":"Close"})}),(0,u.jsx)("div",{className:"col-8 col-md-7 col-lg-8 col-xl-8",children:(0,u.jsx)("h5",{className:"text-center mt-2 fw-bold text-charcoal",children:" New Purchase Entry "})}),(0,u.jsx)("div",{className:"col-auto",children:$t?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsx)("button",{disabled:!!(void 0==Ht||Ht&&0==Ht.length),className:"button button-charcoal",onClick:function(){var e,t;e=Ht,t=E,(0,C.H)(),k().Confirm.show("Save Purchase Entry","Do you surely want to add total ".concat(e.length," purchase ").concat(e.length<=1?"entry":"entries"," of Distributor ").concat(t,"  "),"Yes","No",(function(){xa()}),(function(){return 0}),{})},children:" Save All "})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("button",{className:"btn btn-sm text-burntumber fw-bold",onClick:function(){Bt(),j(),y(),G(),P(),F(),B()},children:" Clear "})})]}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 entrydetails bg-pearl",style:{Height:"100vh"},children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsxs)("div",{className:"col-".concat(H?"8":"12"," p-0 m-0"),children:[(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",checked:1==f,value:"1",onClick:function(e){j(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("span",{className:"ms-0",children:"Pharmacy"})})]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",checked:2==f,value:"2",onClick:function(e){j(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("span",{className:"ms-0",children:"Clinic"})})]})})]}),(0,u.jsxs)("div",{className:"col-8 p-0 m-0",children:[(0,u.jsxs)("div",{className:"row p-0 m-0 gx-2 gy-1",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Select PO"}),(0,u.jsx)("input",{className:"form-control ms-2 rounded-1",placeholder:"Enter PO",value:v||"",onChange:function(e){y(e.target.value)},style:{zIndex:"5"}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Select Vendor"}),(0,u.jsx)("input",{className:"form-control ms-2 rounded-1",placeholder:"Search Vendors",value:E||"",onChange:function(e){pa(e.target.value),F(e.target.value),B(),J()}}),(0,u.jsx)("div",{ref:p,className:"position-absolute ms-2 rounded-1 bg-pearl col-auto",style:{zIndex:"5",width:"fit-content"},children:$?O?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl mt-1 border shadow",style:{width:"fit-content"},children:["Searching Please wait....",(0,u.jsx)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:(0,u.jsx)("span",{className:"sr-only"})})]}):0==$.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-2",children:"Oops! Not Avaliable"}):(0,u.jsx)("div",{className:"bg-pearl border shadow rounded-1 p-1 col-12",style:{zIndex:"40"},children:$.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer"},className:"p-0 p-1 d-".concat(void 0==$||$.length>0?"":"none","  bg-").concat(t%2==0?"pearl":"seashell"," "),name:e.id,onClick:function(t){F(e.entity_name),B(e.id),J(e.state_code),function(){da.apply(this,arguments)}(),p.current.style.display="none"},children:[" ",e.entity_name," "]})}))}):(0,u.jsx)(u.Fragment,{})})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Invoice Number"}),(0,u.jsx)("input",{type:"text",placeholder:"Enter No.",className:"form-control ms-2 rounded-1",value:T||"",onChange:function(e){G(e.target.value)},style:{color:"gray"}})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Invoice Date"}),(0,u.jsx)("input",{type:"date",className:"form-control ms-2 rounded-1",value:A||"",onChange:function(e){P(e.target.value)},style:{color:"gray"}})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center mt-2",children:[(0,u.jsx)("div",{className:"col-6 col-lg-5 col-md-5 p-0 m-0 align-self-center ms-1",children:(0,u.jsxs)("button",{className:"button button-charcoal p-0 m-0 pe-3 ms-2",onClick:Aa,children:[" "," "," ",(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image"})," "," Medicine"," "," "]})}),(0,u.jsx)("div",{className:"col-6",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-5",children:(0,u.jsx)("input",{ref:x,className:"form-control w-100 p-0 m-0 px-2 py-1 rounded-1 bg-pearl",onChange:function(){if("application/vnd.ms-excel"==x.current.files[0].type){var e=x.current.files[0],t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(e){na(e.target.result)}}else k().Notify.failure("Choose Only Excel File to Upload")},type:"file"})}),(0,u.jsx)("div",{className:"col-5 text-end",children:(0,u.jsx)("button",{className:"button button-charcoal",onClick:Da,children:" Submit "})})]})})]})]}),(0,u.jsx)("div",{className:" p-0 m-0 scroll scroll-y",children:(0,u.jsxs)("table",{className:"table m-0 datatable bg-pearl text-start position-relative align-middle",children:[(0,u.jsx)("thead",{className:" bg-pearl position-sticky top-0",style:{color:"gray",fontWeight:"600"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Edit"}),(0,u.jsx)("th",{children:"Item ID"}),(0,u.jsx)("th",{children:"Item Name"}),(0,u.jsx)("th",{children:"batch No."}),(0,u.jsx)("th",{children:"Expiry Date"}),(0,u.jsx)("th",{children:"MRP"}),(0,u.jsx)("th",{children:"Rate"}),(0,u.jsx)("th",{children:"Total Disc"}),(0,u.jsx)("th",{children:"Qty."}),(0,u.jsx)("th",{children:"Cost"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{className:"text-center",children:"Delete"})]})}),Ht?(0,u.jsx)("tbody",{style:{Height:"48vh",maxHeight:"48vh",color:"var(--charcoal)",fontWeight:"600"},children:Ht.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"),children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("input",{type:"checkbox",checked:t==Ot,onClick:function(){Na(t)},className:" form-check-input p-1"})," "]}),(0,u.jsx)("td",{children:e.Itemid}),(0,u.jsx)("td",{children:e.Itemname}),(0,u.jsx)("td",{children:e.batchno}),(0,u.jsx)("td",{children:oa(e.expirydate)}),(0,u.jsx)("td",{children:e.MRP}),(0,u.jsx)("td",{children:e.Rate}),(0,u.jsxs)("td",{children:[Number(e.Discount)+Number(e.tradeDiscount)," "]}),(0,u.jsx)("td",{children:e.Qty}),(0,u.jsx)("td",{children:e.costperunit}),(0,u.jsx)("td",{children:e.totalamount}),(0,u.jsxs)("td",{children:[(0,u.jsx)("button",{onClick:function(){!function(e){_a.apply(this,arguments)}(e.Itemid)},className:"btn btn-sm text-burntumber fw-bold",children:" Delete "})," "]})]},t)}))}):Ht&&0==Ht.length?(0,u.jsx)("tbody",{className:"position-relative bg-pearl text-center",style:{height:"48vh",maxHeight:"48vh",color:"var(--charcoal)",fontWeight:"600"},children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute start-0 end-0 top-0",children:" No items Added "})})}):(0,u.jsx)("tbody",{className:"position-relative bg-pearl text-center",style:{height:"48vh",maxHeight:"48vh",color:"var(--charcoal)",fontWeight:"600"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"position-absolute start-0 end-0",children:" No items Added "})})})]})})]}),(0,u.jsxs)("div",{className:"col-4 m-0 p-0 scroll scroll-y border border-1 medicineinfosection d-".concat(H?"block":"none"," bg-seashell ps-2"),id:"medicineinfosection",style:{maxHeight:"81vh",Height:"81vh"},children:[(0,u.jsx)("h5",{className:"mt-2",children:"Add Items"}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("input",{type:"checkbox",checked:0!=xe,className:"form-check-input",onChange:function(){be(0==xe?1:0)}}),(0,u.jsx)("label",{children:"Is Consumable"}),(0,u.jsxs)("div",{className:" col-lg-10 col-12",children:[(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsx)("label",{children:"Search Items "}),(0,u.jsx)("input",{className:"form-control bg-seashell",placeholder:"Items",value:re||"",onChange:function(e){ua(e.target.value),ie(e.target.value),_e()}}),(0,u.jsx)("div",{ref:m,className:"position-absolute rounded-4 col-12",style:{zIndex:"2"},children:se?Et?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,u.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,u.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==se.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1 text-wrap",children:"Oops! Not Avaliable"}):(0,u.jsxs)("div",{className:"mt-1 rounded-4 bg-pearl shadow px-1 pb-2 d-".concat(se&&se.length>1?"block":"none"),children:[(0,u.jsxs)("p",{className:"p-0 m-0 bg-pearl fw-bold text-charcoal75 rounded-4 ps-2 ",style:{fontSize:"0.8rem"},children:[" ",se.length," Search Results "]}),se.map((function(e,t){return(0,u.jsx)("div",{style:{cursor:"pointer"},className:"p-0 ps-1 text-wrap  bg-".concat(t%2==0?"":"lightyellow"),name:e.id,onClick:function(t){ie(e.display_name?e.display_name:e.name),he(e.id),_e(e.vaccines_id?"v":"m"),m.current.style.display="none"},children:e.display_name?e.display_name:e.name})}))]}):(0,u.jsx)(u.Fragment,{})})]}),(0,u.jsx)("label",{className:"mb-2 pt-2",children:"Batch Number"}),(0,u.jsx)("input",{type:"text",max:"10",className:"form-control bg-seashell batchnumber rounded-1",id:"inputEmail4",placeholder:"Batch Number",value:ye||"",onChange:function(e){return Se(e.target.value)},required:!0}),(0,u.jsx)("label",{className:"pt-3 mb-2",children:"Expiry Date"}),(0,u.jsx)("input",{type:"Date",className:"form-control bg-seashell reounded-1 expirydate",value:Te||"",onChange:function(e){Ce(e.target.value)},required:!0}),(0,u.jsx)("label",{className:"pt-3 mb-2",children:"Manufacturing Date"}),(0,u.jsx)("input",{type:"Date",className:"form-control bg-seashell reounded-1 manufacturingdate",value:Ie||"",onChange:function(e){De(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-12 form-group col-md-12 col-lg-11",children:[(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"MRP"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell mrp rounded-1  m-auto",placeholder:"00",value:Re||"",onChange:function(e){qe(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:" Rate"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell rate rounded-1  m-auto",placeholder:"00",value:Me||"",onChange:function(e){Le(e.target.value),va(e.target.value)},required:!0})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"Qty"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell mrp rounded-1  m-auto",placeholder:"00",value:ze||"",onChange:function(e){Qe(e.target.value),va(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"Free Qty"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell rate rounded-1  m-auto",placeholder:"00",value:Ue||"",onChange:function(e){Ye(e.target.value)},required:!0})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 mt-2",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"Discount (%)"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell mrp rounded-1  m-auto",placeholder:"00",value:Xe||"",onChange:function(e){Ke(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-5 pb-3",children:[(0,u.jsx)("label",{className:"mb-2",children:"Trade Disc. (%)"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell rate rounded-1  m-auto",placeholder:"00",value:tt||"",onChange:function(e){at(e.target.value)},required:!0})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"col-12 ps-2 py-2 d-".concat(W==Wt?"block":"none"),children:(0,u.jsxs)("div",{className:"row align-items-center p-0 m-0",children:[(0,u.jsx)("div",{className:"col-auto ",children:(0,u.jsx)("h6",{children:"SGST"})}),(0,u.jsx)("div",{className:"col-5",children:(0,u.jsx)("input",{type:"number",max:"10",className:" bg-seashell mrp rounded-1 w-100 border border-seashell m-auto",placeholder:"00",disabled:!0,value:ut||"",required:!0})}),(0,u.jsx)("div",{className:"col-3",children:(0,u.jsx)("input",{type:"number",max:"10",className:" bg-seashell mrp rounded-1 w-100 border border-seashell m-auto p-0 m-0",placeholder:"Rate",value:Nt||"",onChange:function(e){ft(e.target.value),dt(e.target.value),wa()},required:!0})})]})}),(0,u.jsx)("div",{className:"col-12 ps-2 py-2 d-".concat(W==Wt?"block":"none"),children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("h6",{children:"CGST"})}),(0,u.jsx)("div",{className:"col-5",children:(0,u.jsx)("input",{type:"number",max:"10",className:" bg-seashell mrp rounded-1 w-100 border border-seashell  m-auto",disabled:!0,placeholder:"00",value:ct||(ut||""),required:!0})}),(0,u.jsx)("div",{className:"col-3",children:(0,u.jsx)("input",{type:"number",max:"10",className:" bg-seashell mrp rounded-1 w-100 border border-seashell  m-auto",disabled:!0,placeholder:"Rate",value:ot||(Nt||""),required:!0})})]})}),(0,u.jsx)("div",{className:"col-12 ps-2 py-2 d-".concat(W==Wt?"none":"block"),children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,u.jsx)("div",{className:"col-2 ",children:(0,u.jsx)("h6",{children:"IGST"})}),(0,u.jsx)("div",{className:"col-5",children:(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell mrp rounded-1  m-auto",placeholder:"00",disabled:!0,value:Ca()?Ca():""})}),(0,u.jsx)("div",{className:"col-3",children:(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell mrp rounded-1  m-auto",placeholder:"Rate",value:kt||"",onChange:function(e){wt(e.target.value)},required:!0})})]})})]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"col-12 form-group",children:(0,u.jsxs)("div",{className:"row p-0 m-0 g-3",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"Cost/Unit"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell costunit rounded-1",placeholder:"00",disabled:!0,value:Sa()?Sa():"",onChange:function(e){Zt(e.target.value)},required:!0})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"mb-2",children:"Total Amount"}),(0,u.jsx)("input",{type:"number",max:"10",className:"form-control bg-seashell totalamount rounded-1",placeholder:"00",disabled:!0,value:va()?va():"",onChange:function(e){Pt(e.target.value)},required:!0})]})]})}),(0,u.jsx)("div",{className:"col-6 py-3 m-auto text-center",children:-1==Ot||void 0==Ot?(0,u.jsxs)("button",{type:"submit",className:"btn  button-charcoal done px-5",onClick:function(){return ha.apply(this,arguments)},children:[" "," "," Add"," "," "]}):(0,u.jsxs)("button",{type:"submit",className:"btn  button-charcoal done px-5",onClick:function(){return ja.apply(this,arguments)},children:[" "," "," Update"," "," "]})})]})]})]})}),(0,u.jsx)("section",{className:"position-absolute top-0 start-0 end-0 d-".concat(ra),children:(0,u.jsx)(Z,{ToggleNewMedicine:Aa})})]})}function V(e){var t=(0,o.useContext)(d.U8),a=localStorage.getItem("ClinicId"),s=(0,o.useContext)(d.Jx),n=(0,o.useState)("none"),c=(0,r.Z)(n,2),l=c[0],m=c[1],h=e.channel,p=e.fromdate,x=e.todate,N=(0,o.useState)(!1),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)([]),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)([]),C=(0,r.Z)(w,2),G=C[0],Z=C[1],I=(0,o.useState)(),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)("none"),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)(),L=(0,r.Z)(M,2),H=L[0],B=L[1],z=(0,o.useState)(),Q=(0,r.Z)(z,2),O=Q[0],V=Q[1];function W(e){if(void 0==e||void 0==e.selected){_(!0);try{i.Z.get("".concat(s,"/purchase/return?clinic_id=").concat(a,"&channel=").concat(h,"&limit=25&offset=0&from_date=").concat(p||t,"&to_date=").concat(x||(p||t))).then((function(e){S(e.data.data.purchase_return),V(e.data.data.total_count),_(!1)})).catch((function(e){k().Notify.warning(e.message),_(!1)}))}catch(n){k().Notify.warning(n.data.message),_(!1)}}else{_(!0);try{i.Z.get("".concat(s,"/purchase/return?clinic_id=").concat(a,"&channel=").concat(h,"&limit=25&offset=").concat(25*e.selected,"&from_date=").concat(p||t,"&to_date=").concat(x||(p||t))).then((function(e){S(e.data.data.purchase_return),V(e.data.data.total_count),_(!1)})).catch((function(e){k().Notify.warning(e.message),_(!1)}))}catch(n){k().Notify.warning(n.data.message),_(!1)}}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(s,"/purchase/return?clinic_id=").concat(a,"&channel=").concat(h,"&from_date=").concat(p||t,"&to_date=").concat(x||p||t)).then((function(e){V(e.data.data.total_count),B(Math.round(e.data.data.total_count/25)+1),_(!1)})).catch((function(e){k().Notify.warning(e),_(!1)}))}catch(e){k().Notify.warning(e.message),_(!1)}}()}),[h,p,x]),(0,o.useEffect)((function(){W(),function(){_(!0);try{i.Z.get("".concat(s,"/purchase/return?clinic_id=").concat(a,"&channel=").concat(h,"&limit=").concat(O,"&offset=0&from_date=").concat(p||t,"&to_date=").concat(x||p||t)).then((function(e){Z(e.data.data.purchase_return),_(!1)})).catch((function(e){k().Notify.warning(e.message),_(!1)}))}catch(e){k().Notify.warning(e.data.message),_(!1)}}()}),[O]);var J=function(){"none"===l&&m("block"),"block"===l&&(m("none"),P())},X=function(){"none"===E&&F("block"),"block"===E&&F("none")},K=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 ms-2  export_2 align-self-center text-center   ",children:(0,u.jsx)(b,{purchasereturnarr:G,fromdate:K(p),todate:K(x)})}),(0,u.jsxs)("button",{className:"button addpurchase button-charcoal position-absolute",onClick:X,children:[(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"}),"Entry Return"]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",O," ",O>1?"Purchase Returns":"Purchase Return"," "," "]}),(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0",style:{minHeight:"57vh",height:"57vh"},children:(0,u.jsxs)("table",{className:"table text-center p-0 m-0",children:[(0,u.jsx)("thead",{className:"p-0 m-0 align-middle text-start",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" PR ID "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" Channel "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" Distributor "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" Return Date "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" Return Amount "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",scope:"col",children:" Inventory "})]})}),j?(0,u.jsx)("body",{className:" text-center",style:{minHeight:"57vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{className:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"fs-5",children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):y&&0!=y.length?(0,u.jsx)("tbody",{className:"text-start",children:y.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" PR-",e.return_no," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.channel&&1==e.channel?"Pharmacy":"Clinic"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.distributor&&null!=e.distributor&&e.distributor.entity_name&&null!=e.distributor.entity_name?e.distributor.entity_name:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.return_date?K(e.return_date):""," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" \u20b9",e.grand_total?e.grand_total:"N/A"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){P(t),J()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1"})," "]})}),(0,u.jsx)("td",{className:"p-0 m-0",children:t==A?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:" position-absolute d-".concat(t==A?l:"none"," border border-1 start-0 mx-auto end-0 bg-seashell rounded-4 p-0 m-0"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(U,{purchasereturnarr:y[t],itembillid:"PR-"+e.return_no,toggle_pridw:J})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:" No Purchase Returns "})})})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:H,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:W,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})}),(0,u.jsx)("section",{className:"top-0 position-absolute bg-seashell border shaodw rounded-2 start-0 end-0 mx-auto d-".concat(E),style:{height:"70vh",width:"60vh"},children:(0,u.jsx)(Y,{toggle_nref:X,GETPurchaseReturns:W})})]})}function U(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1];0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var b=(0,o.useState)(!1),N=(0,r.Z)(b,2),f=N[0],j=N[1];function _(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function g(e,t,a,s){if(e&&t&&null!==a){var n=Number(Number(e)+Number(t)+Number(a))*Number(s);return n=n.toFixed(2)}}var v=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 bg-seashell ",children:[(0,u.jsxs)("div",{className:"container-fluid bg-seashell p-0 m-0 position-relative",children:[(0,u.jsxs)("h5",{className:"text-center text-charcoal mt-3",children:[e.itembillid," Purchase Return Item Details"]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2 ",onClick:e.toggle_pridw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsx)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsx)("button",{className:"button border-charcoal rounded-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:e})}))}),(0,u.jsxs)("div",{className:"d-flex justify-content-end me-5 ",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:f||"",onChange:function(){j(1!=f)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Rate "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Cost "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total "})]})]}),e.purchasereturnarr.purchase_medicines&&0!==e.purchasereturnarr.purchase_medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.purchasereturnarr.purchase_medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e&&null!==e.id?e.id:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.medicine&&null!==e.medicine.name?e.medicine.name:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.batch_no&&null!=e.batch_no?e.batch_no:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.expiry_date&&null!=e.expiry_date?v(e.expiry_date):"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.mrp?e.mrp:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.rate?e.rate:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.qty?e.qty:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.discount?e.discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.trade_discount?e.trade_discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST_rate?Number(e.SGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST?Number(e.SGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.CGST_rate?Number(e.CGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.CGST?Number(e.CGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.IGST_rate?Number(e.IGST_rate):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.IGST?Number(e.IGST)*Number(e.qty):""}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:_(e.CGST_rate,e.SGST_rate,e.IGST_rate)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:g(e.CGST,e.SGST,e.IGST,e.qty)}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.cost?e.cost:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.total_amount?e.total_amount:"N/A"})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,u.jsx)("p",{className:" text-charcoal fw-bold text-center",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Item ID"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Item Name"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Batch No."}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Expiry Date"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"MRP"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Rate"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Disc%"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Trade Disc%"}),(0,u.jsx)("th",{colspan:1==f?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:"Total Tax"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Cost"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Qty"}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:"Total"})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:"CGST%"}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" SGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:[" SGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:" IGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==f?"":"none"),children:[" IGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total "})]})]}),e.purchasereturnarr.purchase_vaccines&&0!==e.purchasereturnarr.purchase_vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.purchasereturnarr.purchase_vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e&&null!==e.id?e.id:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.vaccine&&null!==e.vaccine.name?e.vaccine.name:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.batch_no&&null!=e.batch_no?e.batch_no:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.expiry_date&&null!=e.expiry_date?v(e.expiry_date):"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.mrp?e.mrp:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.rate?e.rate:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.qty?e.qty:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.discount?e.discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle",children:e.trade_discount?e.trade_discount:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST_rate?e.SGST_rate:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.SGST?e.SGST:"N/A"}),(0,u.jsx)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:e.CGST_rate?e.CGST_rate:"N/A"}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.CGST?e.CGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST_rate?e.IGST_rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle d-".concat(1==f?"":"none"),children:[" ",e.IGST?e.IGST:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",_(e.CGST_rate,e.SGST_rate,e.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",g(e.CGST,e.SGST,e.IGST)," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.cost?e.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border p-0 m-0 align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2",children:(0,u.jsx)("p",{className:" text-center fw-bold",children:"No Vaccines Found"})})})]})})]})}function Y(e){var t=(0,o.useContext)(d.Jx),a=(localStorage.getItem("ClinicId"),(0,o.useContext)(d.q2),(0,o.useRef)(null)),s=(0,o.useRef)(null),m=(0,o.useState)(),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)(),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useState)(),g=(0,r.Z)(_,2),v=g[0],y=g[1],S=(0,o.useState)([""]),w=(0,r.Z)(S,2),T=w[0],G=w[1],Z=(0,o.useState)([""]),I=(0,r.Z)(Z,2),D=I[0],A=I[1],P=(0,o.useState)(),R=(0,r.Z)(P,2),q=R[0],E=R[1],F=(0,o.useState)(),M=(0,r.Z)(F,2),L=M[0],H=M[1],B=(0,o.useState)([]),z=(0,r.Z)(B,2),Q=z[0],O=z[1],V=(0,o.useState)(),U=(0,r.Z)(V,2),Y=U[0],W=U[1],J=function(e){if(e)return e=e.split("-").reverse().join("-")};function X(){return(X=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={Itemid:t.id,Type:t.type,Item:t.item_name,batchno:t.batch_no,expirydate:t.expiry_date,cost:t.cost,totalcost:0,currentstock:t.current_stock,qtytoReturn:0},void 0==Q||0==Q.length?O([a]):O((function(e){return[].concat((0,n.Z)(e),[a])}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/purchase/item/search/by/id?item=").concat(q,"&distributor_id=").concat(f)).then((function(e){A([e.data.data]),H(!1),q.length>=1?a.current.style.display="block":a.current.style.display="none"})).catch((function(e){e.response&&(k().Notify.failure(e.response.data),k().Notify.failure(e.response.status),k().Notify.failure(e.response.headers))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.failure(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/kyc/list?limit=10&offset=0&search=").concat(a)).then((function(e){G(e.data.data),y(!1),a.length>1?s.current.style.display="block":s.current.style.display="none"})).catch((function(e){e.response&&(k().Notify.failure(e.response.data),k().Notify.failure(e.response.status),k().Notify.failure(e.response.headers))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.failure(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var s,n,l,r,o,d;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(s=[],n=[],l=[],r=0,o=0;o<Q.length;o++)s.push(Q[o].Itemid?"".concat(Q[o].Type).concat(Q[o].Itemid):""),n.push(Q[o].totalcost?Q[o].totalcost:""),l.push(Q[o].qtytoReturn?Q[o].qtytoReturn:"");return n.forEach((function(e){r+=Number(e)})),d={distributor_id:f,pro_id:s,qty:l,total_amount:n,grand_total:r},W(!0),a.prev=8,a.next=11,i.Z.post("".concat(t,"/purchase/return/save"),d).then((function(t){e.GETPurchaseReturns(),O(),x(),j(),E(),W(!1),e.toggle_nref(),1==t.data.status?k().Notify.success(t.data.message):k().Notify.warning(t.data.message)}));case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(8),k().Notify.warning(a.t0.message),W(!1);case 17:case"end":return a.stop()}}),a,null,[[8,13]])})));return function(){return a.apply(this,arguments)}}();function te(){return(te=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(Q.filter((function(e){return e.Itemid!==t}))),a=a.flat(),O(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.jsxs)("div",{className:"newpurchaseentryform p-0 m-0",children:[(0,u.jsxs)("div",{className:" p-0 m-0 shadow-sm  position-relative  ",children:[(0,u.jsx)("h5",{className:"text-center fw-bold text-charcoal py-2",children:" New Purchase Return Entry "}),(0,u.jsx)("button",{type:"button",className:"btn-close position-absolute top-0 end-0 closebtn me-2 pt-2",onClick:e.toggle_nref,"aria-label":"Close"})]}),(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 w-100 entrydetails bg-seashell",children:[(0,u.jsxs)("div",{className:"row p-0 pt-2 justify-content-center",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Select Distributor"}),(0,u.jsx)("input",{className:"form-control ms-2 rounded-1 bg-seashell",placeholder:"Search Vendors",value:p||"",onChange:function(e){$(e.target.value),x(e.target.value),j(),O([])}}),(0,u.jsx)("div",{ref:s,className:"position-absolute ms-2 rounded-1 bg-pearl col-2",style:{display:"none",zIndex:"1"},children:T?v?(0,u.jsxs)("div",{className:"rounded-1 p-1",children:["Searching Please wait....",(0,u.jsx)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:(0,u.jsx)("span",{className:"sr-only",children:" "})})]}):0==T.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):T.map((function(e,t){return(0,u.jsx)("div",{style:{cursor:"pointer"},className:"p-0 p-1  bg-".concat(t%2==0?"pearl":"lightblue"," fs-6 "),name:e.id,onClick:function(t){x(e.entity_name),j(e.id),s.current.style.display="none"},children:e.entity_name})})):(0,u.jsx)("div",{className:"bg-seashell"})})]}),(0,u.jsx)("div",{className:"col-5",children:(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsx)("h6",{className:"p-0 m-0 ms-3 fw-bold",children:"Product ID"}),(0,u.jsx)("input",{className:"form-control bg-seashell",placeholder:"Product Id",value:q||"",onChange:function(e){f?E(e.target.value):k().Notify.failure("Please Add Vendor First")}}),(0,u.jsx)("div",{ref:a,className:"position-absolute rounded-1 bg-pearl col-12",style:{zIndex:"1"},children:D?L?(0,u.jsxs)("div",{className:"rounded-1 p-1",children:["Searching Please wait....",(0,u.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,u.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==D.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):D.map((function(e,t){return(0,u.jsx)("div",{style:{cursor:"pointer"},className:"p-0 ps-1 shadow bg-".concat(t%2==0?"pearl":"lightyellow"," fs-6 "),name:e.id,onClick:function(t){E(e.item_name),function(e){X.apply(this,arguments)}(e),a.current.style.display="none"},children:e.item_name})})):(0,u.jsx)("div",{className:"bg-seashell"})})]})}),(0,u.jsxs)("div",{className:"col-2 align-self-center ",children:[(0,u.jsx)("p",{}),(0,u.jsx)("button",{className:"p-0 m-0 btn",onClick:K,children:(0,u.jsx)("img",{src:"images/search.png"})})]})]}),(0,u.jsx)("div",{className:" p-0 m-0 mt-3 scroll scroll-y",style:{Height:"65vh"},children:(0,u.jsxs)("table",{className:"table datatable text-center position-relative",children:[(0,u.jsx)("thead",{style:{color:"gray",fontWeight:"600"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-2",children:"Item ID"}),(0,u.jsx)("th",{className:"px-2",children:"Item Name"}),(0,u.jsx)("th",{className:"px-2",children:"batch No."}),(0,u.jsx)("th",{className:"px-2",children:"Expiry Date"}),(0,u.jsx)("th",{className:"px-2",children:"Avl. Stock"}),(0,u.jsx)("th",{className:"px-2",children:"Qty to Return"}),(0,u.jsx)("th",{className:"px-2",children:"Purchase Rate/Unit"}),(0,u.jsx)("th",{className:"px-2",children:"Purchase Rate"}),(0,u.jsx)("th",{className:"px-2",children:"Delete"})]})}),Q&&0==Q.length?(0,u.jsx)("tbody",{style:{maxHeight:"65vh",minHeight:"65vh",color:"var(--charcoal)",fontWeight:"600"},children:Q.map((function(e,t){return(0,u.jsxs)("tr",{className:"",children:[(0,u.jsx)("td",{children:e.Itemid}),(0,u.jsx)("td",{children:e.Item}),(0,u.jsx)("td",{children:e.batchno}),(0,u.jsx)("td",{children:J(e.expirydate)}),(0,u.jsx)("td",{children:e.currentstock}),(0,u.jsx)("td",{className:"p-0 m-0",style:{width:"0px",height:"0px"},children:(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell  mt-2",value:e.qtytoReturn?e.qtytoReturn:"",onChange:function(t){t.target.value<=e.currentstock?e.qtytoReturn=t.target.value:k().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalcost=function(e,t,a){var s=0;return e&&a&&t>=a?(s=0,(s=Number(e)*Number(a)).toFixed(2)):s}(e.cost,e.currentstock,t.target.value),O((function(e){return(0,n.Z)(e)}))}})}),(0,u.jsx)("td",{children:e.cost}),(0,u.jsx)("td",{children:e.totalcost}),(0,u.jsxs)("td",{children:[(0,u.jsx)("button",{onClick:function(){!function(e){te.apply(this,arguments)}(e.Itemid)},className:"btn btn-sm button-burntumber",children:" Delete "})," "]})]},t)}))}):(0,u.jsx)("tbody",{className:"position-relative",style:{height:"65vh",maxHeight:"65vh",color:"var(--charcoal)",fontWeight:"600"},children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute start-0 end-0 top-0",children:"No items Added"})})})]})})]}),(0,u.jsx)("div",{className:"col-12 position-absolute start-0 end-0 bottom-0 rounded-bottom text-center bg-pearl align-items-center border border-1 py-3",children:(0,u.jsxs)("div",{className:"row p-0 m-0",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:" Order Total "}),(0,u.jsxs)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:[" ",function(){var e=0;return Q&&Q.length>0&&Q.map((function(t){return e+=Number(t.totalcost)})),e}()," "]})]}),(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("p",{className:"text-charcoal75 p-0 m-0 fw-bolder card-title text-start ms-3",children:" Total Items "}),(0,u.jsx)("h4",{className:"text-charcoal  p-0 m-0 fw-bolder card-header text-start ps-3",children:Q?Q.length:0})]})]})}),(0,u.jsx)("div",{className:"col-6 mx-auto align-self-center text-end",children:Y?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,C.H)(),k().Confirm.show("Save Purchase Return ","Do you surely want to add total ".concat(Q.length," Purchase ").concat(Q.length<=1?"Return ":"Returns"," of Distributor ").concat(p,"  "),"Yes","No",(function(){ee()}),(function(){return 0}),{})},children:" Save Return "})})]})})]})}function W(){var e,t=(0,o.useState)(0),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("Vaccines"),l=(0,r.Z)(c,2),i=l[0],d=l[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"stocksection pt-1",children:(0,u.jsx)("div",{className:"container-fluid mt-2",children:(0,u.jsx)("div",{className:"row gx-3",children:(0,u.jsx)("div",{className:"row m-0 p-0",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:i||"Stock Type"}),(0,u.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:["Vaccines","Medicines"].map((function(e,t){return(0,u.jsxs)("li",{className:"dropdown-item text-".concat(t===s?"light":"dark"," fw-bold bg-").concat(t===s?"charcoal":"seashell"),onClick:function(a){n(t),d(e)},children:[" ",e," "]})}))})]})})})})}),(0,u.jsx)("section",{className:"tablesrender position-relative",children:(0,u.jsx)("div",{className:"container-fluid p-0 m-0 pt-3",children:(0,u.jsx)("div",{className:"",children:(e=s,0===e?(0,u.jsx)("div",{className:"",children:(0,u.jsx)(J,{})}):1===e?(0,u.jsx)("div",{className:"",children:(0,u.jsx)(X,{})}):(0,u.jsx)("div",{className:"fs-2",children:"Nothing Selected"}))})})})]})}function J(){var e=localStorage.getItem("ClinicId"),t=(0,o.useContext)(d.Jx),a=((0,o.useContext)(d.U8),(0,o.useState)()),s=(0,r.Z)(a,2),m=s[0],h=s[1],p=(0,o.useState)(),x=(0,r.Z)(p,2),b=x[0],N=x[1],f=(0,o.useState)([]),j=(0,r.Z)(f,2),_=j[0],g=j[1],v=(0,o.useState)([]),y=(0,r.Z)(v,2),S=y[0],w=y[1],C=(0,o.useState)(),G=(0,r.Z)(C,2),Z=G[0],I=G[1],D=(0,o.useState)(""),A=(0,r.Z)(D,2),P=A[0],R=A[1],q=(0,o.useState)(),E=(0,r.Z)(q,2),F=E[0],M=E[1],L=(0,o.useState)("none"),H=(0,r.Z)(L,2),B=H[0],z=H[1];var Q=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(s){return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0==s||void 0==s.selected){I(!0);try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=10&offset=0")).then((function(e){g(e.data.data.vaccines),I(!1)})).catch((function(e){k().Notify.failure(e.message),I(!1)}))}catch(n){k().Notify.failure(n.message),I(!1)}}else{I(!0);try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=10&offset=").concat(10*s.selected)).then((function(e){g(e.data.data.vaccines),I(!1)})).catch((function(e){k().Notify.failure(e.message),I(!1)}))}catch(n){k().Notify.failure(n.message),I(!1)}}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),O=function(e){if(e)return e=e.split("-").reverse().join("-")},V=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w([]),t=(0,c.Z)().mark((function e(){var t,s,l,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0!=_[a].stock_info.length){e.next=6;break}s={id:_[a].id,name:_[a].name,manufacturer:_[a].manufacturer,max_stock_count:_[a].max_stock_count,alert_stock_count:_[a].alert_stock_count,min_stock_count:_[a].min_stock_count},void 0==S&&0==S.length?w(s):w((function(e){return[].concat((0,n.Z)(e),[s])})),e.next=13;break;case 6:l=(0,c.Z)().mark((function e(){var s,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push(_[a].stock_info[r].current_stock),s=J(_[a].stock_info[r].expiry_date),l={id:_[a].id,name:_[a].name,manufacturer:_[a].manufacturer,max_stock_count:_[a].max_stock_count,alert_stock_count:_[a].alert_stock_count,min_stock_count:_[a].min_stock_count,CGST:_[a].stock_info[r].CGST,CGST_rate:_[a].stock_info[r].CGST_rate,IGST:_[a].stock_info[r].IGST,IGST_rate:_[a].stock_info[r].IGST_rate,SGST:_[a].stock_info[r].SGST,SGST_rate:_[a].stock_info[r].SGST_rate,batch_no:_[a].stock_info[r].batch_no,channel:_[a].stock_info[r].channel,cost:_[a].stock_info[r].cost,current_stock:_[a].stock_info[r].current_stock,discount:_[a].stock_info[r].discount,expiry_date:_[a].stock_info[r].expiry_date,free_qty:_[a].stock_info[r].free_qty,Batch_stock_id:_[a].stock_info[r].id,mfd_date:_[a].stock_info[r].mfd_date,mrp:_[a].stock_info[r].mrp,purchase_entry_id:_[a].stock_info[r].purchase_entry_id,qty:_[a].stock_info[r].qty,rate:_[a].stock_info[r].rate,trade_discount:_[a].stock_info[r].trade_discount,total_amount:_[a].stock_info[r].total_amount,totalstock:t,Days_to_expire:s},void 0==S&&0==S.length?w(l):w((function(e){return[].concat((0,n.Z)(e),[l])}));case 4:case"end":return e.stop()}}),e)})),r=0;case 8:if(!(r<_[a].stock_info.length)){e.next=13;break}return e.delegateYield(l(),"t0",10);case 10:r++,e.next=8;break;case 13:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<_.length)){e.next=8;break}return e.delegateYield(t(),"t0",5);case 5:a++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){if(void 0!==e){var t=0;return e.map((function(e){return t+=Number(e)})),t}},Y=function(e,t){if(void 0!==e){var a=0;return e.map((function(e){return a+=Number(e)})),a<=t?1:0}},W=function(){"none"==B&&z("block"),"block"===B&&(z("none"),M())},J=function(e){var t=function(e){if(e){var t=[];return e=e.split("-").reverse(),t.push(e[1]),t.push(e[0]),t.push(e[2]),t[0]+"/"+t[1]+"/"+t[2]}}(e),a=new Date,s=new Date(t),n=Math.abs(s-a),c=Math.ceil(Number(n)/864e5),l=(Number(c)/30).toFixed(0),r=Number(c)%30;return"".concat(l," ").concat(l>1?"Months":"Month"," ").concat(r," ").concat(r>1?"Days":"Day")};return(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=10&offset=0")).then((function(e){h(e.data.data.total_count_vaccines),N(Math.round(e.data.data.total_count_vaccines/10)+1),I(!1)})).catch((function(e){k().Notify.warning(e),I(!1)}))}catch(a){k().Notify.warning(a.message),I(!1)}}(),Q(),V()}),[m,P]),(0,o.useEffect)((function(){V()}),[_]),(0,u.jsxs)("div",{className:"p-0 m-0 vaccinestockinfo",children:[(0,u.jsxs)("div",{className:"position-absolute searchbutton",children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline vaccinesearch bg-pearl",placeholder:"Vaccine Name",onChange:function(e){R(e.target.value)}}),(0,u.jsxs)("button",{className:"btn searchbtn p-0 m-0 bg-transparent border-0 position-absolute",children:[" ",(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0",style:{width:"1.5rem",marginTop:"0.05rem"}})," "]})]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",m," ",m>0?"Vaccine Stocks Info":"Vaccine Stock Info"," "," "]}),(0,u.jsx)("div",{className:"heading text-start text-charcoal p-lg-2 p-md-2 p-2 ms-lg-5 ms-md-3 ms-1 fw-bold"}),(0,u.jsx)("div",{className:"scroll scroll-y",children:(0,u.jsxs)("table",{className:"table datatable text-start",children:[(0,u.jsx)("thead",{className:"position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{className:"text-start",children:[(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"ID"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Vaccine Name"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Batch No."}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Expiry Date"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"MRP"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Cost/Unit"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"B.Stock"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"T.Stock"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:" Expired in "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:" Stock Status "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:"more info"})]})}),Z?(0,u.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,u.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):void 0==S||0==S.length?(0,u.jsx)("tbody",{className:"text-center",children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute text-charcoal fw-bolder start-0 end-0 text-center",children:" No Vaccines Found "})})}):(0,u.jsx)("tbody",{className:"",children:S.map((function(e,t){return(0,u.jsxs)("tr",{className:"text-start align-middle",children:[(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" v",e.Batch_stock_id," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.name&&null!==e.name?e.name:""," "]}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.batch_no}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",O(e.expiry_date)," "]}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.mrp}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.cost}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.current_stock," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",U(e.totalstock)," "]}),(0,u.jsxs)("td",{className:"text-".concat(e.Days_to_expire<=2?"burntumber":"charcoal"," fw-bold text-center"),children:[" ",e.Days_to_expire," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold text-center",children:[" ",1==Y(e.totalstock,e.alert_stock_count)?(0,u.jsx)("img",{src:"images/exclamation.png"}):(0,u.jsx)(u.Fragment,{})," "]}),(0,u.jsxs)("td",{className:"p-0 m-0 text-charcoal fw-bold align-items-center text-center ",children:[" ",(0,u.jsx)("div",{className:"vr rounded-1 align-self-center",style:{padding:"0.8px"}})," "]}),(0,u.jsx)("td",{className:" bg-".concat(F==t?"lightyellow":""," p-0 m-0 text-charcoal fw-bold text-center"),children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){M(t),W()},children:[" ",(0,u.jsx)("img",{src:"images/info.png"})," "]})}),F==t?(0,u.jsx)("td",{className:"stockdetailsfrom bg-white border border-1 col-lg-11 rounded-4 shadow p-0 col-md-11 col-sm-11 col-10 col-xl-6 d-".concat(F==t?B:"none"," position-absolute start-0 end-0 top-0"),children:(0,u.jsx)(K,{toggle_detailsform:W,data:S[t]})}):(0,u.jsx)(u.Fragment,{})]})}))})]})}),(0,u.jsx)("div",{className:"container-fluid d-flex justify-content-center mt-2",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:b,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:Q,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})}function X(){var e=localStorage.getItem("ClinicId"),t=(0,o.useContext)(d.Jx),a=(0,o.useState)(),s=(0,r.Z)(a,2),m=s[0],h=s[1],p=(0,o.useState)(),x=(0,r.Z)(p,2),b=x[0],N=x[1],f=(0,o.useState)([]),j=(0,r.Z)(f,2),_=j[0],g=j[1],v=(0,o.useState)([]),y=(0,r.Z)(v,2),S=y[0],w=y[1],C=(0,o.useState)(),G=(0,r.Z)(C,2),Z=G[0],I=G[1],D=(0,o.useState)(""),A=(0,r.Z)(D,2),P=A[0],R=A[1],q=(0,o.useState)(),E=(0,r.Z)(q,2),F=E[0],M=E[1],L=(0,o.useState)("none"),H=(0,r.Z)(L,2),B=H[0],z=H[1];var Q=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(s){return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0==s||void 0==s.selected){I(!0);try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=25&offset=0")).then((function(e){g(e.data.data.medicines),I(!1)})).catch((function(e){k().Notify.failure(e.message),I(!1)}))}catch(n){k().Notify.failure(n.message),I(!1)}}else{I(!0);try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=10&offset=").concat(25*s.selected)).then((function(e){g(e.data.data.medicines),I(!1)})).catch((function(e){k().Notify.failure(e.message),I(!1)}))}catch(n){k().Notify.failure(n.message),I(!1)}}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),O=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w([]),t=(0,c.Z)().mark((function e(){var t,s,l,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0!=_[a].stock_info.length){e.next=6;break}s={id:_[a].id?_[a].id:"",name:_[a].name?_[a].name:"",manufacturer:_[a].manufacturer?_[a].manufacturer:"",max_stock_count:_[a].max_stock_count?_[a].max_stock_count:"",alert_stock_count:_[a].alert_stock_count?_[a].alert_stock_count:"",min_stock_count:_[a].min_stock_count?_[a].min_stock_count:""},void 0==S&&0==S.length?w(s):w((function(e){return[].concat((0,n.Z)(e),[s])})),e.next=13;break;case 6:l=(0,c.Z)().mark((function e(){var s,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"",_[a].stock_info[r].current_stock?t.push(_[a].stock_info[r].current_stock):t=[],s=U(_[a].stock_info[r].expiry_date),l={id:_[a].id?_[a].id:"",name:_[a].name?_[a].name:"",manufacturer:_[a].manufacturer?_[a].manufacturer:"",max_stock_count:_[a].max_stock_count?_[a].max_stock_count:"",alert_stock_count:_[a].alert_stock_count?_[a].alert_stock_count:"",min_stock_count:_[a].min_stock_count?_[a].min_stock_count:"",CGST:_[a].stock_info[r].CGST?_[a].stock_info[r].CGST:"",CGST_rate:_[a].stock_info[r].CGST_rate?_[a].stock_info[r].CGST_rate:"",IGST:_[a].stock_info[r].IGST?_[a].stock_info[r].IGST:"",IGST_rate:_[a].stock_info[r].IGST_rate?_[a].stock_info[r].IGST_rate:"",SGST:_[a].stock_info[r].SGST?_[a].stock_info[r].SGST:"",SGST_rate:_[a].stock_info[r].SGST_rate?_[a].stock_info[r].SGST_rate:"",batch_no:_[a].stock_info[r].batch_no?_[a].stock_info[r].batch_no:"",channel:_[a].stock_info[r].channel?_[a].stock_info[r].channel:"",cost:_[a].stock_info[r].cost?_[a].stock_info[r].cost:"",current_stock:_[a].stock_info[r].current_stock?_[a].stock_info[r].current_stock:"",discount:_[a].stock_info[r].discount?_[a].stock_info[r].discount:"",expiry_date:_[a].stock_info[r].expiry_date?_[a].stock_info[r].expiry_date:"",free_qty:_[a].stock_info[r].free_qty?_[a].stock_info[r].free_qty:"",Batch_stock_id:_[a].stock_info[r].id?_[a].stock_info[r].id:"",mfd_date:_[a].stock_info[r].mfd_date?_[a].stock_info[r].mfd_date:"",mrp:_[a].stock_info[r].mrp?_[a].stock_info[r].mrp:"",purchase_entry_id:_[a].stock_info[r].purchase_entry_id?_[a].stock_info[r].purchase_entry_id:"",qty:_[a].stock_info[r].qty?_[a].stock_info[r].qty:"",rate:_[a].stock_info[r].rate?_[a].stock_info[r].rate:"",trade_discount:_[a].stock_info[r].trade_discount?_[a].stock_info[r].trade_discount:"",total_amount:_[a].stock_info[r].total_amount?_[a].stock_info[r].total_amount:"",totalstock:t||"",Days_to_expire:s||""},void 0==S&&0==S.length?w(l):w((function(e){return[].concat((0,n.Z)(e),[l])}));case 5:case"end":return e.stop()}}),e)})),r=0;case 8:if(!(r<_[a].stock_info.length)){e.next=13;break}return e.delegateYield(l(),"t0",10);case 10:r++,e.next=8;break;case 13:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<_.length)){e.next=8;break}return e.delegateYield(t(),"t0",5);case 5:a++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){if(e)return e=e.split("-").reverse().join("-")},U=function(e){var t=function(e){if(e){var t=[];return e=e.split("-").reverse(),t.push(e[1]),t.push(e[0]),t.push(e[2]),t[0]+"/"+t[1]+"/"+t[2]}}(e),a=new Date,s=new Date(t),n=Math.abs(s-a),c=Math.ceil(Number(n)/864e5),l=(Number(c)/30).toFixed(0),r=Number(c)%30;return"".concat(l," ").concat(l>1?"Months":"Month"," ").concat(r," ").concat(r>1?"Days":"Day")},Y=function(e,t){if(e&&t){var a=0;return e.map((function(e){return a+=Number(e)})),a<=t?1:0}},W=function(e){var t=0;return e.map((function(e){return t+=Number(e)})),t};(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(t,"/stock/list?search=").concat(P,"&location_id=").concat(e,"&limit=25&offset=0")).then((function(e){h(e.data.data.total_count_medicines),N(Math.round(e.data.data.total_count_medicines/25)+1),I(!1)})).catch((function(e){k().Notify.warning(e),I(!1)}))}catch(a){k().Notify.warning(a.message),I(!1)}}(),Q(),O()}),[m,P]),(0,o.useEffect)((function(){O()}),[_]);var J=function(){"none"==B&&z("block"),"block"===B&&(z("none"),M())};return(0,u.jsxs)("div",{className:"p-0 m-0 vaccinestockinfo",children:[(0,u.jsxs)("div",{className:"position-absolute searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline vaccinesearch bg-pearl",placeholder:"Medicine Name",onChange:function(e){R(e.target.value)}}),(0,u.jsx)("button",{className:"btn searchbtn p-0 m-0 bg-transparent border-0 position-absolute",children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0",style:{width:"1.5rem",marginTop:"0.05rem"}})})]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",m," ",m>0?"Medicine Stocks Info":"Medicine Stock Info"," "," "]}),(0,u.jsx)("div",{className:"scroll scroll-y p-0 m-0",children:(0,u.jsxs)("table",{className:"table datatable text-start",children:[(0,u.jsx)("thead",{className:"position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"ID"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Medicine Name"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Batch No."}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Expiry Date"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"MRP"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"Cost/Unit"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"B.Stock"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold",children:"T.Stock"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:" Expired in "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:" Stock Status "}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center"}),(0,u.jsx)("th",{className:"text-charcoal75 fw-bold text-center",children:"more info"})]})}),Z?(0,u.jsx)("tbody",{className:"text-center",style:{minHeight:"55vh",height:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center spinner",children:[(0,u.jsx)("strong",{className:"",style:{fontSize:"1rem"},children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{className:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):void 0==S||0==S.length?(0,u.jsx)("tbody",{className:"",children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute w-100 text-charcoal fw-bolder start-0 end-0 text-center",children:"No Medicines Found"})})}):(0,u.jsx)("tbody",{className:"",children:S.map((function(e,t){return(0,u.jsxs)("tr",{className:"text-start align-middle",children:[(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" m",e.Batch_stock_id," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.name&&null!==e.name?e.name:""," "]}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.batch_no}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",V(e.expiry_date)," "]}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.mrp}),(0,u.jsx)("td",{className:" text-charcoal fw-bold",children:e.cost}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.current_stock," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.totalstock?W(e.totalstock):""," "]}),(0,u.jsxs)("td",{className:"text-".concat(e.Days_to_expire?e.Days_to_expire:"burntumber"," fw-bold text-center"),children:[" ",e.Days_to_expire?e.Days_to_expire:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold text-center",children:[" ",1==Y(e.totalstock,e.alert_stock_count)?(0,u.jsx)("img",{src:"images/exclamation.png"}):(0,u.jsx)(u.Fragment,{})," "]}),(0,u.jsxs)("td",{className:"p-0 m-0 text-charcoal fw-bold align-items-center text-center ",children:[" ",(0,u.jsx)("div",{className:"vr rounded-1 align-self-center",style:{padding:"0.8px"}})," "]}),(0,u.jsxs)("td",{className:" bg-".concat(F==t?"lightyellow":""," p-0 m-0 text-charcoal fw-bold text-center"),children:[" ",(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){M(t),J()},children:[" ",(0,u.jsx)("img",{src:"images/info.png"})," "]})," "]}),F==t?(0,u.jsx)("td",{className:"stockdetailsfrom bg-white border border-1 col-lg-11 rounded-4 shadow p-0 col-md-11 col-sm-11 col-10 col-xl-6 d-".concat(F==t?B:"none"," position-absolute start-0 end-0 top-0"),children:(0,u.jsx)($,{toggle_detailsform:J,data:S[t]})}):(0,u.jsx)(u.Fragment,{})]})}))})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:b,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:Q,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}function K(e){return(0,u.jsxs)("div",{className:" p-0 m-0 position-relative bg-seashell rounded-4",children:[(0,u.jsx)("h6",{className:"text-center text-charcoal fw-bold pt-2",children:e.data.name}),(0,u.jsx)("hr",{className:"p-0 m-0"}),(0,u.jsx)("button",{className:"btn-close position-absolute end-0 top-0 p-1 m-1",onClick:e.toggle_detailsform}),(0,u.jsx)("div",{className:"p-0 m-0 scroll py-4",children:(0,u.jsxs)("table",{className:"table text-center scroll",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Channel"}),(0,u.jsx)("th",{children:"Expiry"}),(0,u.jsx)("th",{children:"Qty"}),(0,u.jsx)("th",{children:"MRP"}),(0,u.jsx)("th",{children:"Disc%"}),(0,u.jsx)("th",{children:"Rate"}),(0,u.jsx)("th",{className:"bg-seashell",children:"CGST"}),(0,u.jsx)("th",{className:"bg-seashell",children:"CGST%"}),(0,u.jsx)("th",{className:"bg-seashell",children:"SGST"}),(0,u.jsx)("th",{className:"bg-seashell",children:"SGST%"}),(0,u.jsx)("th",{className:"bg-seashell",children:"IGST"}),(0,u.jsx)("th",{className:"bg-seashell",children:"IGST%"}),(0,u.jsx)("th",{children:"Cost"}),(0,u.jsx)("th",{children:"Total Amt."})]})}),(0,u.jsx)("tbody",{children:(0,u.jsxs)("tr",{className:"p-0 m-0 px-1",children:[(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:1==e.data.channel?"Pharmacy":"Clinic"}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.expiry_date?function(e){if(e)return e=e.split("-").reverse().join("-")}(e.data.expiry_date):""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.qty?e.data.qty:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.mrp?e.data.mrp:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.discount&&e.data.trade_discount?Number(e.data.discount)+Number(e.data.trade_discount):e.data.discount?e.data.discount:e.data.trade_discount}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.rate?e.data.rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.CGST?e.data.CGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.CGST?e.data.CGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.SGST?e.data.SGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.SGST_rate?e.data.SGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.IGST?e.data.IGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1 bg-seashell",children:e.data.IGST_rate?e.data.IGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.cost?e.data.cost:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.total_amount?e.data.total_amount:""})]})})]})})]})}function $(e){var t=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)("div",{className:" p-0 m-0 position-relative bg-seashell rounded-4",children:[(0,u.jsx)("h6",{className:"text-center text-charcoal fw-bold pt-2",children:e.data.name}),(0,u.jsx)("hr",{className:"p-0 m-0"}),(0,u.jsx)("button",{className:"btn-close position-absolute end-0 top-0 p-1 m-1 me-2",onClick:e.toggle_detailsform}),(0,u.jsx)("div",{className:"p-0 m-0 scroll",children:(0,u.jsxs)("table",{className:"table text-center scroll",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Channel"}),(0,u.jsx)("th",{children:"Manuf."}),(0,u.jsx)("th",{children:"Expiry"}),(0,u.jsx)("th",{children:"MRP"}),(0,u.jsx)("th",{children:"Disc%"}),(0,u.jsx)("th",{children:"Rate"}),(0,u.jsx)("th",{children:"CGST%"}),(0,u.jsx)("th",{children:"CGST"}),(0,u.jsx)("th",{children:"SGST%"}),(0,u.jsx)("th",{children:"SGST"}),(0,u.jsx)("th",{children:"IGST%"}),(0,u.jsx)("th",{children:"IGST"}),(0,u.jsx)("th",{children:"Cost"}),(0,u.jsx)("th",{children:"Qty"}),(0,u.jsx)("th",{children:"Total Amt."})]})}),(0,u.jsx)("tbody",{children:(0,u.jsxs)("tr",{className:"p-0 m-0 px-1",children:[(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:1==e.data.channel?"Pharmacy":"Clinic"}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.mfd_date?t(e.data.mfd_date):""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.expiry_date?t(e.data.expiry_date):""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.mrp?e.data.mrp:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.discount&&e.data.trade_discount?Number(e.data.discount)+Number(e.data.trade_discount):e.data.discount?e.data.discount:e.data.trade_discount}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.rate?e.data.rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.CGST?e.data.CGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.CGST?e.data.CGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.SGST?e.data.SGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.SGST_rate?e.data.SGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.IGST?e.data.IGST:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.IGST_rate?e.data.IGST_rate:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.cost?e.data.cost:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.qty?e.data.qty:""}),(0,u.jsx)("td",{className:"p-0 m-0 px-1",children:e.data.total_amount?e.data.total_amount:""})]})})]})})]})}function ee(){var e,t=(0,o.useContext)(d.Pl),a=[{option:"Vaccines",display:t.vaccine_view},{option:"Medicines",display:t.medicine_view}],s=(0,o.useState)("Vaccines"),n=(0,r.Z)(s,2),c=n[0],l=n[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"stocksection pt-1",children:(0,u.jsx)("div",{className:"container-fluid mt-2",children:(0,u.jsx)("div",{className:"row gx-3",children:(0,u.jsx)("div",{className:"row m-0 p-0",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:c||" List "}),(0,u.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:a.map((function(e,t){return(0,u.jsxs)("li",{className:"dropdown-item text-".concat(e.option===c?"light":"dark"," fw-bold bg-").concat(e.option===c?"charcoal":"seashell"),onClick:function(t){return l(e.option)},children:[" ",e.option," "]})}))})]})})})})}),(0,u.jsx)("section",{className:"tablesrender position-relative",children:(0,u.jsx)("div",{className:"container-fluid mt-lg-3 mt-md-3 mt-sm-2 mt-1 p-0",children:(0,u.jsx)("div",{className:"",children:(e=c,"Vaccines"===e?(0,u.jsx)("div",{className:"",children:(0,u.jsx)(te,{})}):"Medicines"===e?(0,u.jsx)("div",{className:"",children:(0,u.jsx)(ae,{})}):(0,u.jsx)("div",{className:"fs-2",children:"Nothing Selected"}))})})})]})}function te(){var e=(0,o.useContext)(d.Jx),t=(0,o.useContext)(d.Pl),a=(0,o.useState)(),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)([]),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(!1),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(),C=(0,r.Z)(w,2),G=C[0],Z=C[1],I=(0,o.useState)("none"),P=(0,r.Z)(I,2),R=P[0],q=P[1],E=(0,o.useState)("none"),F=(0,r.Z)(E,2),M=F[0],L=F[1];var H=function(){var t=(0,l.Z)((0,c.Z)().mark((function t(a){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=a&&void 0!=a.selected){t.next=13;break}return S(!0),t.prev=2,t.next=5,i.Z.get("".concat(e,"/vaccine/brand/list?limit=20&offset=0")).then((function(e){_(e.data.data.vaccine_brand_list),S(!1)}));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),k().Notify.failure(t.t0.message),S(!1);case 11:t.next=23;break;case 13:return S(!0),t.prev=14,t.next=17,i.Z.get("".concat(e,"/vaccine/brand/list?limit=20&offset=").concat(20*a.selected)).then((function(e){_(e.data.data.vaccine_brand_list),S(!1)}));case 17:t.next=23;break;case 19:t.prev=19,t.t1=t.catch(14),k().Notify.failure(t.t1.message),S(!1);case 23:case"end":return t.stop()}}),t,null,[[2,7],[14,19]])})));return function(e){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(e,"/vaccine/brand/list?limit=20&offset=0")).then((function(e){m(e.data.data.total_count),b(Math.round(e.data.data.total_count/20)+1),S(!1)})).catch((function(e){k().Notify.warning(e.message),S(!1)}))}catch(t){k().Notify.warning(t.message),S(!1)}}(),H()}),[n]);var B=function(){"block"==R&&q("none"),"none"==R&&q("block")},z=function(){"none"==M&&L("block"),"block"==M&&(L("none"),Z())};return(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-between align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",n," ",n>0?"Vaccines":"Vaccine"," "," "]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("div",{className:" p-0 m-0 align-self-center ms-1 d-".concat(1==t.vaccine_add?"":"none"," "),children:(0,u.jsxs)("button",{className:"button button-charcoal m-0 p-0 py-1 px-4 me-3",onClick:B,children:[(0,u.jsx)("img",{src:"/images/addiconwhite.png",className:"p-0 m-0 img-fluid",alt:"displaying_image"}),"Vaccine"]})})})]}),(0,u.jsx)("div",{className:"scroll scroll-y p-0 m-0 overflow-scroll",style:{height:"68vh",minHeight:"68vh",maxHeight:"68vh"},children:(0,u.jsxs)("table",{className:"table datatable text-start",children:[(0,u.jsx)("thead",{className:"position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold d-".concat(1==t.vaccine_edit?"":"none"),children:" Update "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Name "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Salt Name "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" HSN Code "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Manufacturer "})]})}),y?(0,u.jsxs)("tr",{className:"p-0 m-0",children:[(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})})]}):void 0==j||0==j.length?(0,u.jsx)("tbody",{className:"",children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute text-charcoal text-center fw-bolder start-0 end-0",children:"No Vaccines Found"})})}):(0,u.jsx)("tbody",{className:"",children:j.map((function(e,a){return(0,u.jsxs)("tr",{className:" bg-".concat(a%2==0?"seashell":"pearl"," align-middle text-start"),children:[(0,u.jsx)("td",{className:"py-0 bg-".concat(G===a?"lightyellow":""," d-").concat(1==t.vaccine_edit?"":"none"),children:(0,u.jsx)("button",{className:"btn m-0 p-0",onClick:function(e){z(),Z(a)},children:(0,u.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image",className:"img-fluid"},a)},a)}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.name&&null!==e.name?e.name:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.salt_name&&null!==e.salt_name?e.salt_name:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.hsn_code&&null!==e.hsn_code?e.hsn_code:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.manufacturer&&null!==e.manufacturer?e.manufacturer:""," "]}),G==a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("td",{className:" text-start  d-".concat(G==a?M:"none"," border position-absolute rounded-2 start-0 end-0 top-0 mx-auto bg-seashell"),style:{padding:0,zIndex:"2",width:"60vh",height:"70vh"},children:(0,u.jsx)(D,{vaccinelist:H,ToggleUpdateVaccine:z,data:j[a]})})]}):(0,u.jsx)(u.Fragment,{})]})}))})]})}),(0,u.jsx)("section",{className:"position-absolute border-1 shadow start-0 bg-seashell rounded-1 mx-auto end-0 d-".concat(R),style:{top:"-4rem",zIndex:"2",width:"60vh",height:"70vh"},children:(0,u.jsx)(A,{ToggleNewVaccine:B,vaccinelist:H})}),(0,u.jsx)("div",{className:"container-fluid d-flex justify-content-center mt-2",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:x,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:H,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}function ae(){var e=(0,o.useContext)(d.Jx),t=(0,o.useContext)(d.Pl),a=(0,o.useState)(),s=(0,r.Z)(a,2),n=s[0],m=s[1],h=(0,o.useState)(),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=(0,o.useState)([]),f=(0,r.Z)(N,2),j=f[0],_=f[1],g=(0,o.useState)(!1),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)(),C=(0,r.Z)(w,2),G=C[0],D=C[1],A=(0,o.useState)("none"),P=(0,r.Z)(A,2),R=P[0],q=P[1],E=(0,o.useState)("none"),F=(0,r.Z)(E,2),M=F[0],L=F[1];var H=function(){var t=(0,l.Z)((0,c.Z)().mark((function t(a){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=a&&void 0!=a.selected){t.next=13;break}return S(!0),t.prev=2,t.next=5,i.Z.get("".concat(e,"/medicine/list?limit=20&offset=0")).then((function(e){_(e.data.data.medicine),S(!1)}));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),k().Notify.failure(t.t0.message),S(!1);case 11:t.next=23;break;case 13:return S(!0),t.prev=14,t.next=17,i.Z.get("".concat(e,"/medicine/list?limit=20&offset=").concat(20*a.selected)).then((function(e){_(e.data.data.medicine),S(!1)}));case 17:t.next=23;break;case 19:t.prev=19,t.t1=t.catch(14),k().Notify.failure(t.t1.message),S(!1);case 23:case"end":return t.stop()}}),t,null,[[2,7],[14,19]])})));return function(e){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(e,"/medicine/list?limit=20&offset=0")).then((function(e){m(e.data.data.total_count),b(Math.round(e.data.data.total_count/20)+1),S(!1)})).catch((function(e){k().Notify.warning(e),S(!1)}))}catch(t){k().Notify.warning(t.message),S(!1)}}(),H()}),[n]);var B=function(){"block"==R&&q("none"),"none"==R&&q("block")},z=function(){"none"==M&&L("block"),"block"==M&&(L("none"),D())};return(0,u.jsxs)("div",{className:"position-relative",children:[(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",n," ",n>0?"Medicines":"Medicine"," "," "]}),(0,u.jsx)("div",{className:" p-0 m-0 align-self-center ms-1 position-absolute top-0 end-0 d-".concat(1==t.medicine_add?"":"none"," "),children:(0,u.jsxs)("button",{className:"button button-charcoal m-0 p-0 py-1 px-4 me-3",onClick:B,children:[(0,u.jsx)("img",{src:"/images/addiconwhite.png",className:"p-0 m-0 img-fluid",alt:"displaying_image"}),"Medicine"]})}),(0,u.jsx)("div",{className:"scroll scroll-y p-0 m-0 overflow-scroll",style:{height:"68vh",minHeight:"68vh",maxHeight:"68vh"},children:(0,u.jsxs)("table",{className:"table datatable text-start",children:[(0,u.jsx)("thead",{className:"position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold d-".concat(1==t.medicine_edit?"":"none"),children:" Update "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Display Name "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Name "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Salt Name "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" HSN Code "}),(0,u.jsx)("th",{rowSpan:"2",className:"text-charcoal75 fw-bold",children:" Manufacturer "})]})}),y?(0,u.jsxs)("tr",{className:"p-0 m-0",children:[(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})}),(0,u.jsx)("td",{className:"placeholder-glow",children:(0,u.jsx)("div",{className:"placeholder col-12 p-0 m-0 w-100 px-1",children:" Loading.. "})})]}):void 0==j||0==j.length?(0,u.jsx)("tbody",{className:"",children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"position-absolute text-charcoal fw-bolder start-0 end-0",children:"No Medicines Found"})})}):(0,u.jsx)("tbody",{className:"",children:j.map((function(e,a){return(0,u.jsxs)("tr",{className:" bg-".concat(a%2==0?"seashell":"pearl"," align-middle text-start"),children:[(0,u.jsx)("td",{className:"py-0 bg-".concat(G===a?"lightyellow":""," d-").concat(1==t.medicine_edit?"":"none"),children:(0,u.jsx)("button",{className:"btn m-0 p-0",onClick:function(e){z(),D(a)},children:(0,u.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image",className:"img-fluid"},a)},a)}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.display_name&&null!==e.display_name?e.display_name:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.name&&null!==e.name?e.name:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.salt_name&&null!==e.salt_name?e.salt_name:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.hsn_code&&null!==e.hsn_code?e.hsn_code:""," "]}),(0,u.jsxs)("td",{className:" text-charcoal fw-bold",children:[" ",e.manufacturer&&null!==e.manufacturer?e.manufacturer:""," "]}),G==a?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("td",{className:" text-start d-".concat(G==a?M:"none"," mx-auto rounded-2 p-0 m-0 border position-absolute shadow start-0 top-0 end-0 top-0 bg-seashell"),style:{zIndex:"2",height:"70vh",width:"60vh"},children:(0,u.jsx)(I,{medcinelist:H,ToggleUpdateMedicine:z,data:j[a]})})]}):(0,u.jsx)(u.Fragment,{})]})}))})]})}),(0,u.jsx)("section",{className:"position-absolute border-1 shadow start-0 bg-seashell rounded-2 mx-auto top-0 end-0 d-".concat(R),style:{zIndex:"2",height:"70vh",width:"60vh"},children:(0,u.jsx)(Z,{ToggleNewMedicine:B,medcinelist:H})}),(0,u.jsx)("div",{className:"container-fluid d-flex justify-content-center mt-2",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:".",pageCount:x,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:H,containerClassName:"pagination scroll align-self-center align-items-center",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"d-flex mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active "})})]})}function se(){var e,t=(0,o.useContext)(d.U8),a=(localStorage.getItem("ClinicId"),(0,o.useState)()),s=(0,r.Z)(a,2),n=s[0],c=s[1],l=(0,o.useState)(),i=(0,r.Z)(l,2),m=i[0],h=i[1],p=(0,o.useContext)(d.Pl),x=(0,o.useState)("Transfers In"),b=(0,r.Z)(x,2),N=b[0],f=b[1],j=(0,o.useState)(""),_=(0,r.Z)(j,2),g=_[0],v=_[1],y=(0,o.useState)(""),S=(0,r.Z)(y,2),k=S[0],w=S[1],T=[{option:"Transfers In",display:p.purchase_entry_view},{option:"Transfers Out",display:p.purchase_return_view}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"purchasesection",children:(0,u.jsx)("div",{className:"container-fluid p-0 m-0 mt-3",children:(0,u.jsxs)("div",{className:"row p-0 m-0 mt-1 gx-3 position-relative",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:N||"Transfers Type "}),(0,u.jsx)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:T.map((function(e,t){return(0,u.jsxs)("li",{className:"dropdown-item text-".concat(e.option===N?"light":"dark"," fw-bold bg-").concat(e.option===N?"charcoal":"seashell"),onClick:function(t){return f(e.option)},children:[" ",e.option," "]})}))})]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{className:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:k||"All"}),(0,u.jsxs)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:[(0,u.jsx)("li",{className:"dropdown-item fw-bolder  text-".concat(""==k?"white":"charcoal"," bg-").concat(""==k?"charcoal":"seashell"),onClick:function(e){v(""),w("")},children:"All"}),(0,u.jsx)("li",{className:"dropdown-item fw-bolder text-".concat("Pending"==k?"white":"charcoal"," bg-").concat("Pending"==k?"charcoal":"seashell"),onClick:function(e){v(0),w("Pending")},children:"Pending"}),(0,u.jsx)("li",{className:"dropdown-item fw-bolder text-".concat("Accepted"==k?"white":"charcoal"," bg-").concat("Accepted"==k?"charcoal":"seashell"),onClick:function(e){v(1),w("Accepted")},children:"Accepted"}),(0,u.jsx)("li",{className:"dropdown-item fw-bolder text-".concat("Rejected"==k?"white":"charcoal"," bg-").concat("Rejected"==k?"charcoal":"seashell"),onClick:function(e){v(2),w("Rejected")},children:"Rejected"})]})]})}),(0,u.jsx)("div",{className:"col-auto bg-seashell rounded-2",children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold ",value:n||(t||""),onChange:function(e){c(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",className:" border-0 button button-seashell text-charcoal text-center fw-bold",value:m||(n||(t||"")),onChange:function(e){h(e.target.value)}})})]})})]})})}),(0,u.jsx)("section",{className:"tablesrender position-relative",children:(0,u.jsx)("div",{className:" p-0 mt-lg-4 mt-md-3 mt-2 me-0 ms-0",children:(e=N,"Transfers In"==e?(0,u.jsx)(ne,{fromdate:n,todate:m,status:g}):"Transfers Out"==e?(0,u.jsx)(ce,{fromdate:n,todate:m,status:g}):void 0)})})]})}function ne(e){var t=(0,o.useContext)(d.U8),a=localStorage.getItem("id"),s=localStorage.getItem("ClinicId"),n=((0,o.useContext)(d.Pl),(0,o.useContext)(d.Jx)),m=(0,o.useState)("none"),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=function(){"none"===p&&x("block"),"block"===p&&(x("none"),F())},N=e.fromdate,f=e.todate,_=e.status,g=(0,o.useState)(!1),v=(0,r.Z)(g,2),y=v[0],S=v[1],w=(0,o.useState)([]),C=(0,r.Z)(w,2),G=C[0],Z=C[1],I=(0,o.useState)([]),D=(0,r.Z)(I,2),A=D[0],P=D[1],R=(0,o.useState)(),q=(0,r.Z)(R,2),E=q[0],F=q[1],M=(0,o.useState)("none"),L=(0,r.Z)(M,2),H=(L[0],L[1],(0,o.useState)()),B=(0,r.Z)(H,2),z=B[0],Q=B[1],O=(0,o.useState)(),V=(0,r.Z)(O,2),U=V[0],Y=V[1],W=(0,o.useState)(!1),J=(0,r.Z)(W,2),X=J[0],K=J[1],$=(0,o.useState)(),ee=(0,r.Z)($,2),te=ee[0];ee[1];function ae(e){if(void 0==e||void 0==e.selected){S(!0);try{i.Z.get("".concat(n,"/transfer/stocks/list?location_id=").concat(s,"&limit=25&offset=0&status=").concat(_,"&from_date=").concat(N,"&to_date=").concat(f)).then((function(e){Y(e.data.data.total_count),Z(e.data.data.transfer_stocks_recevied),S(!1)})).catch((function(e){k().Notify.warning(e.message),S(!1)}))}catch(t){k().Notify.warning(t.data.message),S(!1)}}else{S(!0);try{i.Z.get("".concat(n,"/transfer/stocks/list?location_id=").concat(s,"&limit=25&offset=").concat(25*e.selected,"&status=").concat(_,"&from_date=").concat(N,"&to_date=").concat(f)).then((function(e){Y(e.data.data.total_count),Z(e.data.data.transfer_stocks_recevied),S(!1)})).catch((function(e){k().Notify.warning(e.message),S(!1)}))}catch(t){k().Notify.warning(t.data.message),S(!1)}}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(n,"/transfer/stocks/list?location_id=").concat(s,"&limit=25&offset=0&status=").concat(_,"&from_date=").concat(N,"&to_date=").concat(f)).then((function(e){Y(e.data.data.total_count),Q(Math.round(e.data.data.total_count/25)+1),S(!1)})).catch((function(e){k().Notify.warning(e),S(!1)}))}catch(e){k().Notify.warning(e.message),S(!1)}}()}),[N,f,_]),(0,o.useEffect)((function(){ae(),function(){S(!0);try{i.Z.get("".concat(n,"/transfer/stocks/list?location_id=").concat(s,"&limit=").concat(U||25,"&offset=0&status=").concat(_,"&from_date=").concat(N,"&to_date=").concat(f)).then((function(e){P(e.data.data.transfer_stocks_recevied),S(!1)})).catch((function(e){k().Notify.warning(e.message),S(!1)}))}catch(e){k().Notify.warning(e.data.message),S(!1)}}()}),[N,f,_]);var se=[[0,"Pending","lightyellow"],[1,"Accepted","lightgreen"],[2,"Rejected","lightred"]];function ne(e){for(var t,a=0;a<se.length;a++)if(e==se[a][0]){t=se[a][1];break}return t}function ce(e){for(var t,a=0;a<se.length;a++)if(e==se[a][0]){t=se[a][2];break}return t}var re=function(e){if(e)return e=e.split("-").reverse().join("-")},ie=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,s){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.prev=1,e.next=4,i.Z.post("".concat(n,"/transfer/stocks/change/status"),{transfer_id:t.id,transfer_status:s.target.value,admin_id:a}).then((function(e){k().Notify.success(e.data.message),ae(),K(!1)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.failure(e.t0.message),K(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 ms-2 export_2 align-self-center text-center",children:(0,u.jsx)(j,{transferinarr:A,fromdate:re(N||t),todate:re(f||(N||t))})}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",void 0!=G?G.length:""," ",void 0!=G?G.length>1?"Transfers In":"Transfer In":""," "," "]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0 mt-2",style:{minHeight:"56vh",height:"56vh"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:" align-middle position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" TI ID "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Channel "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Location From "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Location To "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Date "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:"Transfer By "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:"Transfer To "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Total Items"}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Amount "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Approval Status "}),(0,u.jsx)("th",{className:"fw-bolder  text-center  text-charcoal75",children:" Inventory "})]})}),y?(0,u.jsx)("tbody",{className:" text-center",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"",children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):G&&0!=G.length?(0,u.jsx)("tbody",{children:G.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"py-0 my-0 text-charcoal fw-bold ps-2",children:[" TI-",e.id," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.channel&&1==e.channel?"Pharmacy":"Clinic"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.from_location.title?e.from_location.title:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.to_location.title?e.to_location.title:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.transfer_date&&e.transfer_date?re(e.transfer_date):"N/A"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.total_amount&&e.total_amount?"Rs. "+e.total_amount:"N/A"," "]}),(0,u.jsx)("td",{className:"text-center",children:1==X&&te==t?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{className:"spinner-border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)("select",{className:"bg-".concat(ce(e.transfer_status)," rounded-2 rounded-pill py-1 px-2 fw-bold text-center border-0 text-wrap "),value:ne(e.transfer_status),onChange:function(a){ie(e,a),te(t)},name:e.transfer_status,children:[(0,u.jsx)("option",{className:"button text-center",selected:!0,disabled:!0,children:ne(e.transfer_status)}),(0,u.jsx)("option",{className:"button-lightred",value:"0",children:"Pending"}),(0,u.jsx)("option",{className:"button-lightblue",value:"1",children:"Accepted"}),(0,u.jsx)("option",{className:"button-lightred",value:"2",children:"Rejected"})]})}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){F(t),b()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1 img-fluid"})," "]})}),(0,u.jsx)("td",{className:"p-0 m-0",children:t==E?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:" position-absolute d-".concat(t==E?p:"none"," border border-1 start-0 mx-auto end-0 bg-seashell rounded-4 p-0 m-0"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(le,{transferinarr:G[t],id:"TI-"+e.id,toggle_peidw:b})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:"No Transfers In"})})})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:z,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:ae,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]})]})}function ce(e){var t=(0,o.useContext)(d.U8),a=localStorage.getItem("ClinicId"),s=localStorage.getItem("id"),n=(0,o.useContext)(d.Pl),m=(0,o.useContext)(d.Jx),h=(0,o.useState)("none"),p=(0,r.Z)(h,2),x=p[0],b=p[1],N=function(){"none"===x&&b("block"),"block"===x&&(b("none"),M())},f=e.fromdate,j=e.todate,g=e.status,v=(0,o.useState)(!1),y=(0,r.Z)(v,2),S=y[0],w=y[1],C=(0,o.useState)([]),G=(0,r.Z)(C,2),Z=G[0],I=G[1],D=(0,o.useState)([]),A=(0,r.Z)(D,2),P=A[0],R=A[1],q=(0,o.useState)(),E=(0,r.Z)(q,2),F=E[0],M=E[1],L=(0,o.useState)("none"),H=(0,r.Z)(L,2),B=H[0],z=H[1],Q=(0,o.useState)(),O=(0,r.Z)(Q,2),V=O[0],U=O[1],Y=(0,o.useState)(),W=(0,r.Z)(Y,2),J=W[0],X=W[1];function K(e){return $.apply(this,arguments)}function $(){return($=(0,l.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==t||void 0==t.selected){w(!0);try{i.Z.get("".concat(m,"/transfer/stocks/list?location_id=").concat(a,"&limit=25&offset=0&status=").concat(g,"&from_date=").concat(f,"&to_date=").concat(j)).then((function(e){I(e.data.data.transfer_stocks_sent),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(s){k().Notify.warning(s.data.message),w(!1)}}else{w(!0);try{i.Z.get("".concat(m,"/transfer/stocks/list?location_id=").concat(a,"&limit=25&offset=").concat(25*t.selected,"&status=").concat(g,"&from_date=").concat(f,"&to_date=").concat(j)).then((function(e){X(e.data.data.total_count),I(e.data.data.transfer_stocks_sent),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(s){k().Notify.warning(s.data.message),w(!1)}}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,i.Z.get("".concat(m,"/transfer/stocks/list?location_id=").concat(a,"&limit=").concat(J||"","&offset=0&status=").concat(g)).then((function(e){R(e.data.data.transfer_stocks_sent),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.warning(e.t0.data.message),w(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(m,"/transfer/stocks/list?location_id=").concat(a,"&limit=25&offset=0&status=").concat(g,"&from_date=").concat(f,"&to_date=").concat(j)).then((function(e){X(e.data.data.total_count),U(Math.round(e.data.data.total_count/25)+1),w(!1)})).catch((function(e){k().Notify.warning(e),w(!1)}))}catch(e){k().Notify.warning(e.message),w(!1)}}()}),[f,j,g]),(0,o.useEffect)((function(){K(),function(){ee.apply(this,arguments)}()}),[f,j,g]);var te=function(){"none"===B&&z("block"),"block"===B&&z("none")},ae=function(e){if(e)return e=e.split("-").reverse().join("-")},se=[[0,"Pending","lightyellow"],[1,"Accepted","lightgreen"],[2,"Rejected","lightred"]];function ne(e){for(var t,a=0;a<se.length;a++)if(e==se[a][0]){t=se[a][1];break}return t}function ce(e){for(var t,a=0;a<se.length;a++)if(e==se[a][0]){t=se[a][2];break}return t}var le=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,a){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post("".concat(m,"/transfer/stocks/change/status"),{transfer_id:t.id,transfer_status:a.target.value,admin_id:s}).then((function(e){k().Notify.success(e.data.message),K()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),k().Notify.failure(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-auto position-absolute p-0 m-0 ms-2 export_2 align-self-center text-center",children:(0,u.jsx)(_,{transferoutarr:P,fromdate:ae(f||t),todate:ae(j||(f||t))})}),(0,u.jsxs)("button",{className:"button addpurchase button-charcoal me-3 position-absolute d-".concat(1==n.purchase_entry_add?"":"none"),onClick:te,children:[" ",(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"}),"Transfer Out "]}),(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",void 0!=Z?Z.length:""," ",void 0!=Z?Z.length>1?"Transfers Out":"Transfer Out":""," "," "]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0 mt-2",style:{minHeight:"56vh",height:"56vh"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:" align-middle position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" TO ID "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Channel "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Location From "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Location To "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Date "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:"Transfer By "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:"Transfer To "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Total Items"}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Amount "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Approval Status "}),(0,u.jsx)("th",{className:"fw-bolder  text-center  text-charcoal75",children:" Inventory "})]})}),S?(0,u.jsx)("tbody",{className:" text-center",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"",children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):Z&&0!=Z.length?(0,u.jsx)("tbody",{children:Z.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"py-0 my-0 text-charcoal fw-bold ps-2",children:[" TO-",e.id," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.channel&&1==e.channel?"Pharmacy":"Clinic"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.from_location.title?e.from_location.title:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.to_location.title?e.to_location.title:"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.transfer_date&&e.transfer_date?ae(e.transfer_date):"N/A"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsx)("td",{className:"text-charcoal fw-bold",children:" "}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.total_amount&&e.total_amount?"Rs. "+e.total_amount:"N/A"," "]}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{className:"bg-".concat(ce(e.transfer_status)," rounded-2 rounded-pill py-1 px-2  fw-bold border-0 text-wrap "),onChange:function(t){le(e,t)},name:e.transfer_status,children:[(0,u.jsx)("option",{className:"button text-center",selected:!0,disabled:!0,children:ne(e.transfer_status)}),(0,u.jsxs)("option",{className:"button-lightred",value:"0",children:["Pending ",ce(e.transfer_status)]}),(0,u.jsx)("option",{className:"button-lightblue",value:"1",children:"Accepted"}),(0,u.jsx)("option",{className:"button-lightred",value:"2",children:"Rejected"})]})}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){M(t),N()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1 img-fluid"})," "]})}),(0,u.jsx)("td",{className:" ",children:t==F?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:"position-absolute d-".concat(t==F?x:"none"," border border-1 start-0 mx-auto end-0 bg-seashell rounded-4 p-0 m-0"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(re,{transferoutarr:Z[t],id:"TO-"+e.id,toggle_peidw:N})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:"No Transfers Out"})})})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:V,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:K,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]}),(0,u.jsx)("section",{className:" position-absolute start-0 top-0 end-0 mx-auto bg-seashell rounded-2 border shadow border-1 d-".concat(B),style:{height:"70vh",width:"60vh"},children:(0,u.jsx)(ie,{toggle_npef:te,GETTransferOutList:K})})]})}function le(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)("none"),N=(0,r.Z)(b,2),f=(N[0],N[1],function(e){if(e)return e=e.split("-").reverse().join("-")});0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var j=(0,o.useState)(!1),_=(0,r.Z)(j,2),g=_[0],v=_[1];function y(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function S(e,t,a,s){if(e&&t||null!==a){var n=Number(Number(e)+Number(t)+Number(a))*Number(s);return n=n.toFixed(2)}}return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"container-fluid p-0 m-0",children:[(0,u.jsxs)("h5",{className:"text-center pt-3 text-charcoal",children:[e.id," Transfer In Item Details"]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:e.toggle_peidw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsx)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsxs)("button",{className:"button border-charcoal rounded-0 shadow-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:[" ",e," "]})}))}),(0,u.jsxs)("div",{className:" d-flex justify-content-end me-5",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:g||"",onChange:function(){v(1!=g)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Rate "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Cost "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total "})]})]}),e.transferinarr.medicines&&0!==e.transferinarr.medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.transferinarr.medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicies_stocks_id&&void 0!==e.medicies_stocks_id?"m"+e.medicies_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.medicine.display_name?e.medicine_stock_details.medicine.display_name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.batch_no?e.medicine_stock_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.expiry_date?f(e.medicine_stock_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.mrp?"\u20b9"+e.medicine_stock_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.rate?"\u20b9"+e.medicine_stock_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.discount?e.medicine_stock_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.trade_discount?e.medicine_stock_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.SGST_rate?Number(e.medicine_stock_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.SGST?(Number(e.medicine_stock_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.CGST_rate?Number(e.medicine_stock_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.CGST?(Number(e.medicine_stock_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.IGST_rate?Number(e.medicine_stock_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.IGST?(Number(e.medicine_stock_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.medicine_stock_details.CGST_rate,e.medicine_stock_details.SGST_rate,e.medicine_stock_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.medicine_stock_details.CGST,e.medicine_stock_details.SGST,e.medicine_stock_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details.cost?"\u20b9"+e.medicine_stock_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty&&e.medicine_stock_details.cost?Number(Number(e.medicine_stock_details.cost)*Number(e.qty)).toFixed(2):""," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:" text-center fw-bold",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" MRP"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Rate"," "," "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Cost"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" SGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" IGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]})]}),e.transferinarr.vaccines&&0!==e.transferinarr.vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.transferinarr.vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stocks_id&&void 0!==e.vaccine_stocks_id?"v"+e.vaccine_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.vaccine.name?e.vaccine_stock_details.vaccine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.batch_no?e.vaccine_stock_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.expiry_date?f(e.vaccine_stock_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.mrp?"\u20b9"+e.vaccine_stock_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.rate?"\u20b9"+e.vaccine_stock_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.discount?e.vaccine_stock_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.trade_discount?e.vaccine_stock_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.SGST_rate?Number(e.vaccine_stock_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.SGST?(Number(e.vaccine_stock_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.CGST_rate?Number(e.vaccine_stock_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.CGST?(Number(e.vaccine_stock_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.IGST_rate?Number(e.vaccine_stock_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.IGST?(Number(e.vaccine_stock_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.vaccine_stock_details.CGST_rate,e.vaccine_stock_details.SGST_rate,e.vaccine_stock_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.vaccine_stock_details.CGST,e.vaccine_stock_details.SGST,e.vaccine_stock_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details.cost?"\u20b9"+e.vaccine_stock_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty&&e.vaccine_stock_details.cost?Number(Number(e.vaccine_stock_details.cost)*Number(e.qty)).toFixed(2):""," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:"fw-bold text-center",children:"No Vaccines Found"})})})]})})]})}function re(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)("none"),N=(0,r.Z)(b,2),f=(N[0],N[1],function(e){if(e)return e=e.split("-").reverse().join("-")});0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var j=(0,o.useState)(!1),_=(0,r.Z)(j,2),g=_[0],v=_[1];function y(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function S(e,t,a,s){if(e&&t||null!==a){var n=Number(Number(e)+Number(t)+Number(a))*Number(s);return n=n.toFixed(2)}}return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"container-fluid p-0 m-0",children:[(0,u.jsxs)("h5",{className:"text-center pt-3 text-charcoal",children:[e.id," Transfer Out Item Details"]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:e.toggle_peidw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsx)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsxs)("button",{className:"button border-charcoal rounded-0 shadow-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:[" ",e," "]})}))}),(0,u.jsxs)("div",{className:" d-flex justify-content-end me-5",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:g||"",onChange:function(){v(1!=g)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Rate "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Cost "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total "})]})]}),e.transferoutarr.medicines&&0!==e.transferoutarr.medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.transferoutarr.medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicies_stocks_id&&void 0!==e.medicies_stocks_id?"m"+e.medicies_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.medicine.display_name?e.medicine_stock_details.medicine.display_name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.batch_no?e.medicine_stock_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.expiry_date?f(e.medicine_stock_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.mrp?"\u20b9"+e.medicine_stock_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.rate?"\u20b9"+e.medicine_stock_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.discount?e.medicine_stock_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details&&void 0!==e.medicine_stock_details.trade_discount?e.medicine_stock_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.SGST_rate?Number(e.medicine_stock_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.SGST?(Number(e.medicine_stock_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.CGST_rate?Number(e.medicine_stock_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.CGST?(Number(e.medicine_stock_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.IGST_rate?Number(e.medicine_stock_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_stock_details&&e.medicine_stock_details.IGST?(Number(e.medicine_stock_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.medicine_stock_details.CGST_rate,e.medicine_stock_details.SGST_rate,e.medicine_stock_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.medicine_stock_details.CGST,e.medicine_stock_details.SGST,e.medicine_stock_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_stock_details.cost?"\u20b9"+e.medicine_stock_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:" text-center fw-bold",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" MRP"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Rate"," "," "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Cost"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" SGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" IGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]})]}),e.transferoutarr.vaccines&&0!==e.transferoutarr.vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.transferoutarr.vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stocks_id&&void 0!==e.vaccine_stocks_id?"v"+e.vaccine_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.vaccine.name?e.vaccine_stock_details.vaccine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.batch_no?e.vaccine_stock_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.expiry_date?f(e.vaccine_stock_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.mrp?"\u20b9"+e.vaccine_stock_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.rate?"\u20b9"+e.vaccine_stock_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.discount?e.vaccine_stock_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details&&void 0!==e.vaccine_stock_details.trade_discount?e.vaccine_stock_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.SGST_rate?Number(e.vaccine_stock_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.SGST?(Number(e.vaccine_stock_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.CGST_rate?Number(e.vaccine_stock_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.CGST?(Number(e.vaccine_stock_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.IGST_rate?Number(e.vaccine_stock_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_stock_details&&e.vaccine_stock_details.IGST?(Number(e.vaccine_stock_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.vaccine_stock_details.CGST_rate,e.vaccine_stock_details.SGST_rate,e.vaccine_stock_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.vaccine_stock_details.CGST,e.vaccine_stock_details.SGST,e.vaccine_stock_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stock_details.cost?"\u20b9"+e.vaccine_stock_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:"fw-bold text-center",children:"No Vaccines Found"})})})]})})]})}function ie(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useRef)(null),s=(0,o.useRef)(null),m=(0,o.useContext)(d.q2),h=(0,o.useContext)(d.U8),p=localStorage.getItem("ClinicId"),x=(0,o.useState)(""),b=(0,r.Z)(x,2),N=b[0],f=b[1],j=(0,o.useState)(p),_=(0,r.Z)(j,2),g=_[0],v=_[1],y=(0,o.useState)(""),S=(0,r.Z)(y,2),w=S[0],T=S[1],G=(0,o.useState)(),Z=(0,r.Z)(G,2),I=Z[0],D=Z[1],A=(0,o.useState)(""),P=(0,r.Z)(A,2),R=P[0],q=P[1],E=(0,o.useState)(""),F=(0,r.Z)(E,2),M=F[0],L=F[1],H=(0,o.useState)(),B=(0,r.Z)(H,2),z=B[0],Q=B[1],O=(0,o.useState)(h),V=(0,r.Z)(O,2),U=V[0],Y=V[1],W=(0,o.useState)("block"),J=(0,r.Z)(W,2),X=J[0],K=J[1],$=(0,o.useState)("none"),ee=(0,r.Z)($,2),te=ee[0],ae=ee[1],se=(0,o.useState)(!1),ne=(0,r.Z)(se,2),ce=ne[0],le=ne[1],re=(0,o.useState)(),ie=(0,r.Z)(re,2),oe=ie[0],de=ie[1],me=(0,o.useState)(),he=(0,r.Z)(me,2),ue=he[0],pe=he[1],xe=(0,o.useState)(),be=(0,r.Z)(xe,2),Ne=(be[0],be[1]),fe=(0,o.useState)(),je=(0,r.Z)(fe,2),_e=(je[0],je[1],(0,o.useState)()),ge=(0,r.Z)(_e,2),ve=(ge[0],ge[1],(0,o.useState)()),ye=(0,r.Z)(ve,2),Se=(ye[0],ye[1],(0,o.useState)([])),ke=(0,r.Z)(Se,2),we=ke[0],Te=ke[1],Ce=(0,o.useState)([]),Ge=(0,r.Z)(Ce,2),Ze=Ge[0],Ie=Ge[1],De=(0,o.useState)(!1),Ae=(0,r.Z)(De,2),Pe=Ae[0],Re=Ae[1],qe=(0,o.useState)(),Ee=(0,r.Z)(qe,2),Fe=Ee[0],Me=Ee[1],Le=function(){"block"==X&&K("none"),"none"==X&&K("block")},He=function(){"block"==te&&ae("none"),"none"==te&&ae("block")},Be=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var s,n,l,r,o;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(s=[],n=[],l=[],r=0;r<Ze.length;r++)n.push(Ze[r].type?Ze[r].type:""),s.push(Ze[r].productid?Ze[r].productid:""),l.push(Ze[r].qtytoTransfer?Number(Ze[r].qtytoTransfer):"");return o={from_location:g,to_location:I,channel:M,transfer_date:U,total_amount:Fe,items:s,items_type:n,qty:l},Re(!0),a.prev=6,a.next=9,i.Z.post("".concat(t,"/transfer/stocks/add"),o).then((function(t){Re(!1),e.GETTransferOutList(),Re(!1),e.toggle_npef(),1==t.data.status?k().Notify.success(t.data.message):k().Notify.warning(t.data.message),Qe()}));case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(6),Re(!1),k().Notify.warning(a.t0.message);case 15:case"end":return a.stop()}}),a,null,[[6,11]])})));return function(){return a.apply(this,arguments)}}();function ze(){return(ze=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(Ze.filter((function(e){return e.productid!==t}))),a=a.flat(),Ie(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){var e=0;Ze.map((function(t){return e+=Number(t.totalamt)})),Me(e)}()}),[Ze]);var Qe=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(),v(),D(),Y(),Q(),L(),Ie([]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(s){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/stock/list?search=").concat(s,"&location_id=").concat(p)).then((function(e){var t=[],n=[],c=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),n.push(e.data.data.vaccines?e.data.data.vaccines:[]),c=(c=t.concat(n)).flat(),de(c),le(!1),s.length>1?a.current.style.display="block":a.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.warning(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,o.useEffect)((function(){!function(){for(var e=0;e<m.length;e++)p==m[e].id&&f(m[e].title)}()}),[]),(0,u.jsxs)("section",{className:"position-relative",style:{minHeight:"100%"},children:[(0,u.jsx)("h5",{className:"text-center text-charocal fw-bold pt-2 shadow-sm pb-2",children:"New Transfer Out"}),(0,u.jsx)("button",{className:"btn btn-back position-absolute start-0 top-0 ms-2 d-".concat("block"==X?"none":"block"),onClick:function(){"block"===te&&(He(),Le())}}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto mt-2 position-absolute top-0 end-0 me-2 mt-2",onClick:e.toggle_npef,"aria-label":"Close"}),(0,u.jsxs)("div",{className:"stage1 d-".concat(X),style:{minHeight:"90%"},children:[(0,u.jsxs)("div",{className:"row p-0 m-0 mt-4 ms-3 align-items-end align-self-end",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"From Location"}),(0,u.jsxs)("div",{className:"dropdown ",children:[(0,u.jsxs)("button",{className:" button button-pearl text-charcoal fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ",w||N," "]}),(0,u.jsx)("ul",{className:"dropdown-menu p-2 bg-pearl border-0 shadow-sm",children:m?m.map((function(e){return(0,u.jsxs)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2",onClick:function(){v(e.id),T(e.title)},children:[e.title," "]})})):(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2",children:"Loading..."})})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("label",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"To Location"}),(0,u.jsxs)("div",{className:"dropdown ",children:[(0,u.jsxs)("button",{className:" button button-pearl text-charcoal fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ",R||"To Location"," "]}),(0,u.jsx)("ul",{className:"dropdown-menu p-2 bg-pearl border-0 shadow-sm",children:m?m.map((function(e){return(0,u.jsxs)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2 d-".concat(p==e.id?"none":""),onClick:function(){D(e.id),q(e.title)},children:[e.title," "]})})):(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2",children:"Loading..."})})]})]})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 mt-5 ms-3 ",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"Select Channel"}),(0,u.jsxs)("div",{className:"dropdown ",children:[(0,u.jsxs)("button",{className:" button button-pearl text-charcoal fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ",z||"Select Channel"," "]}),(0,u.jsxs)("ul",{className:"dropdown-menu p-2 bg-pearl border-0 shadow-sm",children:[(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2",onClick:function(){L(1),Q("Pharmacy")},children:"Pharmacy "}),(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder py-2",onClick:function(){L(2),Q("Clinic")},children:"Clinic "})]})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"Transfer Date"}),(0,u.jsx)("input",{type:"date",className:"button button-pearl fw-bolder tet-charcoal ",onChange:function(e){Y(e.target.value)},value:U||h})]})]}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 position-absolute bottom-0 bg-pearl bottom_bar",children:(0,u.jsx)("div",{className:"row p-0 m-0 py-3 justify-content-end",children:(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("button",{className:"button button-charcoal",onMouseDown:function(){He()},onMouseUp:function(){Le()},children:"Add Items"})})})})]}),(0,u.jsxs)("div",{className:"stage2 d-".concat(te),children:[(0,u.jsx)("div",{className:"row p-0 m-0 align-items-end align-self-end",children:(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("input",{className:"form-control fw-bold border-charcoal75 border-2 rounded-1 bg-seashell",placeholder:"Search Product by Name",value:ue||"",onChange:function(e){Oe(e.target.value),pe(e.target.value),Ne(),Te(),s.current.style.display="none"}}),(0,u.jsx)("div",{ref:a,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"1"},children:oe?ce?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,u.jsx)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:(0,u.jsx)("span",{className:"sr-only",children:" "})})]}):0==ce&&0==oe.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:" Oops! Not Avaliable "}):(0,u.jsxs)("div",{className:"rounded-4 scroll border border-1 bg-pearl p-1 d-".concat(oe&&oe.length>0?"block":"none"),style:{height:"30vh"},children:[(0,u.jsxs)("p",{className:"text-start p-2 position-sticky top-0 bg-pearl fw-bold text-charcoal75 ms-2",style:{fontSize:"0.8rem"},children:[" ",oe.length," Search Results "]}),oe.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," text-start fw-bold p-2 border-bottom text-charcoal "),onClick:function(t){Te(e),pe(e.display_name?e.display_name:e.name),Ne(e.id),s.current.style.display="block"},children:[" ",e.display_name?e.display_name:e.name," ",(0,u.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})," "]})}))]}):(0,u.jsx)("div",{className:"bg-seashell"})}),(0,u.jsxs)("div",{ref:s,className:"position-absolute start-50 mt-1 bg-pearl scroll scroll-y align-self-center rounded-2 border border-1 p-2 d-".concat(we&&we.stock_info&&void 0!==we.stock_info?"block":"none"),style:{zIndex:"2",width:"10rem","min-height":"30vh"},children:[(0,u.jsxs)("p",{className:"text-start fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[" ",we&&void 0!==we.stock_info?we.stock_info.length:""," "," Batch Stocks "]}),we&&0!=we.length?0==we.stock_info.length?(0,u.jsx)("div",{className:"bg-burntumber text-white fw-bold p-2",children:"Oops! Not Available"}):we.stock_info.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"max-content"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom text-wrap"),onClick:function(){!function(e){var t="";t=e.vaccine_brand_id?"v":"m";var a={productid:e.id,product:e.item_name?e.item_name:ue,type:e.type?e.type:t,avlstock:e.current_stock,qtytoTransfer:"",mrp:e.mrp};Ze&&0==Ze.length?Ie([a]):Ie((function(e){return[].concat((0,n.Z)(e),[a])}))}(e),pe(),Ne(),Te(),de()},children:[(0,u.jsx)("p",{className:"text-start m-0 p-0 fw-bold",children:ue}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" BatchNo. -"," "," ",e.batch_no&&null!==e.batch_no?e.batch_no:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Stock -"," "," ",e.current_stock&&e.current_stock?e.current_stock:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Expiry Date -"," "," ",e.expiry_date?Ve(e.expiry_date):""," "]})]})})):(0,u.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]}),(0,u.jsx)("div",{})]})}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 mt-2 scroll scroll-y",children:(0,u.jsxs)("table",{className:"table p-0 m-0",children:[(0,u.jsx)("thead",{className:"p-0 m-0",children:(0,u.jsxs)("tr",{className:"p-0 m-0 ",children:[(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item ID "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item Name "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Mrp "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Avl.Stock "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Qty To Transfer "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Total "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Delete "})]})}),Ze&&0!==Ze.length?(0,u.jsx)("tbody",{className:"p-0 m-0",children:Ze.map((function(e){return(0,u.jsxs)("tr",{className:"p-0 m-0 align-middle text-charcoal fw-bold",children:[(0,u.jsxs)("td",{children:[e.type," ",e.productid," "]}),(0,u.jsx)("td",{children:e.product}),(0,u.jsx)("td",{children:e.mrp}),(0,u.jsx)("td",{children:e.avlstock}),(0,u.jsxs)("td",{children:[(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell",value:e.qtytoTransfer?e.qtytoTransfer:"",onChange:function(t){t.target.value<=e.avlstock?e.qtytoTransfer=t.target.value:k().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=function(e,t){return e?1==e||"1"==e?t=Number(t):(Number(t)*Number(e)).toFixed(2):0}(e.qtytoTransfer,e.mrp),Ie((function(e){return(0,n.Z)(e)}))}})," "]}),(0,u.jsx)("td",{children:e.totalamt}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"btn p-0 m-0",onClick:function(){!function(e){ze.apply(this,arguments)}(e.productid)},children:(0,u.jsx)("img",{src:"images/minus.png"})})})]})}))}):(0,u.jsx)("tbody",{className:"p-0 m-0 position-relative",children:(0,u.jsx)("tr",{className:"p-0 m-0",children:(0,u.jsx)("td",{className:"p-0 m-0 position-absolute text-charcoal75 fw-bold text-center start-0 end-0",children:" No Product Added "})})})]})}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 position-absolute bottom-0 bottom_bar bg-pearl",children:(0,u.jsxs)("div",{className:"row p-0 m-0 py-3 justify-content-between align-items-center align-self-center",children:[(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("label",{className:"fw-bolder text-charcoal75",htmlFor:"",children:"Grand Total"}),(0,u.jsx)("div",{className:"col-auto ",children:(0,u.jsxs)("h5",{className:"fw-bolder text-charcoal",children:["\u20b9",Fe]})})]}),(0,u.jsx)("div",{className:"col-auto",children:Pe?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{className:"spinner-border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsx)("button",{className:"button button-charcoal",onClick:function(){return(0,C.H)(),void k().Confirm.show("Add Transfer Out","Do you surely want to do the following Transfer Out ","Yes","No",(function(){Be()}),(function(){return 0}),{})},children:"Save Transfer"})})]})})]})]})}function oe(e){var t=(0,o.useContext)(d.U8),a=localStorage.getItem("id"),s=localStorage.getItem("ClinicId"),n=(0,o.useState)(""),m=(0,r.Z)(n,2),h=m[0],p=m[1],x=(0,o.useContext)(d.Pl),b=(0,o.useContext)(d.Jx),N=(0,o.useState)("none"),f=(0,r.Z)(N,2),j=f[0],_=f[1],v=(0,o.useState)(!1),y=(0,r.Z)(v,2),S=y[0],w=y[1],C=(0,o.useState)([]),G=(0,r.Z)(C,2),Z=G[0],I=G[1],D=(0,o.useState)([]),A=(0,r.Z)(D,2),P=A[0],R=A[1],q=(0,o.useState)(),E=(0,r.Z)(q,2),F=E[0],M=E[1],L=(0,o.useState)("none"),H=(0,r.Z)(L,2),B=H[0],z=H[1],Q=(0,o.useState)(),O=(0,r.Z)(Q,2),V=O[0],U=O[1],Y=(0,o.useState)(),W=(0,r.Z)(Y,2),J=W[0],X=W[1],K=(0,o.useState)(!1),$=(0,r.Z)(K,2),ee=$[0],te=$[1],ae=(0,o.useState)(),se=(0,r.Z)(ae,2),ne=se[0],ce=se[1],le=(0,o.useState)(),re=(0,r.Z)(le,2),ie=re[0],oe=re[1],he=(0,o.useState)(),ue=(0,r.Z)(he,2),pe=ue[0],xe=ue[1],be=(0,o.useState)(),Ne=(0,r.Z)(be,2),fe=Ne[0],je=Ne[1],_e=(0,o.useState)(),ge=(0,r.Z)(_e,2),ve=ge[0],ye=ge[1];(0,o.useEffect)((function(){i.Z.get("".concat(b,"/clinic/list")).then((function(e){p(e.data.data)}))}),[]);var Se=function(){"none"===j&&_("block"),"block"===j&&(_("none"),M())};function ke(e){if(void 0==e||void 0==e.selected){w(!0);try{i.Z.get("".concat(b,"/dump/stocks/list?location_id=").concat(s,"&limit=25&offset=0")).then((function(e){X(e.data.data.total_count),I(e.data.data.dump_stocks),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(t){k().Notify.warning(t.data.message),w(!1)}}else{w(!0);try{i.Z.get("".concat(b,"/dump/stocks/list?location_id=").concat(s,"&limit=25&offset=").concat(25*e.selected)).then((function(e){X(e.data.data.total_count),I(e.data.data.dump_stocks),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(t){k().Notify.warning(t.data.message),w(!1)}}}(0,o.useEffect)((function(){!function(){try{i.Z.get("".concat(b,"/dump/stocks/list?location_id=").concat(s,"&channel=").concat(pe,"&from_date=").concat(ne||t,"&to_date=").concat(ie||ne||t)).then((function(e){X(e.data.data.total_count),U(Math.round(e.data.data.total_count/25)+1),w(!1)})).catch((function(e){k().Notify.warning(e),w(!1)}))}catch(e){k().Notify.warning(e.message),w(!1)}}()}),[ne,ie,pe]),(0,o.useEffect)((function(){ke(),function(){w(!0);try{i.Z.get("".concat(b,"/dump/stocks/list?location_id=").concat(s,"&limit=").concat(J||"","&offset=0")).then((function(e){R(e.data.data.dump_stocks),w(!1)})).catch((function(e){k().Notify.warning(e.message),w(!1)}))}catch(e){k().Notify.warning(e.data.message),w(!1)}}()}),[ne,ie,pe]);var we=function(){"none"===B&&z("block"),"block"===B&&z("none")},Te=[[1,"Dumped","lightgreen"],[2,"Cancelled","lightred"]];function Ce(e){for(var t,a=0;a<Te.length;a++)if(e==Te[a][0]){t=Te[a][1];break}return t}function Ge(e){for(var t,a=0;a<Te.length;a++)if(e==Te[a][0]){t=Te[a][2];break}return t}var Ze=function(e){if(e)return e=e.split("-").reverse().join("-")},Ie=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,s){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),e.prev=1,e.next=4,i.Z.post("".concat(b,"/transfer/stocks/change/status"),{transfer_id:t.id,transfer_status:s.target.value,admin_id:a}).then((function(e){k().Notify.success(e.data.message),ke(),te(!1)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.failure(e.t0.message),te(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"row p-0 m-0 mt-3",children:[(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsxs)("div",{class:"dropdown",children:[(0,u.jsx)("button",{class:"button button-seashell border-0 rounded-2 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:fe||"Channel"}),(0,u.jsxs)("ul",{class:"dropdown-menu bg-seashell shadow-sm border-0",children:[(0,u.jsx)("li",{className:"dropdown-item text-".concat("Pharmacy"===fe?"light":"dark"," fw-bold bg-").concat("Pharmacy"===fe?"charcoal":"seashell"),onClick:function(e){je("Pharmacy"),xe(1)},children:" Pharmacy "}),(0,u.jsx)("li",{className:"dropdown-item text-".concat("Clinic"===fe?"light":"dark"," fw-bold bg-").concat("Clinic"===fe?"charcoal":"seashell"),onClick:function(e){je("Clinic"),xe(2)},children:" Clinic "})]})]})}),(0,u.jsx)("div",{className:"col-auto bg-seashell rounded-2 ",children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center align-self-center",children:[(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:(0,u.jsx)("input",{type:"date",placeholder:"fromdate",className:"button button-seashell rounded-0 border-0 text-charcoal text-center fw-bold ",value:ne||(t||""),onChange:function(e){ce(e.target.value)}})}),(0,u.jsx)("div",{className:"col-auto p-0 m-0",children:"-"}),(0,u.jsxs)("div",{className:"col-auto p-0 m-0",children:[(0,u.jsx)("input",{type:"date",className:" border-0 button button-seashell text-charcoal text-center fw-bold",value:ie||(ne||(t||"")),onChange:function(e){oe(e.target.value)}}),"                "]})]})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)(g,{dumpsarr:P,fromdate:Ze(ne||t),todate:Ze(ie||(ne||t))})})]}),(0,u.jsxs)("div",{className:"row p-0 m-0 justify-content-between mt-3",children:[(0,u.jsx)("div",{className:"col-auto ps-0 ms-0",children:(0,u.jsxs)("h2",{className:" ms-3 text-charcoal fw-bolder",style:{width:"fit-content"},children:[" ",void 0!=Z?Z.length:""," ",void 0!=Z?Z.length>1?"Dumps":"Dump":""," "," "]})}),(0,u.jsx)("div",{className:"col-auto me-3",children:(0,u.jsxs)("button",{className:"button addpurchase button-charcoal  d-".concat(1==x.purchase_entry_add?"":"none"),onClick:we,children:[" ",(0,u.jsx)("img",{src:"/images/addiconwhite.png",alt:"displaying_image",className:"img-fluid p-0 m-0"}),"Dump "]})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"scroll scroll-y overflow-scroll p-0 m-0 mt-2 position-relative",style:{minHeight:"56vh",height:"56vh"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:" align-middle position-sticky top-0 bg-pearl",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:"  ID "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Channel "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Dump From "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Dump Date "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75",children:" Amount "}),(0,u.jsx)("th",{className:"fw-bolder text-charcoal75 text-center",children:" Status "}),(0,u.jsx)("th",{className:"fw-bolder  text-center  text-charcoal75",children:" Inventory "})]})}),S?(0,u.jsx)("tbody",{className:" text-center",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"position-absolute border-0 start-0 end-0 px-5",children:(0,u.jsxs)("div",{class:"d-flex align-items-center",children:[(0,u.jsx)("strong",{className:"",children:"Getting Details please be Patient ..."}),(0,u.jsx)("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"})]})})}):Z&&0!=Z.length?(0,u.jsx)("tbody",{children:Z.map((function(e,t){return(0,u.jsxs)("tr",{className:"bg-".concat(t%2==0?"seashell":"pearl"," align-middle"),children:[(0,u.jsxs)("td",{className:"py-0 my-0 text-charcoal fw-bold ps-2",children:[" D-",e.id," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.channel&&1==e.channel?"Pharmacy":"Clinic"," "]}),(0,u.jsx)("td",{className:"text-charcoal fw-bold pe-3",children:h?h.map((function(e,t){return(0,u.jsx)("label",{className:"d-".concat(s==e.id?"block":"none"),children:e.title})})):(0,u.jsx)(u.Fragment,{})}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.dump_date&&e.dump_date?Ze(e.dump_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"text-charcoal fw-bold",children:[" ",e.total_amount&&e.total_amount?"Rs. "+e.total_amount:"N/A"," "]}),(0,u.jsx)("td",{className:"text-center",children:1==ee&&ve==t?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{className:"spinner-border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)("select",{disabled:2==e.dump_status,className:"bg-".concat(Ge(e.dump_status)," rounded-2 rounded-pill py-1 px-2 fw-bold text-center border-0 text-wrap "),onChange:function(t){Ie(e,t)},name:e.dump_status,children:[(0,u.jsx)("option",{className:"button text-center",selected:!0,disabled:!0,children:Ce(e.dump_status)}),(0,u.jsx)("option",{className:"button-lightgreen",value:"1",onClick:function(){ye(t)},children:"Dumped"}),(0,u.jsx)("option",{className:"button-lightred",value:"2",onClick:function(){ye(t)},children:"Cancelled"})]})}),(0,u.jsx)("td",{className:"text-charcoal fw-bold text-center",children:(0,u.jsxs)("button",{className:"btn p-0 m-0",onClick:function(){M(t),Se()},children:[" ",(0,u.jsx)("img",{src:"/images/archivebox.png",alt:"displaying_image",className:"ms-1 img-fluid"})," "]})}),(0,u.jsx)("td",{children:t==F?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"backdrop"}),(0,u.jsx)("section",{className:" position-absolute d-".concat(t==F?j:"none"," border border-1 start-0 mx-auto end-0 bg-seashell rounded-4 p-0 m-0"),style:{zIndex:"10",top:"0",width:"70vh",height:"40vh"},children:(0,u.jsx)(de,{dumpsarr:Z[t],id:"D-"+e.id,toggle_peidw:Se})})]}):(0,u.jsx)(u.Fragment,{})})]},t)}))}):(0,u.jsx)("tbody",{className:"text-center position-relative p-0 m-0 ",style:{minHeight:"55vh"},children:(0,u.jsx)("tr",{className:"",children:(0,u.jsx)("td",{className:"fw-bolder text-charcoal text-center position-absolute border-0 start-0 end-0 mx-3 p-2 border-0",children:"No Dumps"})})})]})}),(0,u.jsx)("div",{className:"container-fluid mt-2 d-flex justify-content-center",children:(0,u.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:". . .",pageCount:V,marginPagesDisplayed:3,pageRangeDisplayed:2,onPageChange:ke,containerClassName:"pagination",pageClassName:"page-item text-charcoal",pageLinkClassName:"page-link text-decoration-none text-charcoal border-charcoal rounded-1 mx-1",previousClassName:"btn button-charcoal-outline me-2",previousLinkClassName:"text-decoration-none text-charcoal",nextClassName:"btn button-charcoal-outline ms-2",nextLinkClassName:"text-decoration-none text-charcoal",breakClassName:"mx-2 text-charcoal fw-bold fs-4",breakLinkClassName:"text-decoration-none text-charcoal",activeClassName:"active"})})]}),(0,u.jsx)("section",{className:" position-absolute bottom-0 start-0 mx-auto end-0 bg-seashell border border-1 shadow rounded-2 d-".concat(B),style:{minHeight:"70vh",height:"70vh",width:"60vh"},children:(0,u.jsx)(me,{toggle_npef:we,GETDumpList:ke})})]})}function de(e){var t=(0,o.useState)("block"),a=(0,r.Z)(t,2),s=a[0],n=a[1],c=(0,o.useState)("none"),l=(0,r.Z)(c,2),i=l[0],d=l[1],m=(0,o.useState)(0),h=(0,r.Z)(m,2),p=h[0],x=h[1],b=(0,o.useState)("none"),N=(0,r.Z)(b,2),f=(N[0],N[1],function(e){if(e)return e=e.split("-").reverse().join("-")});0==p&&"none"==s&&(n("block"),d("none")),1==p&&"none"==i&&(d("block"),n("none"));var j=(0,o.useState)(!1),_=(0,r.Z)(j,2),g=_[0],v=_[1];function y(e,t,a){if(e&&t&&null!==a)return Number(e)+Number(t)+Number(a)}function S(e,t,a,s){if(e&&t||null!==a){var n=Number(Number(e)+Number(t)+Number(a))*Number(s);return n=n.toFixed(2)}}return(0,u.jsxs)("div",{className:"container-fluid p-0 m-0 ",children:[(0,u.jsxs)("div",{className:"container-fluid p-0 m-0",children:[(0,u.jsxs)("h5",{className:"text-center pt-3 text-charcoal",children:[e.id," Dump Item Details"]}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute end-0 me-2",onClick:e.toggle_peidw,"aria-label":"Close"}),(0,u.jsx)("div",{className:"col-2 d-none",children:(0,u.jsxs)("div",{className:" position-relative searchbutton",style:{top:"0.25rem",right:"1rem"},children:[(0,u.jsx)("input",{type:"text",className:" form-control d-inline PEsearch bg-seashell",placeholder:"Search PE"}),(0,u.jsx)("button",{className:"btn p-0 m-0 bg-transparent border-0 position-absolute",style:{width:"2rem",right:"0",left:"0",top:"0.25rem"},children:(0,u.jsx)("img",{src:"/images/search.png",alt:"displaying_image",className:"img-fluid p-0 m-0"})})]})})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center p-0 m-0 mt-3 mb-1",children:["Medicine","Vaccine"].map((function(e,t){return(0,u.jsxs)("button",{className:"button border-charcoal rounded-0 shadow-0 button-".concat(t==p?"charcoal":"seashell"),onClick:function(){x(t)},children:[" ",e," "]})}))}),(0,u.jsxs)("div",{className:" d-flex justify-content-end me-5",children:[(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",value:g||"",onChange:function(){v(1!=g)}}),(0,u.jsx)("label",{children:"Show Tax Details"})]}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(s),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" MRP "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Rate "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Cost "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Total "})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total "})]})]}),e.dumpsarr.medicines&&0!==e.dumpsarr.medicines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.dumpsarr.medicines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicies_stocks_id&&void 0!==e.medicies_stocks_id?"m"+e.medicies_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.medicine.display_name?e.medicine_details.medicine.display_name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.batch_no?e.medicine_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.expiry_date?f(e.medicine_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.mrp?"\u20b9"+e.medicine_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.rate?"\u20b9"+e.medicine_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.discount?e.medicine_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details&&void 0!==e.medicine_details.trade_discount?e.medicine_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.SGST_rate?Number(e.medicine_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.SGST?(Number(e.medicine_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.CGST_rate?Number(e.medicine_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.CGST?(Number(e.medicine_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.IGST_rate?Number(e.medicine_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.medicine_details&&e.medicine_details.IGST?(Number(e.medicine_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.medicine_details.CGST_rate,e.medicine_details.SGST_rate,e.medicine_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.medicine_details.CGST,e.medicine_details.SGST,e.medicine_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.medicine_details.cost?"\u20b9"+e.medicine_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:" text-center fw-bold",children:"No Medicines Found"})})})]})}),(0,u.jsx)("div",{className:"scroll bg-seashell scroll-y d-".concat(i),style:{height:"100%"},children:(0,u.jsxs)("table",{className:"table datatable table-responsive text-center bg-seashell",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Stock ID "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Item Name "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Batch No. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Expiry Date "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" MRP"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Rate"," "," "]}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Qty. "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Disc% "}),(0,u.jsx)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:" Trade Disc% "}),(0,u.jsx)("th",{colspan:1==g?"8":"2",scope:"col-group",className:"border p-0 m-0 px-1",children:" Total Tax "}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Cost"," "," "]}),(0,u.jsxs)("th",{rowspan:"2",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST% "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" CGST "}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" SGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" SGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:" IGST% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1 d-".concat(1==g?"":"none"),children:[" IGST"," "," "]}),(0,u.jsx)("th",{scope:"col",className:"border p-0 m-0 px-1",children:" Total% "}),(0,u.jsxs)("th",{scope:"col",className:"border p-0 m-0 px-1",children:[" Total"," "," "]})]})]}),e.dumpsarr.vaccines&&0!==e.dumpsarr.vaccines.length?(0,u.jsx)("tbody",{className:"border align-items-center p-0 m-0",children:e.dumpsarr.vaccines.map((function(e,t){return(0,u.jsxs)("tr",{className:"border p-0 m-0 align-middle",children:[(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_stocks_id&&void 0!==e.vaccine_stocks_id?"v"+e.vaccine_stocks_id:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.vaccine.name?e.vaccine_details.vaccine.name:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.batch_no?e.vaccine_details.batch_no:"N/A"]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.expiry_date?f(e.vaccine_details.expiry_date):"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.mrp?"\u20b9"+e.vaccine_details.mrp:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.rate?"\u20b9"+e.vaccine_details.rate:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.qty?e.qty:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.discount?e.vaccine_details.discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details&&void 0!==e.vaccine_details.trade_discount?e.vaccine_details.trade_discount:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.SGST_rate?Number(e.vaccine_details.SGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.SGST?(Number(e.vaccine_details.SGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.CGST_rate?Number(e.vaccine_details.CGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.CGST?(Number(e.vaccine_details.CGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.IGST_rate?Number(e.vaccine_details.IGST_rate):""," "]}),(0,u.jsxs)("td",{className:"border align-middle d-".concat(1==g?"":"none"),children:[" ",e.vaccine_details&&e.vaccine_details.IGST?(Number(e.vaccine_details.IGST)*Number(e.qty)).toFixed(2):""," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",y(e.vaccine_details.CGST_rate,e.vaccine_details.SGST_rate,e.vaccine_details.IGST_rate)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",S(e.vaccine_details.CGST,e.vaccine_details.SGST,e.vaccine_details.IGST,e.qty)," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.vaccine_details.cost?"\u20b9"+e.vaccine_details.cost:"N/A"," "]}),(0,u.jsxs)("td",{className:"border align-middle",children:[" ",e.total_amount?e.total_amount:"N/A"," "]})]},t)}))}):(0,u.jsx)("body",{className:"text-center p-0 m-0 border border-1 ",children:(0,u.jsx)("div",{className:"position-absolute border-0 start-0 end-0 mx-3 p-2 ",children:(0,u.jsx)("p",{className:"fw-bold text-center",children:"No Vaccines Found"})})})]})})]})}function me(e){var t=(0,o.useContext)(d.Jx),a=(0,o.useRef)(null),m=(0,o.useRef)(null),h=(0,o.useContext)(d.q2),p=(0,o.useContext)(d.U8),x=localStorage.getItem("ClinicId"),b=(0,o.useState)(""),N=(0,r.Z)(b,2),f=N[0],j=N[1],_=(0,o.useState)(),g=(0,r.Z)(_,2),v=g[0],y=g[1],S=(0,o.useState)(p),w=(0,r.Z)(S,2),T=w[0],G=w[1],Z=(0,o.useState)("block"),I=(0,r.Z)(Z,2),D=I[0],A=I[1],P=(0,o.useState)("none"),R=(0,r.Z)(P,2),q=R[0],E=R[1],F=(0,o.useState)(!1),M=(0,r.Z)(F,2),L=M[0],H=M[1],B=(0,o.useState)(),z=(0,r.Z)(B,2),Q=z[0],O=z[1],V=(0,o.useState)(),U=(0,r.Z)(V,2),Y=U[0],W=U[1],J=(0,o.useState)(),X=(0,r.Z)(J,2),K=(X[0],X[1]),$=(0,o.useState)(),ee=(0,r.Z)($,2),te=(ee[0],ee[1],(0,o.useState)()),ae=(0,r.Z)(te,2),se=(ae[0],ae[1],(0,o.useState)()),ne=(0,r.Z)(se,2),ce=(ne[0],ne[1],(0,o.useState)([])),le=(0,r.Z)(ce,2),re=le[0],ie=le[1],oe=(0,o.useState)([]),de=(0,r.Z)(oe,2),me=de[0],he=de[1],ue=(0,o.useState)(!1),pe=(0,r.Z)(ue,2),xe=pe[0],be=pe[1],Ne=(0,o.useState)(),fe=(0,r.Z)(Ne,2),je=fe[0],_e=fe[1],ge=function(){"block"==D&&A("none"),"none"==D&&A("block")},ve=function(){"block"==q&&E("none"),"none"==q&&E("block")},ye=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(){var n,l,r,o,d,m;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(l=[],r=[],o=[],d=0;d<me.length;d++)r.push(me[d].type?me[d].type:""),l.push(me[d].productid?me[d].productid:""),o.push(me[d].qtytoTransfer?Number(me[d].qtytoTransfer):"");return n={location_id:x,dump_date:T,channel:f},(0,s.Z)(n,"dump_date",T),(0,s.Z)(n,"total_amount",je),(0,s.Z)(n,"items",l),(0,s.Z)(n,"items_type",r),(0,s.Z)(n,"qty",o),m=n,be(!0),a.prev=6,a.next=9,i.Z.post("".concat(t,"/dump/stocks/add"),m).then((function(t){be(!1),e.GETDumpList(),be(!1),e.toggle_npef(),1==t.data.status?k().Notify.success(t.data.message):k().Notify.warning(t.data.message),ke()}));case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(6),be(!1),k().Notify.warning(a.t0.message);case 15:case"end":return a.stop()}}),a,null,[[6,11]])})));return function(){return a.apply(this,arguments)}}();function Se(){return(Se=(0,l.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push(me.filter((function(e){return e.productid!==t}))),a=a.flat(),he(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){!function(){var e=0;me.map((function(t){return e+=Number(t.totalamt)})),_e(e)}()}),[me]);var ke=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(),y(),j(),he([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(s){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.prev=1,e.next=4,i.Z.get("".concat(t,"/stock/list?&location_id=").concat(x,"&search=").concat(s)).then((function(e){var t=[],n=[],c=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),n.push(e.data.data.vaccines?e.data.data.vaccines:[]),c=(c=t.concat(n)).flat(),O(c),H(!1),s.length>1?a.current.style.display="block":a.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(e){if(e)return e=e.split("-").reverse().join("-")};return(0,u.jsxs)("section",{className:"position-relative",style:{minHeight:"100%"},children:[(0,u.jsx)("h5",{className:"text-center text-charocal fw-bold pt-2 shadow-sm pb-2",children:"New Dump"}),(0,u.jsx)("button",{className:"btn btn-back position-absolute start-0 top-0 ms-2 d-".concat("block"==D?"none":"block"),onClick:function(){"block"===q&&(ve(),ge())}}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn m-auto mt-2 position-absolute top-0 end-0 me-2 mt-2",onClick:e.toggle_npef,"aria-label":"Close"}),(0,u.jsxs)("div",{className:"stage1 d-".concat(D),style:{minHeight:"90%"},children:[(0,u.jsx)("div",{className:"row p-0 m-0 mt-4 ms-3 align-items-end align-self-end",children:(0,u.jsx)("div",{className:"col-12 clinics bg-seashell align-self-center border-0 ps-2",children:h.map((function(e,t){return(0,u.jsx)("div",{className:"d-".concat(x==e.id?"block":"none"," "),children:(0,u.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,u.jsx)("div",{className:"col-auto p-0 m-0 me-1",children:(0,u.jsx)("img",{src:"/images/location.png"})}),(0,u.jsxs)("div",{className:"col-auto p-0 m-0 fw-bold mt-1",style:{letterSpacing:"1px"},children:[e.title," ",e.address]})]})},t)}))})}),(0,u.jsxs)("div",{className:"row p-0 m-0 mt-3 ms-3 ",children:[(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"Select Channel"}),(0,u.jsxs)("div",{className:"dropdown ",children:[(0,u.jsxs)("button",{className:" button button-pearl text-charcoal fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ",v||"Select Channel"," "]}),(0,u.jsxs)("ul",{className:"dropdown-menu p-2 bg-pearl border-0 shadow-sm",children:[(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder border-bottom py-2",onClick:function(){j(1),y("Pharmacy")},children:"Pharmacy "}),(0,u.jsx)("li",{className:"text-start p-2 text-charcoal fw-bolder py-2",onClick:function(){j(2),y("Clinic")},children:"Clinic "})]})]})]}),(0,u.jsxs)("div",{className:"col-5",children:[(0,u.jsx)("div",{className:"text-charcoal75 fw-bold",htmlFor:"",children:"Dump Date"}),(0,u.jsx)("input",{type:"date",className:"button button-pearl fw-bolder tet-charcoal ",onChange:function(e){G(e.target.value)},value:T||p})]})]}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 position-absolute bottom-0 bg-pearl bottom_bar",children:(0,u.jsx)("div",{className:"row p-0 m-0 py-3 justify-content-end",children:(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("button",{className:"button button-charcoal",onMouseDown:function(){ve()},onMouseUp:function(){ge()},children:"Add Items"})})})})]}),(0,u.jsxs)("div",{className:"stage2 d-".concat(q),children:[(0,u.jsx)("div",{className:"row p-0 m-0 align-items-end align-self-end",children:(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("input",{className:"form-control fw-bold border-charcoal75 border-2 rounded-1 bg-seashell",placeholder:"Search Product by Name",value:Y||"",onChange:function(e){we(e.target.value),W(e.target.value),K(),ie(),m.current.style.display="none"}}),(0,u.jsx)("div",{ref:a,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"1"},children:Q?L?(0,u.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,u.jsx)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:(0,u.jsx)("span",{className:"sr-only",children:" "})})]}):0==L&&0==Q.length?(0,u.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:" Oops! Not Avaliable "}):(0,u.jsxs)("div",{className:"rounded-4 scroll border border-1 bg-pearl p-1 d-".concat(Q&&Q.length>0?"block":"none"),style:{height:"30vh"},children:[(0,u.jsxs)("p",{className:"text-start p-2 position-sticky top-0 bg-pearl fw-bold text-charcoal75 ms-2",style:{fontSize:"0.8rem"},children:[" ",Q.length," Search Results "]}),Q.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," text-start fw-bold p-2 border-bottom text-charcoal "),onClick:function(t){ie(e),W(e.display_name?e.display_name:e.name),K(e.id),m.current.style.display="block"},children:[" ",e.display_name?e.display_name:e.name," ",(0,u.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})," "]})}))]}):(0,u.jsx)("div",{className:"bg-seashell"})}),(0,u.jsxs)("div",{ref:m,className:"position-absolute start-50 mt-1 bg-pearl scroll scroll-y align-self-center rounded-2 border border-1 p-2 d-".concat(re&&re.stock_info&&void 0!==re.stock_info?"block":"none"),style:{zIndex:"2",width:"10rem","min-height":"30vh"},children:[(0,u.jsxs)("p",{className:"text-start fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[" ",re&&void 0!==re.stock_info?re.stock_info.length:""," "," Batch Stocks "]}),re&&0!=re.length?0==re.stock_info.length?(0,u.jsx)("div",{className:"bg-burntumber text-white fw-bold p-2",children:"Oops! Not Available"}):re.stock_info.map((function(e,t){return(0,u.jsxs)("div",{style:{cursor:"pointer",Width:"max-content"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom text-wrap"),onClick:function(){!function(e){var t="";t=e.vaccine_brand_id?"v":"m";var a={productid:e.id,type:e.type?e.type:t,product:e.item_name?e.item_name:Y,avlstock:e.current_stock,qtytoTransfer:"",mrp:e.mrp};me&&0==me.length?he([a]):he((function(e){return[].concat((0,n.Z)(e),[a])}))}(e),W(),K(),ie(),O()},children:[(0,u.jsx)("p",{className:"text-start m-0 p-0 fw-bold",children:Y}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" BatchNo. -"," "," ",e.batch_no&&null!==e.batch_no?e.batch_no:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Stock -"," "," ",e.current_stock&&e.current_stock?e.current_stock:""," "]}),(0,u.jsxs)("p",{className:"text-start p-0 m-0 ",children:[" Expiry Date -"," "," ",e.expiry_date?Te(e.expiry_date):""," "]})]})})):(0,u.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]}),(0,u.jsx)("div",{})]})}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 mt-2",children:(0,u.jsxs)("table",{className:"table p-0 m-0",children:[(0,u.jsx)("thead",{className:"p-0 m-0",children:(0,u.jsxs)("tr",{className:"p-0 m-0 ",children:[(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item ID "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Item Name "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Mrp "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Avl.Stock "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Qty To Dump "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Total "}),(0,u.jsx)("th",{className:"p-0 m-0 px-2 text-charcoal75",rowSpan:"2",children:" Delete "})]})}),me&&0!==me.length?(0,u.jsx)("tbody",{className:"p-0 m-0",children:me.map((function(e){return(0,u.jsxs)("tr",{className:"p-0 m-0 align-middle text-charcoal fw-bold",children:[(0,u.jsxs)("td",{children:[e.type," ",e.productid," "]}),(0,u.jsx)("td",{children:e.product}),(0,u.jsx)("td",{children:e.mrp}),(0,u.jsx)("td",{children:e.avlstock}),(0,u.jsxs)("td",{children:[(0,u.jsx)("input",{className:"border border-1 rounded-1 w-25 text-center p-0 m-0 bg-seashell",value:e.qtytoTransfer?e.qtytoTransfer:"",onChange:function(t){t.target.value<=e.avlstock?e.qtytoTransfer=t.target.value:k().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=function(e,t){return e?1==e||"1"==e?t=Number(t):(Number(t)*Number(e)).toFixed(2):0}(e.qtytoTransfer,e.mrp),he((function(e){return(0,n.Z)(e)}))}})," "]}),(0,u.jsx)("td",{children:e.totalamt}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"btn p-0 m-0",onClick:function(){!function(e){Se.apply(this,arguments)}(e.productid)},children:(0,u.jsx)("img",{src:"images/minus.png"})})})]})}))}):(0,u.jsx)("tbody",{className:"p-0 m-0 position-relative",children:(0,u.jsx)("tr",{className:"p-0 m-0",children:(0,u.jsx)("td",{className:"p-0 m-0 position-absolute text-charcoal75 fw-bold text-center start-0 end-0",children:" No Product Added "})})})]})}),(0,u.jsx)("div",{className:"container-fluid p-0 m-0 position-absolute bottom-0 bg-pearl bottom_bar",children:(0,u.jsxs)("div",{className:"row p-0 m-0 py-3 justify-content-between align-items-center align-self-center",children:[(0,u.jsxs)("div",{className:"col-auto",children:[(0,u.jsx)("label",{className:"fw-bolder text-charcoal75",htmlFor:"",children:"Grand Total"}),(0,u.jsx)("div",{className:"col-auto ",children:(0,u.jsxs)("h5",{className:"fw-bolder text-charcoal",children:["\u20b9",je]})})]}),(0,u.jsx)("div",{className:"col-auto",children:xe?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{className:"spinner-border",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,u.jsx)("button",{className:"button button-charcoal",onClick:function(){return(0,C.H)(),void k().Confirm.show("Add Transfer Out","Do you surely want to do the following Dump ","Yes","No",(function(){ye()}),(function(){return 0}),{})},children:"Save Dump"})})]})})]})]})}},9045:function(){}}]);
//# sourceMappingURL=391.48d81624.chunk.js.map