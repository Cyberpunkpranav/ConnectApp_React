"use strict";(self.webpackChunkconnect_app=self.webpackChunkconnect_app||[]).push([[414],{9363:function(e,t,n){n.r(t),n.d(t,{DOCTORID:function(){return I},DOCTORNAME:function(){return A},default:function(){return P}});var s=n(9439),a=n(9867),i=n(4165),l=n(5861),o=n(606),c=n(8238),r=n(6626),d=n(7992),m=n.n(d),u=n(4012),p=n(6964),h=(n(6479),n(2834)),x=function(e){(0,a.useRef)(null);var t=localStorage.getItem("ClinicId"),n=localStorage.getItem("id"),c=(0,a.useContext)(r.Jx),d=(0,a.useContext)(r.BV),p=(0,a.useContext)(r.j8),x=(0,a.useContext)(r.zS),f=(0,a.useState)([]),g=(0,s.Z)(f,2),b=g[0],j=g[1],N=(0,a.useState)(),v=(0,s.Z)(N,2),y=v[0],w=v[1],_=(0,a.useState)(t),S=(0,s.Z)(_,2),Z=S[0],k=(S[1],(0,a.useState)()),C=(0,s.Z)(k,2),D=C[0],F=C[1],A=(0,a.useState)(),I=(0,s.Z)(A,2),P=I[0],L=I[1],z=(0,a.useState)(),E=(0,s.Z)(z,2),T=(E[0],E[1],(0,a.useState)()),q=(0,s.Z)(T,2),B=q[0],G=q[1],R=(0,a.useState)(),V=(0,s.Z)(R,2),W=V[0],M=V[1],U=(0,a.useState)(),H=(0,s.Z)(U,2),O=H[0],J=H[1];function Q(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,a.useEffect)((function(){o.Z.get("".concat(c,"/clinic/list")).then((function(e){j(e.data.data)}))}),[]);var Y=(0,a.useRef)(),$=(0,a.useRef)(),K=(0,a.useState)(!1),X=(0,s.Z)(K,2),ee=X[0],te=X[1];function ne(){return(ne=(0,l.Z)((0,i.Z)().mark((function t(){var n,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(w(e.appointmentdoctorid),Y.current.value="",$.current.value=e.appointmentdoctorid,n=[],M([]),s=0;s<d.length;s++)d[s].id===Number(e.appointmentdoctorid)&&n.push(d[s].month_timeslots);M(n),te(!0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(){return(se=(0,l.Z)((0,i.Z)().mark((function t(){var n,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(J(),n=[],s=0;s<W[0].length;s++)W[0][s].date===e.appointmentdate&&n.push([W[0][s].id,W[0][s].time_from,W[0][s].booking_status]);J(n),te(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,a.useEffect)((function(){!function(){ne.apply(this,arguments)}(),Y.current.value=e.appointmentdate}),[1]),(0,a.useEffect)((function(){!function(){se.apply(this,arguments)}()}),[ee]);function ae(){return(ae=(0,l.Z)((0,i.Z)().mark((function e(t){var n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(w(t.target.value),Y.current.value="",n=[],M([]),s=0;s<d.length;s++)d[s].id===Number(t.target.value)&&n.push(d[s].month_timeslots);M(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=(0,l.Z)((0,i.Z)().mark((function e(t){var n,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(J([]),n=[],s=0;s<W[0].length;s++)W[0][s].date===t.target.value&&n.push([W[0][s].id,W[0][s].time_from,W[0][s].booking_status]);J(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(t){if(e.appointmentid&&y&&Z&&D&&n&&null!=e.patientid&&0!=e.patientid)try{G(!0),o.Z.post("".concat(c,"/update/appointment"),{appointment_id:e.appointmentid,doctor_id:y,clinic_id:Z,timeslot_id:D,patient_id:e.patientid,admin_id:n}).then((function(t){t?(e.appointmentdoctorid||e.fetchallAppointmentslist(),e.fetchapi(),m().Notify.success(t.data.message),G(!1)):(m().Notify.alert("Failed to Update"),G(!1))}))}catch(t){m().Notify.alert(t.message),G(!1)}else m().Notify.warning("Please Fill all Detais"),G(!1)}var oe=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"charcoal"},ce=function(e){for(var t=0;t<x.length;t++)if(void 0!==x[t][0]&&x[t][0]==e)return"(Aval today) "};return(0,h.jsxs)("div",{className:"p-0 m-0 text-start",children:[(0,h.jsxs)("h5",{className:"text-center p-2",children:["Update ",e.patientname," Appointment Details"]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==B,"aria-label":"Close",onClick:e.closeappointmentform}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsxs)("div",{className:"col-12 ps-1",children:[(0,h.jsx)("div",{className:"col-12 clinics bg-seashell border-0 p-2",children:b.map((function(e,n){return(0,h.jsx)("div",{className:"d-".concat(t==e.id?"block":"none"," align-items-end text-charcoal "),children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-end",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 me-1",children:(0,h.jsx)("img",{className:"img-fluid",src:"/images/location.png",style:{width:"1.3rem"}})}),(0,h.jsxs)("div",{className:"col-auto p-0 m-0 fw-bold text-wrap mb-2",style:{letterSpacing:"1px"},children:[e.title," ",e.address]})]})},n)}))}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 pe-2",children:[(0,h.jsxs)("div",{className:"col-md-4 col-sm-4 col-4",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Doctor"}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("select",{className:"col-10 form-control selectdoctor border-charcoal rounded-1 bg-seashell",ref:$,onChange:function(e){return ae.apply(this,arguments)},children:[(0,h.jsx)("option",{defaultValue:"Select Doctor bg-seashell",children:"Select Doctor"}),x?p.map((function(t,n){return(0,h.jsxs)("option",{className:" text-".concat(oe(t[0])?"pearl":oe(t[0])," bg-").concat(oe(t[0])?oe(t[0]):"seashell"),name:oe(t[0])?"Currently Avaliable":"",selected:t[0]===e.appointmentdoctorid,value:t[0],children:["Dr. ",t[1]," ",ce(t[0])]})})):(0,h.jsx)("div",{children:"Loading"})]})})]}),(0,h.jsxs)("div",{className:"col-md-auto col-auto m-0 p-0",children:[(0,h.jsx)("label",{className:"fw-bold",style:{letterSpacing:"1px"},children:"Selected Date"}),(0,h.jsx)("div",{className:" border-0 col-12 bg-seashell ",children:(0,h.jsx)("input",{type:"date",ref:Y,className:"form-control bg-seashell rounded-1 border-charcoal",onChange:function(e){return ie.apply(this,arguments)}})})]}),(0,h.jsxs)("div",{className:"col-md-3 col-sm-3 col-lg-3 col-3",children:[(0,h.jsx)("label",{className:"text-charcoal50 fw-bold",children:"Selected Time"}),(0,h.jsx)("div",{className:"col-12 p-0 m-0 selectedtime",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline rounded-1 fw-bold shadow-none",style:{letterSpacing:"1px"},children:e.appointmenttime})})]})]}),(0,h.jsx)("p",{className:"m-0 mt-2 fw-bold ps-2 pt-2",style:{letterSpacing:"1px"},children:"Select another Time Slot"}),(0,h.jsx)("div",{className:"scroll align-items-center justify-content-around col-12 ps-2",children:O&&0!==O.length?(0,h.jsxs)(h.Fragment,{children:[O.map((function(e,t){return 0==e[2]?(0,h.jsx)("button",{className:"button-sm button-".concat(P==t?"charcoal":"charcoal-outline"," px-3 py-2 rounded-1 fw-bold m-1"),style:{letterSpacing:"1px"},id:t,value:e[0],onClick:function(e){!function(e){e.preventDefault(),F(e.target.value)}(e),L(t)},children:Q(e[1])}):(0,h.jsx)("button",{disabled:!0,className:"button-sm button-charcoal50-outline rounded-1 px-3 py-2 m-1 fw-bold",style:{letterSpacing:"1px"},id:t,value:e[0],children:Q(e[1])})})),(0,h.jsxs)("button",{className:"btn btn-sm done m-1 d-none",children:[(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",className:"mb-1 me-1",style:{width:"1.2rem"}})," Time Slot"]})]}):(0,h.jsx)("div",{className:"p-2 rounded fw-bold text-burntumber bg-lightred",children:"No Time Slots Available"})}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"row m-0 p-0",children:B?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{className:"btn button-charcoal",onClick:function(t){t.preventDefault(),(0,u.H)(),m().Confirm.show("Update Appointment Details","Do you surely want to update ".concat(e.patientname," Appointment Details"),"Yes","No",(function(){le()}),(function(){return 0}),{})},children:"Update"})}),(0,h.jsx)("div",{className:"col-6 m-auto text-center",children:(0,h.jsx)("button",{type:"button",className:"button button-pearl",disabled:1==B,"aria-label":"Close",onClick:e.closeappointmentform,children:"Cancel"})})]})})]})]})},f=(n(9371),function(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(A),c=(0,a.useContext)(I),d=((0,a.useContext)(r.zS),(0,a.useContext)(r.j8),(0,a.useContext)(r.q2)),u=(0,a.useContext)(r.U8),p=localStorage.getItem("id"),x=localStorage.getItem("ClinicId"),f=(0,a.useState)(),g=(0,s.Z)(f,2),b=g[0],j=g[1],N=(0,a.useState)([]),v=(0,s.Z)(N,2),y=v[0],w=v[1],_=(0,a.useState)("none"),S=(0,s.Z)(_,2),Z=S[0],k=S[1],C=(0,a.useState)(),D=(0,s.Z)(C,2),F=D[0],P=D[1],L=(0,a.useState)(x),z=(0,s.Z)(L,2),E=z[0],T=(z[1],(0,a.useState)()),q=(0,s.Z)(T,2),B=(q[0],q[1],(0,a.useState)(!1)),G=(0,s.Z)(B,2),R=G[0],V=G[1],W=(0,a.useState)(),M=(0,s.Z)(W,2),U=M[0],H=M[1];function O(){return(O=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),j(n.target.value),e.next=4,o.Z.get("".concat(t,"/patient/list?search=").concat(b,"&limit=5&offset=0")).then((function(e){w(e.data.data.patients_list),V(!1)}));case 4:b&&b.length>1?k("block"):k("none");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h5",{className:"text-center m-0 p-0 mt-2",children:["Quick Appointment  at ",(0,h.jsx)("span",{className:" text-charcoal fw-bold border-0 fs-6",children:function(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(e.selectedtime)})]}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute top-0 mt-2",disabled:1==U,"aria-label":"Close",onClick:function(t){e.closeAddAppointmentform()}}),(0,h.jsx)("hr",{className:"p-0 m-0 mb-1"}),(0,h.jsx)("div",{className:" text-start p-0 m-0 ms-3 clinics align-items-end mb-2 fw-bold text-burntumber ",children:d.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(x==e.id?"block":"none"),children:[(0,h.jsx)("img",{src:"/images/location.png",className:" align-self-center "})," ",e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row p-0 m-0",children:[(0,h.jsxs)("div",{className:"col-5",children:[(0,h.jsx)("input",{type:"text",placeholder:"Search Patient using Number or Name",className:"form-control bg-pearl border-0",value:b||"",onChange:function(e){!function(e){O.apply(this,arguments)}(e)}}),(0,h.jsx)("div",{className:"col-6 position-absolute d-".concat(Z," bg-pearl rounded-2 shadow mt-1 pb-2 "),style:{zIndex:3},children:R?(0,h.jsx)("div",{className:" col-12 text-charcoal75 p-0 m-0 py-2 fw-bold text-start ps-2 mt-1",children:"Loading... "}):void 0!==y&&0==y.length?(0,h.jsx)("div",{className:"text-burntumber col-12 p-0 m-0 fw-bold mt-1 ps-2 pt-1",children:"Patient not found"}):(0,h.jsx)("div",{className:"mt-1 searchresult bg-pearl  col-12  ",children:y.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer"},className:"col-12 d-block p-2 fw-bold text-charcoal text-start border-bottom align-self-center",name:e.id,value:e.full_name,onClick:function(){!function(e){j(e.full_name),P(e.id),k("none")}(e)},children:[e.full_name," ",(0,h.jsx)("span",{className:"fw-bold text-burntumber",children:e.phone_number})]})}))})})]}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsxs)("div",{className:"d-flex p-0 m-0 text-start justify-content-around",children:[(0,h.jsxs)("div",{className:"button button-charcoal50-outline align-self-center ",children:[" Dr.",n]}),(0,h.jsx)("div",{className:"button button-charcoal50-outline ms-3",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(u)})]})})]}),U?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("div",{className:"col-6 donebutton py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal",onClick:function(){H(!0),F&&c&&E&&e.selectedtimeID[0]&&p?o.Z.post("".concat(t,"/add/appointment"),{patient_id:F,doctor_id:c,clinic_id:E,timeslot_id:e.selectedtimeID[0],admin_id:p}).then((function(t){m().Notify.success(t.data.message),H(!1),e.closeAddAppointmentform(),e.fetchapi()})):(m().Notify.warning("Please Fill all Detais"),H(!1))},children:" Done "})})]})}),g=function(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.U8),c=(0,a.useContext)(A),d=(0,a.useContext)(I),p=((0,a.useContext)(r.j8),(0,a.useContext)(r.q2)),x=localStorage.getItem("id"),f=localStorage.getItem("ClinicId"),g=(0,a.useState)(),b=(0,s.Z)(g,2),j=(b[0],b[1],(0,a.useState)()),N=(0,s.Z)(j,2),v=(N[0],N[1],(0,a.useState)()),y=(0,s.Z)(v,2),w=y[0],_=y[1],S=(0,a.useState)(),Z=(0,s.Z)(S,2),k=Z[0],C=Z[1],D=(0,a.useState)(f),F=(0,s.Z)(D,2),P=F[0];F[1];function L(){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)((0,i.Z)().mark((function s(){return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(d&&n&&w&&k&&P&&x)){s.next=6;break}return m().Loading.pulse({backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E"}),s.next=4,o.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:d,date:n,time_from:w,time_to:k,clinic_id:P,admin_id:x}).then((function(t){m().Loading.remove(),e.CloseAddQuickSlots(),e.fetchapi(),m().Notify.success(t.data.message)}));case 4:s.next=7;break;case 6:m().Notify.warning("Please Fill all Detais");case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:"container position-relative",children:[(0,h.jsx)("h5",{className:"text-center pt-1",children:"Quick Add TimeSlots"}),(0,h.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute","aria-label":"Close",onClick:e.CloseAddQuickSlots}),(0,h.jsx)("hr",{className:"p-0 m-0"}),(0,h.jsx)("div",{className:"col-12 text-center clinics",children:p.map((function(e,t){return(0,h.jsxs)("label",{className:"d-".concat(f==e.id?"block":"none"," img-fluid"),children:[(0,h.jsx)("img",{src:"/images/location.png"}),e.title," ",e.address]})}))}),(0,h.jsxs)("div",{className:"row mt-2 justify-content-center gx-2",children:[(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"button button-charcoal50-outline",children:c})}),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("div",{type:"date",disabled:!0,className:"form-control col-10 button button-charcoal50-outline",children:function(e){if(e)return e=e.split("-").reverse().join("-")}(n)})})]}),(0,h.jsxs)("div",{className:"row p-0 m-0 mt-2 justify-content-center",children:[(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:w||"",onChange:function(e){_(e.target.value)}})}),(0,h.jsx)("div",{className:"col-auto",children:"-"}),(0,h.jsx)("div",{className:"col-5",children:(0,h.jsx)("input",{type:"time",className:"form-control bg-seashell border-charcoal",value:k||"",onChange:function(e){C(e.target.value)}})})]}),(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("button",{className:"button button-charcoal px-5",onClick:function(){(0,u.H)(),m().Confirm.show("Update Doctor Slot","Do you surely want to add more Time Slots of Dr. ".concat(c),"Yes","No",(function(){L()}),(function(){return 0}),{})},children:" Done "})})]})},b=function(e){var t=(0,a.useContext)(r.Jx),n=localStorage.getItem("id"),c=(0,a.useContext)(r.JC),d=(0,a.useState)(),u=(0,s.Z)(d,2),x=u[0],f=u[1],g=(0,a.useState)(),b=(0,s.Z)(g,2),j=b[0],N=b[1],v=(0,a.useState)(),y=(0,s.Z)(v,2),w=y[0],_=y[1],S=(0,a.useState)(),Z=(0,s.Z)(S,2),k=Z[0],C=Z[1],D=(0,a.useState)(0),F=(0,s.Z)(D,2),A=F[0],I=F[1],P=(0,a.useState)("none"),L=(0,s.Z)(P,2),z=L[0],E=L[1],T=(0,a.useState)("block"),q=(0,s.Z)(T,2),B=q[0],G=q[1];function R(e){var t;for(var n in c)c[n].id==e&&(t=c[n].unit);return t}function V(){return(V=(0,l.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(_(!0),n.prev=1,!(x&&j&&e.appointmentid&&e.patientid)){n.next=7;break}return n.next=5,o.Z.post("".concat(t,"/save/vitals"),{vitals_id:x,value:j,appointment_id:e.appointmentid,patient_id:e.patientid}).then((function(t){H(),e.GetAppointmentVitals(e.appointmentid),m().Notify.success(t.data.message),N(),f(),U(),_(!1)}));case 5:n.next=9;break;case 7:m().Notify.warning("Please Fill all Details"),_(!1);case 9:n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),m().Notify.alert(n.t0.message),_(!1);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}function W(){return W=(0,l.Z)((0,i.Z)().mark((function n(s,a){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(s&&k&&a&&e.appointmentid&&e.patientid)){n.next=6;break}return n.next=4,o.Z.post("".concat(t,"/save/vitals"),{vitals_id:s,value:k,appointment_id:e.appointmentid,patient_id:e.patientid,old_id:a}).then((function(t){e.GetAppointmentVitals(e.appointmentid),U(),m().Notify.success(t.data.message)}));case 4:n.next=7;break;case 6:m().Notify.warning("Please Fill all Details");case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),m().Notify.alert(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])}))),W.apply(this,arguments)}function M(){return M=(0,l.Z)((0,i.Z)().mark((function n(s){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=5;break}return n.next=3,o.Z.post("".concat(t,"/remove/vitals"),{id:s}).then((function(t){200==t.status?m().Notify.success(t.data.message):m().Notify.alert("Something Went Wrong"),e.GetAppointmentVitals(e.appointmentid)}));case 3:n.next=6;break;case 5:m().Notify.alert("Delete Failed Please Try again");case 6:case"end":return n.stop()}}),n)}))),M.apply(this,arguments)}function U(){"none"==B&&(G("block"),E("none"),I())}function H(){return O.apply(this,arguments)}function O(){return(O=(0,l.Z)((0,i.Z)().mark((function s(){return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,p.Loading.circle("Upadating Appointment Status",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),s.next=4,o.Z.post("".concat(t,"/appointment/change/status"),{appointment_id:e.appointmentid,status:6,admin_id:n}).then((function(t){e.Appointmentlist(),p.Loading.remove()}));case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(0),m().Notify.failure(s.t0.message);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:"container-fluid col-lg-10 col-md-11 px-0 col-sm-12 col-12 col-xl-10 bg-seashell rounded-2 position-relative pb-4 pt-0",children:[(0,h.jsxs)("div",{className:"shadow-sm pt-2 pb-2",children:[(0,h.jsxs)("h5",{className:"text-center p-0 m-0 fw-bold",children:[e.patientname," Vitals"]}),(0,h.jsx)("button",{className:" btn-close position-absolute top-0 end-0 m-1 me-2 pt-3",disabled:!!e.loadvitals,onClick:e.CloseVitals}),(0,h.jsx)("button",{className:"btn p-0 m-0 position-absolute top-0 start-0 ms-2 mt-1",onClick:function(){e.GetAppointmentVitals(e.appointmentid),U()},children:(0,h.jsx)("img",{src:"/images/refresh.png",className:"img-fluid",style:{width:"1.2rem"}})})]}),e.loadvitals?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):0==e.appointmentvitalslist.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"bg-lightred p-2 mb-2 text-center align-items-center ",children:(0,h.jsx)("h6",{className:"text-center text-charcoal-75 fw-bold mb-0",children:"No Vitals Added"})})}):e.appointmentvitalslist.map((function(e,t){return(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsx)("select",{className:"form-control text-center border border-1 p-0 border-0 bg-seashell",value:e.id?e.id:"",children:(0,h.jsx)("option",{value:e.id,children:e.vital.title})})}),(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==A?B:"block"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",disabled:!0,value:e.value})}),t==A?(0,h.jsx)("div",{className:"col-2 text-center d-".concat(t==A?z:"none"),children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center py-0 ",onChange:function(e){return C(e.target.value)}})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-1 p-0 m-0",children:e.vital.id?(0,h.jsx)("p",{className:"p-0 m-0  text-charcoal text-center align-self-center",children:R(e.vital.id)}):(0,h.jsx)("p",{className:"text-charcoal text-center align-self-center",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2 d-".concat(t==A?B:"block"),children:(0,h.jsx)("button",{className:"button py-0 button-lightbrown",value:e.id,onClick:function(){"none"==z&&(E("block"),G("none"),C()),I(t)},children:"Edit"})}),t==A?(0,h.jsx)("div",{className:"col-2 d-".concat(t==A?z:"none"),children:(0,h.jsx)("button",{className:"button py-0 button-lightgreen",onClick:function(){!function(e,t){W.apply(this,arguments)}(e.vital.id,e.id)},children:"Save"})}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"col-auto me-5",children:(0,h.jsx)("button",{className:"btn p-0 m-0",children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.3rem"},onClick:function(){return function(e){return M.apply(this,arguments)}(e.id)}})})})]})})})),(0,h.jsx)("div",{className:"container-fluid mt-2",children:w?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsxs)("div",{className:"row justify-content-end align-items-center",children:[(0,h.jsx)("div",{className:"col-3",children:(0,h.jsxs)("select",{className:"form-control p-0 border-0 text-center bg-seashell",value:x||"",onChange:function(e){f(e.target.value)},children:[(0,h.jsx)("option",{children:"Select Vitals"}),c.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.title})}))]})}),(0,h.jsx)("div",{className:"col-2",children:(0,h.jsx)("input",{className:"form-control bg-seashell text-center p-0 border-start-0 border-end-0 border-top-0 border-bottom-burntumber",value:j||"",onChange:function(e){N(e.target.value)}})}),(0,h.jsx)("div",{className:"col-1 p-0 m-0 ",children:x?(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:R(x)}):(0,h.jsx)("p",{className:"text-charcoal text-center p-0 m-0",children:"Unit"})}),(0,h.jsx)("div",{className:"col-2",children:w?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"btn py-0 button-burntumber",onClick:function(){return V.apply(this,arguments)},children:"Add"})}),(0,h.jsx)("div",{className:"col-auto me-5",children:(0,h.jsx)("button",{className:"btn p-0 m-0 ",style:{opacity:"0"},children:(0,h.jsx)("img",{src:"/images/delete.png",className:"img-fluid",style:{width:"1.3rem"}})})})]})}),(0,h.jsx)("div",{className:"container text-center mt-3",children:(0,h.jsx)("button",{className:"button button-charcoal mx-auto",onClick:e.CloseVitals,children:"Done"})})]})},j=n(5270),N=n(7001),v=n(3433),y=function(e){(0,a.useRef)(null),(0,a.useContext)(r.q2);var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.j8),c=localStorage.getItem("ClinicId"),d=(0,a.useRef)(null),p=(0,a.useRef)(null),x=((0,a.useRef)(null),(0,a.useRef)(null)),f=(0,a.useState)(),g=(0,s.Z)(f,2),b=(g[0],g[1],(0,a.useState)()),j=(0,s.Z)(b,2),N=j[0],y=(j[1],(0,a.useState)()),w=(0,s.Z)(y,2),_=(w[0],w[1]),S=(0,a.useState)(),Z=(0,s.Z)(S,2),k=(Z[0],Z[1],(0,a.useState)(c)),C=(0,s.Z)(k,2),D=(C[0],C[1],(0,a.useState)()),F=(0,s.Z)(D,2),A=(F[0],F[1],(0,a.useState)(0)),I=(0,s.Z)(A,2),P=(I[0],I[1],(0,a.useState)(0)),L=(0,s.Z)(P,2),z=(L[0],L[1],(0,a.useState)()),E=(0,s.Z)(z,2),T=E[0],q=E[1],B=(0,a.useState)(!1),G=(0,s.Z)(B,2),R=(G[0],G[1],(0,a.useState)([])),V=(0,s.Z)(R,2),W=V[0],M=V[1],U=(0,a.useState)([]),H=(0,s.Z)(U,2),O=H[0],J=H[1],Q=(0,a.useState)([]),Y=(0,s.Z)(Q,2),$=Y[0],K=Y[1],X=(0,a.useState)(),ee=(0,s.Z)(X,2),te=ee[0],ne=ee[1],se=(0,a.useState)(),ae=(0,s.Z)(se,2),ie=ae[0],le=ae[1],oe=(0,a.useState)(),ce=(0,s.Z)(oe,2),re=ce[0],de=ce[1],me=(0,a.useState)([]),ue=(0,s.Z)(me,2),pe=ue[0],he=ue[1],xe=(0,a.useState)(),fe=(0,s.Z)(xe,2),ge=fe[0],be=fe[1],je=(0,a.useState)(),Ne=(0,s.Z)(je,2),ve=Ne[0],ye=Ne[1],we=(0,a.useState)(),_e=(0,s.Z)(we,2),Se=_e[0],Ze=_e[1],ke=(0,a.useState)("none"),Ce=(0,s.Z)(ke,2),De=(Ce[0],Ce[1],(0,a.useState)(e.appointmentdata.nursing_notes?e.appointmentdata.nursing_notes:"")),Fe=(0,s.Z)(De,2),Ae=Fe[0],Ie=Fe[1],Pe=(0,a.useState)(!1),Le=(0,s.Z)(Pe,2),ze=Le[0],Ee=Le[1],Te=(0,a.useState)(!1),qe=(0,s.Z)(Te,2),Be=qe[0],Ge=qe[1],Re=(0,a.useState)(),Ve=(0,s.Z)(Re,2),We=Ve[0],Me=Ve[1],Ue=function(e){if(e)return e=e.split("-").reverse().join("-")},He=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),e.prev=1,e.next=4,o.Z.get("".concat(t,"/stock/list?search=").concat(n,"&location_id=").concat(c)).then((function(e){var t=[],s=[],a=[];t.push(e.data.data.medicines?e.data.data.medicines:[]),s.push(e.data.data.vaccines?e.data.data.vaccines:[]),a=(a=t.concat(s)).flat(),J(a),Ze(!1),n.length>1?d.current.style.display="block":d.current.style.display="none"}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m().Notify.warning(e.t0.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=11;break}return ne(!0),e.prev=2,e.next=5,o.Z.get("".concat(t,"/sale/item/search/by/id?item=").concat(n)).then((function(e){ne(!1),K([e.data.data])}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),ne(!1),m().Notify.failure(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();function Je(e,t,n){var s=t;return Number(n)>Number(s)&&m().Notify.failure("Selling Cost should not less than Cost"),e?1==e?t=Number(t):s=(s=Number(t)*Number(e)).toFixed(2):0}function Qe(e){var t="";t=e.vaccine_brand_id?"v":"m";var n={productid:e.id,type:e.type?e.type:t,product:e.item_name?e.item_name:ie,batch:e.batch_no,expiry:e.expiry_date,quantity:e.current_stock,qtytoSale:1,discount:0,cost:e.cost,mainmrp:e.mrp,disccost:e.mrp,gst:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate),totalamt:e.mrp};pe&&0==pe.length?he([n]):he((function(e){return[].concat((0,v.Z)(e),[n])}))}function Ye(){return(Ye=(0,l.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=[]).push(pe.filter((function(e){return e.batch!==t}))),n=n.flat(),he(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return($e=(0,l.Z)((0,i.Z)().mark((function n(){var s,a,l,c,r,d,u,p,h;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(s=[],a=[],l=[],c=[],r=[],d=[],u=[],p=0;p<pe.length;p++)s.push(pe[p].type+pe[p].productid),a.push(pe[p].qtytoSale),l.push(pe[p].discount),c.push(pe[p].disccost),r.push(pe[p].mainmrp),d.push(pe[p].gst),u.push(pe[p].totalamt);return h={pro_id:s,qty:a,discount:l,disc_mrp:c,main_mrp:r,gst:d,total_amount:u,appointment_id:e.appointmentid},q(!0),n.prev=10,n.next=13,o.Z.post("".concat(t,"/save/consumable"),h).then((function(t){q(!1),1==t.data.status?(Xe(),m().Notify.success(t.data.message),e.Appointmentlist(),he([])):m().Notify.warning(t.data.message)})).catch((function(e){m().Notify.failure(e.message),q(!1)}));case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(10),m().Notify.failure(n.t0.message),q(!1);case 19:case"end":return n.stop()}}),n,null,[[10,15]])})))).apply(this,arguments)}function Ke(){(0,u.H)(),m().Confirm.show("Save Sale Entry","Do you surely want to add total ".concat(pe.length," Sale ").concat(pe.length<=1?"entry":"entries","  "),"Yes","No",(function(){!function(){$e.apply(this,arguments)}()}),(function(){return 0}),{})}(0,a.useEffect)((function(){n.map((function(e){return e[0]==N?_(e[1]):""}))}),[N]),(0,a.useEffect)((function(){!function(){var e=0;pe.map((function(t){return e+=Number(t.totalamt)})),be(e.toFixed(2))}()}),[pe]),(0,a.useEffect)((function(){!function(){var t=0;e.existedconsumables.map((function(e){return t+=Number(e.total_amount)})),ye(t.toFixed(2))}()}),[e.existedconsumables]);var Xe=function(){var n=(0,l.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Ge(!0),n.next=4,o.Z.post("".concat(t,"/save/nursing/notes"),{appointment_id:e.appointmentid,notes:Ae}).then((function(t){m().Notify.success(t.data.message),e.Appointmentlist(),Ge(!1)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),Ge(!1),m().Notify.warning(n.t0.data.message);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),et=function(){var n=(0,l.Z)((0,i.Z)().mark((function n(s){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Ee(!0),n.prev=1,n.next=4,o.Z.post("".concat(t,"/remove/consumable"),{id:s}).then((function(t){Ee(!1),e.Appointmentlist(),m().Notify.success(t.data.message)}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),Ee(!1),m().Notify.warning(n.t0.data.message);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"container-fluid bg-seashell rounded-2 px-0 position-relative mx-auto col-lg-11 col-md-11 col-sm-11 col-11 col-xl-9","style-":{height:"70vh"},children:[(0,h.jsxs)("div",{className:"position-relative mb-3 text-center shadow-sm",children:[(0,h.jsxs)("h5",{className:"text-start text-charcoal text-center fw-bold py-2 ",children:[e.patientname," Consumables"]}),(0,h.jsx)("button",{className:"btn btn-close position-absolute p-1 m-0 end-0 top-0 me-2 pt-4",disabled:!!T,onClick:e.toggleConsumables})]}),(0,h.jsxs)("div",{className:"container-fluid text-start p-0 m-0 mt-3",children:[(0,h.jsx)("div",{className:"col-12 justify-content-center",children:(0,h.jsxs)("div",{className:"row p-0 m-0 my-2 justify-content-start",children:[(0,h.jsxs)("div",{className:"col-4 position-relative",children:[(0,h.jsx)("input",{className:"form-control bg-seashell fw-bold p-2 border-charcoal",placeholder:"Search by Name",value:ie||"",onChange:function(e){He(e.target.value),le(e.target.value),de(),M(),x.current.style.dispzzzlay="none"}}),(0,h.jsx)("div",{className:"position-absolute mt-1 bg-raffia",children:(0,h.jsxs)("div",{className:"position-relative ",style:{width:"30vh"},children:[(0,h.jsx)("div",{ref:d,className:"position-absolute scroll scroll-y rounded-1 ",style:{Width:"max-content",zIndex:"1",maxHeight:"40vh"},children:O?Se?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==Se&&0==O.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):(0,h.jsxs)("div",{className:"rounded-1 border border-1 bg-pearl p-1 d-".concat(O&&O.length>0?"block":"none"),children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75 ms-1",style:{fontSize:"0.8rem"},children:[O.length," Search Results"]}),O.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",Width:"10rem"},className:"bg-".concat(t%2==0?"pearl":"seashell"," p-1 py-3 fw-bold border-bottom text-charcoal "),onClick:function(t){M(e),le(e.display_name?e.display_name:e.name),de(e.id),x.current.style.display="block"},children:[e.display_name?e.display_name:e.name,(0,h.jsxs)("span",{className:"text-burntumber fw-bold rounded-2 px-1",children:[e&&void 0!==e.stock_info?e.stock_info.length:""," stocks"]})]})}))]}):(0,h.jsx)("div",{className:"bg-seashell"})}),(0,h.jsxs)("div",{ref:x,className:"position-absolute start-100 bg-pearl px-3 scroll scroll-y align-self-center rounded-1 border border-1 p-1 d-".concat(W&&W.stock_info&&void 0!==W.stock_info?"block":"none"),style:{marginTop:"0rem",zIndex:"2",width:"22vh","min-width":"30vh",height:"40vh"},children:[(0,h.jsxs)("p",{className:"text-start m-1 fw-bold text-charcoal75",style:{fontSize:"0.8rem"},children:[W&&void 0!==W.stock_info?W.stock_info.length:""," Batch Stocks"]}),W&&0!==W.length?W&&0==W.stock_info.length?(0,h.jsx)("div",{className:"text-white bg-burntumber p-2",children:"Oops ! Not Available"}):W.stock_info.map((function(e,t){return(0,h.jsxs)("div",{style:{cursor:"pointer",marginTop:"2%"},className:"bg-".concat(t%2==0?"pearl":"seashell"," border-bottom p-2"),onClick:function(){Qe(e),le(),de(),M(),J()},children:[(0,h.jsx)("h6",{className:"text-start m-0 p-0 fw-bold text-wrap",children:ie}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["BatchNo. - ",(0,h.jsx)("span",{className:"fw-bold",children:e.batch_no&&null!==e.batch_no?e.batch_no:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Stock - ",(0,h.jsx)("span",{className:"fw-bold",children:e.current_stock&&e.current_stock?e.current_stock:""})]}),(0,h.jsxs)("p",{className:"p-0 m-0 px-1",children:["Expiry Date - ",(0,h.jsx)("span",{className:"fw-bold",children:e.expiry_date?Ue(e.expiry_date):""})]})]})})):(0,h.jsx)("div",{className:"bg-seashell p-2",children:"Not Avaliable"})]})]})})]}),(0,h.jsx)("div",{className:"col-auto text-burntumber text-center fw-bold align-self-center",children:" OR "}),(0,h.jsxs)("div",{className:"col-4 ",children:[(0,h.jsx)("input",{className:"form-control bg-seashell border border-1 rounded-2 text-charcoal p-2 fw-bold border-charcoal",value:re||"",placeholder:"Search by ID",onChange:function(e){Oe(e.target.value),de(e.target.value),p.current.style.display="block"}}),(0,h.jsx)("div",{ref:p,className:"position-absolute rounded-1 mt-1",style:{Width:"max-content",zIndex:"2"},children:$?te?(0,h.jsxs)("div",{className:"rounded-1 p-1 bg-pearl",children:["Searching Please wait....",(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"1rem",height:"1rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only",children:" "})," "]})]}):0==te&&0==$.length?(0,h.jsx)("div",{className:"bg-burntumber text-light rounded-1 p-1",children:"Oops! Not Avaliable"}):$.map((function(e,t){return(0,h.jsx)("div",{style:{cursor:"pointer",Width:"max-content"},className:"p-0 p-1 rounded-pill shadow bg-".concat(t%2==0?"pearl":"seashell"),onClick:function(t){de(e.type+e.id),Qe(e),p.current.style.display="none"},children:e.item_name?e.item_name:""})})):(0,h.jsx)("div",{className:"bg-seashell"})})]})]})}),(0,h.jsxs)("div",{className:"col-12 m-0 p-0",children:[(0,h.jsx)("div",{className:"d-flex justify-content-between"}),(0,h.jsx)("div",{className:"scroll scroll-y",style:{height:"40vh"},children:(0,h.jsxs)("table",{className:"table",children:[(0,h.jsx)("thead",{className:" bg-seashell position-sticky top-0",children:(0,h.jsxs)("tr",{className:"",children:[(0,h.jsx)("th",{className:"",children:"Item ID"}),(0,h.jsx)("th",{className:"",children:"Item Name"}),(0,h.jsx)("th",{className:"",children:"BatchNo."}),(0,h.jsx)("th",{className:"",children:"Expiry Date"}),(0,h.jsx)("th",{className:"",children:"Avl.Stock"}),(0,h.jsx)("th",{className:"",children:"Qty To Sale"}),(0,h.jsx)("th",{className:"",children:"Discount %"}),(0,h.jsx)("th",{className:"",children:"MRP"}),(0,h.jsx)("th",{className:"",children:"Cost"}),(0,h.jsx)("th",{className:"",children:"GST Rate"}),(0,h.jsx)("th",{className:"",children:"Selling Cost/Unit"}),(0,h.jsx)("th",{className:"",children:"Total Amount"}),(0,h.jsx)("th",{className:"",children:"Delete"})]})}),pe&&0!==pe.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-pearl",children:pe.map((function(e){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:[e.type,e.productid]}),(0,h.jsx)("td",{children:e.product}),(0,h.jsx)("td",{children:e.batch}),(0,h.jsx)("td",{children:Ue(e.expiry)}),(0,h.jsx)("td",{children:e.quantity}),(0,h.jsxs)("td",{children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-50 py-1 p-0 text-center bg-seashell",value:e.qtytoSale?e.qtytoSale:"",onChange:function(t){t.target.value<=e.quantity?e.qtytoSale=t.target.value:m().Notify.failure("Quantity Cannot be Greater then Current Stock Available"),e.totalamt=Je(e.qtytoSale,e.disccost),he((function(e){return(0,v.Z)(e)}))}})," "]}),(0,h.jsxs)("td",{children:[(0,h.jsx)("input",{className:"border border-1 rounded-1 w-50 py-1 p-0 text-center bg-seashell",value:e.discount?e.discount:"",onChange:function(t){var n,s;e.discount=t.target.value,e.disccost=(n=e.mainmrp,(s=t.target.value)?(Number(n)-Number(n)*Number(s)/100).toFixed(2):Number(n)),e.totalamt=Je(e.qtytoSale,Number(e.disccost),Number(e.cost)),he((function(e){return(0,v.Z)(e)}))}})," "]}),(0,h.jsxs)("td",{children:["\u20b9",e.mainmrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.cost]}),(0,h.jsx)("td",{children:e.gst+"%"}),(0,h.jsxs)("td",{children:["\u20b9",e.disccost]}),(0,h.jsxs)("td",{children:["\u20b9",e.totalamt]}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{src:"images/delete.png",className:"img-fluid",onClick:function(){!function(e){Ye.apply(this,arguments)}(e.batch)}})})]})}))}):e.existedconsumables&&0==e.existedconsumables.length?(0,h.jsx)("tbody",{className:"p-0 m-0 bg-seashell",children:(0,h.jsx)("tr",{className:"p-0 m-0 text-center",children:(0,h.jsx)("td",{className:"position-absolute text-charcoal75 fw-bold start-0 end-0",children:"No Consumabels Added"})})}):(0,h.jsx)(h.Fragment,{}),e.existedconsumables&&0==e.existedconsumables.length?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("tbody",{className:"position-relative bg-seashell",children:e.existedconsumables.map((function(e,t){return(0,h.jsxs)("tr",{className:"align-middle bg-".concat(Number(e.disccost)<Number(e.cost)?"lightred50":""),children:[(0,h.jsxs)("td",{children:["m",e.medicies_stocks_id]}),(0,h.jsx)("td",{children:e.medicine.display_name}),(0,h.jsx)("td",{children:e.medicine_stocks.batch_no}),(0,h.jsx)("td",{children:Ue(e.medicine_stocks.expiry_date)}),(0,h.jsx)("td",{}),(0,h.jsx)("td",{children:e.qty}),(0,h.jsxs)("td",{className:"text-start p-0 m-0 ps-4",children:[e.discount," "]}),(0,h.jsxs)("td",{children:["\u20b9",e.main_mrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.medicine_stocks.cost]}),(0,h.jsx)("td",{children:Number(e.CGST_rate)+Number(e.SGST_rate)+Number(e.IGST_rate)+"%"}),(0,h.jsxs)("td",{children:["\u20b9",e.disc_mrp]}),(0,h.jsxs)("td",{children:["\u20b9",e.total_amount]}),(0,h.jsx)("td",{children:ze&&We==t?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("img",{src:"images/delete.png",className:"img-fluid",onClick:function(){Me(t),et(e.id)}})})]})}))})]})})]}),(0,h.jsxs)("div",{className:"container",style:{height:"30vh",paddingBottom:"10vh"},children:[(0,h.jsx)("h6",{className:"fw-bold p-0 m-0 ps-0 ms-0 my-2",children:"Nurse notes"}),Be?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("textarea",{className:"col-12 form-control w-100",value:Ae||"",onChange:function(e){return Ie(e.target.value)},style:{width:"95vh",height:"10vh"}})]})]}),(0,h.jsx)("div",{className:"col-12 position-absolute start-0 end-0 bottom-0 py-3 border border-1 text-start bg-pearl align-items-center rounded-bottom",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center justify-content-between",children:[(0,h.jsx)("div",{className:"col-6 col-md-4",children:(0,h.jsxs)("div",{className:"row ",children:[(0,h.jsxs)("div",{className:"col-5 ms-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start",children:" Order Total "}),pe&&0!=pe.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:["\u20b9",ve]}),(0,h.jsxs)("p",{className:"text-success fw-bolder card-header text-start",children:["+\u20b9",ge]})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("hr",{className:"p-0 m-0 py-1 mt-1 ps-3"}),(0,h.jsxs)("h6",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:["\u20b9",(Number(ge)+Number(ve)).toFixed(2)]})]}),(0,h.jsxs)("div",{className:"col-5 ms-3",children:[(0,h.jsx)("p",{className:"text-charcoal75 fw-bolder card-title text-start",children:" Total Items"}),pe&&0!=pe.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-charcoal fw-bolder card-header text-start ms-2",children:e.existedconsumables&&e.existedconsumables.length?e.existedconsumables.length:0}),(0,h.jsxs)("p",{className:"text-success fw-bolder card-header text-start",children:["+",pe&&pe.length?pe.length:0]})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("hr",{className:"p-0 m-0 py-1 mt-1"}),(0,h.jsx)("h6",{className:"text-charcoal  fw-bolder card-header text-start ms-2",children:e.existedconsumables&&e.existedconsumables.length||pe&&pe.length?pe.length+e.existedconsumables.length:0})]})]})}),(0,h.jsx)("div",{className:"col-6 col-md-8",children:(0,h.jsxs)("div",{className:"row p-0 m-0 justify-content-end ",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0 align-self-center",children:Be?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"button button-seashell px-5 me-2",onClick:function(){(0,u.H)(),m().Confirm.show("Save Sale Entry","Do you surely want to save the following Note","Yes","No",(function(){Xe()}),(function(){return 0}),{})},children:"Save Notes"})}),(0,h.jsx)("div",{className:"col-auto p-0 m-0 align-self-center",children:T?(0,h.jsx)("div",{className:"col-6 py-2 pb-2 me-3 m-auto text-start",children:(0,h.jsx)("div",{class:"spinner-border",role:"status",children:(0,h.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,h.jsx)("button",{className:"button button-charcoal px-5 me-2",onClick:function(){Ke()},children:"Save All"})})]})})]})})]})},w=n(1391),_=n(2627),S=n(6692),Z=n(6309);function k(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.U8),d=(0,a.useContext)(r.Pl),v=localStorage.getItem("id"),k=localStorage.getItem("ClinicId"),C=(0,a.useState)([]),D=(0,s.Z)(C,2),F=D[0],A=D[1],I=(0,a.useState)(0),P=(0,s.Z)(I,2),L=P[0],z=P[1],E=(0,a.useState)(!1),T=(0,s.Z)(E,2),q=T[0],B=T[1],G=(0,a.useState)(),R=(0,s.Z)(G,2),V=R[0],W=R[1],M=(0,a.useState)("none"),U=(0,s.Z)(M,2),H=U[0],O=U[1],J=(0,a.useState)("none"),Q=(0,s.Z)(J,2),Y=Q[0],$=Q[1],K=(0,a.useState)(),X=(0,s.Z)(K,2),ee=(X[0],X[1]),te=(0,a.useState)(),ne=(0,s.Z)(te,2),se=ne[0],ae=ne[1],ie=(0,a.useState)(),le=(0,s.Z)(ie,2),oe=le[0],ce=le[1],re=(0,a.useState)(),de=(0,s.Z)(re,2),me=de[0],ue=de[1],pe=(0,a.useState)("none"),he=(0,s.Z)(pe,2),xe=he[0],fe=he[1],ge=(0,a.useState)("none"),be=(0,s.Z)(ge,2),je=be[0],Ne=be[1],ve=(0,a.useState)("none"),ye=(0,s.Z)(ve,2),we=ye[0],_e=ye[1],Se=(0,a.useState)(),Ze=(0,s.Z)(Se,2),ke=Ze[0],Ce=Ze[1],De=(0,a.useState)([]),Fe=(0,s.Z)(De,2),Ae=Fe[0],Ie=Fe[1],Pe=(0,a.useState)(),Le=(0,s.Z)(Pe,2),ze=Le[0],Ee=Le[1],Te=(0,a.useState)(),qe=(0,s.Z)(Te,2),Be=qe[0],Ge=qe[1],Re=(0,a.useState)("none"),Ve=(0,s.Z)(Re,2),We=Ve[0],Me=Ve[1],Ue=(0,a.useState)(),He=(0,s.Z)(Ue,2),Oe=He[0],Je=He[1],Qe=(0,a.useState)(),Ye=(0,s.Z)(Qe,2),$e=Ye[0],Ke=Ye[1],Xe=(0,a.useState)("none"),et=(0,s.Z)(Xe,2),tt=et[0],nt=et[1],st=(0,a.useState)(),at=(0,s.Z)(st,2),it=(at[0],at[1]),lt=(0,a.useState)("none"),ot=(0,s.Z)(lt,2),ct=ot[0],rt=ot[1],dt=(0,a.useState)(),mt=(0,s.Z)(dt,2),ut=mt[0],pt=mt[1],ht=(0,a.useState)(),xt=(0,s.Z)(ht,2),ft=xt[0],gt=xt[1],bt=(0,a.useState)([]),jt=(0,s.Z)(bt,2),Nt=jt[0],vt=jt[1],yt=function(){"block"===H&&(O("none"),W())};function wt(){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)((0,i.Z)().mark((function s(){return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return B(!0),p.Loading.dots("Getting Details",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),s.next=4,o.Z.get("".concat(t,"/appointment/list?clinic_id=").concat(k,"&doctor_id=").concat(e.todayDoc[e._selected][0],"&from_date=").concat(n,"&to_date=").concat(n)).then((function(e){A(e.data.data&&void 0!=e.data.data?e.data.data:[])}));case 4:B(!1),p.Loading.remove(),z(1);case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}function St(){return(St=(0,l.Z)((0,i.Z)().mark((function s(){return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return B(!0),p.Loading.dots("Getting Details",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),s.next=4,o.Z.get("".concat(t,"/appointment/list?clinic_id=").concat(k,"&from_date=").concat(n,"&to_date=").concat(n)).then((function(t){e.get_appointment_data(t.data.data&&void 0!=t.data.data?t.data.data:[])}));case 4:B(!1),p.Loading.remove(),z(1);case 7:case"end":return s.stop()}}),s)})))).apply(this,arguments)}function Zt(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}(0,a.useEffect)((function(){!function(){St.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){wt()}),[e._selected]);var kt=[[1,"lightred"],[2,"lightblue"],[3,"lightred"],[4,"light"],[5,"brandy"],[6,"lightred"],[7,"lightyellow"],[8,"lightgreen"],[9,"lightyellow"],[10,"lightgreen"]];function Ct(e){var t;if(void 0!=Nt&&Nt.length>0)for(var n=0;n<Nt.length;n++)if(e==Nt[n].id){t=Nt[n].title;break}return t}function Dt(e){for(var t,n=0;n<kt.length;n++)if(e==kt[n][0]){t=kt[n][1];break}return t}function Ft(){return(Ft=(0,l.Z)((0,i.Z)().mark((function n(s){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.target.value&&v&&s.target.name)){n.next=12;break}return n.prev=1,p.Loading.circle("Upadating Appointment Status",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),n.next=5,o.Z.post("".concat(t,"/appointment/change/status"),{appointment_id:s.target.name,status:s.target.value,admin_id:v}).then((function(t){wt(),p.Loading.remove(),e.fetchapi(),m().Notify.success(t.data.message)})).catch((function(e){p.Loading.remove(),m().Notify.failure(e.message)}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),m().Notify.failure(n.t0.message);case 10:n.next=13;break;case 12:m().Notify.alert("Please try Again");case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))).apply(this,arguments)}var At=function(){$("none"),ae()};function It(){"block"===je&&(Ne("none"),Ce())}function Pt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),e.next=3,o.Z.get("".concat(t,"/appointment/vitals/list?appointment_id=").concat(n)).then((function(e){Ie(e.data.data.vitals),Ee(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(){return(zt=(0,l.Z)((0,i.Z)().mark((function e(n,s){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m().Loading.dots("Sending",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.3rem"}),e.prev=1,e.next=4,o.Z.post("".concat(t,"/appointment/call/in"),{appointment_id:s,admin_id:v}).then((function(e){m().Notify.success(e.data.message.slice(0,-1)+" to "+n),m().Loading.remove()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m().Loading.remove(),m().Notify.warning(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var Et=function(e,t){(0,u.H)(),m().Confirm.show("Call Patient ","Do you surely want to call ".concat(e),"Yes","No",(function(){!function(e,t){zt.apply(this,arguments)}(e,t)}),(function(){return 0}),{})};function Tt(){"block"==We&&(Me("none"),Ge())}function qt(){"none"===tt&&nt("block")}function Bt(){"block"===tt&&(nt("none"),Je())}function Gt(){"block"===tt&&(nt("none"),Ke())}var Rt=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().Loading.circle("Generating Bill",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{o.Z.post("".concat(t,"/appointment/bill"),{appointment_id:n,admin_id:v}).then((function(e){m().Loading.remove(),m().Notify.success(e.data.message),wt(),window.open(e.data.data.bill_url,"_blank","noreferrer")})).catch((function(e){m().Loading.remove(),m().Notify.failure(e.message)}))}catch(s){m().Loading.remove(),m().Notify.failure(s.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m().Loading.circle("Generating Prescription",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"}),e.next=4,o.Z.post("".concat(t,"/swift/pdf"),{appointment_id:n}).then((function(e){m().Loading.remove(),m().Notify.success(e.data.message),window.open(e.data.data.prescription_pdf,"_blank","noreferrer"),wt()})).catch((function(e){m().Loading.remove(),m().Notify.failure(e.message)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),m().Loading.remove(),m().Notify.failure(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n,s,a){var l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a,void 0==s||null==s)m().Notify.failure("Please Add a Phone Number to send the message on WhatsApp");else{m().Loading.circle("Sending Bill on Whats App",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{o.Z.post("".concat(t,"/send/bill/whatsapp"),{appointment_id:n,check_pres:l,admin_id:v}).then((function(e){m().Notify.success("".concat(e.data.message).concat(1==l?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(i){m().Notify.failure(i.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),Mt=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n,s,a){var l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a,void 0==s||null==s)m().Notify.failure("Please Add a Phone Number to send the message on SMS");else{m().Loading.circle("Sending Bill on SMS",{backgroundColor:"rgb(242, 242, 242,0.5)",svgColor:"#96351E",messageColor:"#96351E",messageFontSize:"1.5rem"});try{o.Z.post("".concat(t,"/send/bill/sms"),{appointment_id:n,check_bill:1,check_pre:l}).then((function(e){m().Notify.success("".concat(e.data.message).concat(1==l?" with Prescription":" without Prescription")),m().Loading.remove()}))}catch(i){m().Notify.failure(i.message),m().Loading.remove()}}case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),Ut=function(){"none"===we&&_e("block"),"block"===we&&(_e("none"),ue())},Ht=function(){"none"===ct&&rt("block"),"block"===ct&&(rt("none"),ce())},Ot=function(){pt()},Jt=function(){gt()};function Qt(){return(Qt=(0,l.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==Nt||0!=Nt.length){e.next=5;break}return e.next=3,(0,Z.Ow)();case 3:t=e.sent,vt(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){Qt.apply(this,arguments)}()})),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{id:"doctorscheduledata",children:[(0,h.jsx)("section",{className:"timeslotsection",children:(0,h.jsxs)("div",{className:"container-fluid p-0 m-0 ps-1 ",children:[(0,h.jsx)("div",{className:"row p-0 m-0",children:(0,h.jsx)("div",{className:" col-12 p-0 m-0 align-items-center",children:(0,h.jsxs)("div",{className:"row align-items-center p-0 m-0 mt-3 mb-2 ms-0",children:[(0,h.jsx)("div",{className:"col-auto p-0 m-0",children:(0,h.jsx)("h6",{className:"p-0 m-0 text-charcoal fw-bolder text-start",children:"Time Slots Avaliable"})}),(0,h.jsxs)("div",{className:"col-2 ps-1",children:[(0,h.jsx)("button",{className:"btn m-0 p-0",children:(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image",onClick:function(){"none"===xe&&fe("block")}})}),(0,h.jsx)("div",{className:"d-".concat(xe," rounded-1 quickdocslots bg-seashell shadow col-lg-6 col-md-8 col-sm-12 col-12 col-xl-4 position-absolute end-0 start-0 top-0 m-auto mt-3"),style:{zIndex:"3010",minWidth:"10rem",maxWidth:"30rem"},children:(0,h.jsx)(g,{CloseAddQuickSlots:function(){"block"===xe&&fe("none")},fetchapi:e.fetchapi,DocClinic:e.DocClinic,DoctorID:e.DoctorID,DoctorName:e.DoctorName})})]})]})})}),(0,h.jsx)("div",{className:"scroll timeslots col-12 justify-content-around",children:e.todayDoc[e._selected][3].map((function(t,n){return 0==t[1]?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"button-sm button-".concat(se==n?"charcoal":"charcoal-outline"," m-1 px-3 py-2 fw-bold rounded-1"),style:{letterSpacing:"1px"},onClick:function(e){$("block"),ae(n)},children:Zt(t[0])},n),se==n?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"d-".concat(se==n?Y:"none"," col-lg-8 col-md-10 col-sm-12 col-12 col-xl-6 shadow quickappointment position-absolute m-auto start-0 end-0 bg-seashell rounded-4 border border-1"),style:{top:"-3.8rem"},children:(0,h.jsx)(f,{fetchapi:e.fetchapi,closeAddAppointmentform:At,DocClinic:e.DocClinic,timeindex:se,selectedtime:t[0],selectedtimeID:t[2]})})}):(0,h.jsx)(h.Fragment,{})]}):(0,h.jsx)("button",{disabled:!0,className:" button-sm button-charcoal50-outline m-1 px-3 py-2 rounded-1 fw-bold",style:{letterSpacing:"1px"},children:Zt(t[0])},n)}))})]})}),(0,h.jsxs)("section",{className:"allappointmentsection p-0 m-0 ms-1",children:[(0,h.jsx)("div",{className:"col-auto m-0 p-0 align-items-center",children:(0,h.jsx)("h6",{className:"p-0 ms-1 text-charcoal fw-bolder mt-3 mb-2",children:"Appointments"})}),(0,h.jsx)("div",{className:" scroll scroll-y align-content-center align-items-center",style:{minHeight:"70vh",maxHeight:"70vh",Height:"70h"},children:(0,h.jsxs)("table",{className:"table text-start",children:[(0,h.jsx)("thead",{className:"p-0 m-0 px-2 bg-pearl",children:(0,h.jsxs)("tr",{className:"p-0 m-0 position-sticky text-charcoal75 top-0",style:{fontSize:"0.75rem"},children:[(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Update"}),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Bill no."}),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start",children:"Time"}),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:"Patient"}),(0,h.jsx)("th",{className:"border-0 bg-pearl text-start px-3",children:"Status"}),(0,h.jsx)("th",{className:"border-0 bg-pearl",children:" Amount"}),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl",children:"Vitals"}),(0,h.jsx)("th",{className:"text-center border-0 bg-pearl d-".concat(d.appointment_charges_edit?"":"none"),children:"Bill"}),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"Consumables"}),(0,h.jsx)("th",{className:"border-0 bg-pearl text-center",children:"more"})]})}),0==L?(0,h.jsx)("tbody",{className:"scroll scroll-y",children:(0,h.jsx)("tr",{className:" position-relative text-burntumber fs-3 mt-1 text-center m-auto",children:(0,h.jsx)("td",{className:" position-absolute start-0 end-0 text-burntumber fs-3 mt-1 text-center"})})}):(0,h.jsx)("tbody",{children:F&&void 0!==F&&0==F.length?(0,h.jsx)("tr",{children:(0,h.jsx)("button",{className:"text-center position-absolute border-0 text-charcoal fw-bold px-5 start-0 end-0 mx-auto",children:"No Appointments Found"})}):F.map((function(t,n){return(0,h.jsxs)("tr",{className:"align-middle",children:[(0,h.jsx)("td",{className:"py-0 bg-".concat(V===n?"lightyellow":"","  text-center"),children:(0,h.jsx)("button",{className:"btn m-0 p-0",onClick:function(e){"none"===H&&(O("block"),it(!0)),W(n),ee(t.id)},children:(0,h.jsx)("img",{src:"/images/confirmed.png",alt:"displaying_image",className:"img-fluid"},n)},n)}),(0,h.jsx)("td",{className:"py-0 text-start fw-bold",style:{letterSpacing:"1px"},children:t.bill_id?"C-"+t.bill_id:""}),(0,h.jsx)("td",{className:"py-0 text-start fw-bold",style:{letterSpacing:"1px"},children:Zt(t.timeslot.time_from)}),(0,h.jsx)("td",{className:"py-0 ",children:(0,h.jsxs)("div",{className:"row p-0 m-0",style:{width:"fit-content"},children:[(0,h.jsxs)("div",{className:"col-12 p-0 m-0 fw-bold align-self-end",children:[t.patient&&null!==t.patient.full_name?t.patient.full_name:"N/A",null!=t.patient&&1==t.patient.is_profile_verified?(0,h.jsx)("img",{className:"p-0 m-0 me-4 img-fluid",src:"images/verified.png",style:{scale:"0.8"}}):""]}),(0,h.jsx)("small",{className:"col-auto p-0 m-0 text-burntumber fw-bold",style:{letterSpacing:"1px"},children:t.patient&&null!=t.patient.phone_number?t.patient.phone_number:"N/A"})]})}),(0,h.jsx)("td",{className:" text-start pe-5",children:(0,h.jsxs)("div",{className:"row p-0 m-0 align-items-center",children:[(0,h.jsx)("div",{className:"col-1 p-0 m-0 me-2",children:(0,h.jsx)("div",{className:"rounded-circle border-1 button-".concat(Dt(t.appointment_status)," fontmain"),style:{height:"12px",width:"12px"}})}),(0,h.jsx)("div",{className:"col-5 p-0 m-0",children:(0,h.jsxs)("select",{disabled:1!=d.appointment_edit,className:"bg-transparent border-0 text-start fw-bold ",name:t.id,onChange:function(e){!function(e){Ft.apply(this,arguments)}(e)},children:[(0,h.jsx)("option",{className:"fw-bold",selected:!0,disabled:!0,children:Ct(t.appointment_status)}),Nt&&Nt.length>0&&Nt.map((function(e){return(0,h.jsx)("option",{className:"fw-bold",value:e.id,children:e.title})}))]})})]})}),(0,h.jsxs)("td",{className:"py-0 text-start",children:[(0,h.jsxs)("div",{className:"col p-0 m-0 fw-bold fontmain",style:{fontSize:"0.75rem",letterSpacing:"1px"},children:["\u20b9",t.total_amount]}),(0,h.jsxs)("div",{className:"col p-0 m-0 text-start",children:[(0,h.jsx)("button",{className:"button-sm p-0 m-0 bg-transparent border-0",onClick:function(){Ke(n),qt()},children:(0,h.jsx)(c.Z,{appointmentData:t,index:n,Appointmentlist:wt})}),$e==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"payments bg-seashell shadow-sm start-0 end-0 top-0 p-0 m-0 mx-auto border border-1 rounded-1 col-lg-6 col-md-10 col-sm-12 col-12 mt-2 col-xl-6 position-absolute d-".concat($e==n?tt:"none"),children:(0,h.jsx)(j.H,{ClosePaymentsForm:Gt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:wt,setsingleload:z,isLoading:q,appointmentdata:F,paymentsi:$e})})]}):(0,h.jsx)(h.Fragment,{})]})]}),(0,h.jsx)("td",{className:" text-center py-0 bg-".concat(ke===n?"lightyellow":""),children:(0,h.jsx)("button",{className:"btn p-0 m-0",onClick:function(){Ce(n),"none"===je&&Ne("block"),Pt(t.id)},children:(0,h.jsx)("img",{src:"/images/vitals.png",alt:"displaying_image"})})}),(0,h.jsxs)("td",{className:" text-center py-0 d-".concat(d.appointment_charges_edit?"":"none"," bg-").concat(Be===n?"lightyellow":""),children:[" ",(0,h.jsx)("img",{src:"/images/bill.png",onClick:function(){Ge(n),"none"===We&&Me("block")},alt:"displaying_image",className:"me-1"}),"  "]}),(0,h.jsx)("td",{className:" text-center py-0  bg-".concat(me===n?"lightyellow":""),children:(0,h.jsxs)("button",{className:"button-sm border-0 p-0 m-0 position-relative bg-".concat(me===n?"lightyellow":"transparent"),children:[(0,h.jsx)("img",{src:"/images/bandage.png",onClick:function(){ue(n),Ut()},alt:"displaying_image",className:"me-1"}),(0,h.jsx)("span",{class:" position-absolute start-75 translate-middle badge p-0 m-0 text-burntumber fw-bold rounded-2 ",style:{zIndex:"2",top:"10%"},children:F[n].medicine_used.length})]})}),(0,h.jsx)("td",{className:"text-center",children:(0,h.jsxs)("div",{className:"dropdown d-inline-block ",children:[(0,h.jsx)("button",{className:"button p-0 m-0 bg-transparent border-0 fw-bold dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,h.jsx)("img",{src:"/images/more.png",alt:"displaying_image",className:"img-fluid"})}),(0,h.jsxs)("ul",{className:"dropdown-menu shadow-sm p-2",style:{"-webkit-appearance":"none",appearance:"none",width:"max-content",height:"fit-content"},children:[(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){return e=t.id,localStorage.setItem("appointmentid",e),void window.open("/scan/prescription","_blank");var e},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/new_tab.png",alt:"displaying_image"}),"Scan Prescription"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){Vt(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image"})," Generate Prescription"]}),(0,h.jsxs)("li",{className:"d-".concat(null==t.prescription_file?"none":""," dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center"),onClick:function(){pt(n)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/confirmed.png",alt:"displaying_image"}),"View Prescription"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){Rt(t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/pdf.png",alt:"displaying_image"})," Generate Bill"]}),(0,h.jsxs)("li",{className:"d-".concat(null==t.bill_file?"none":""," dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center"),onClick:function(){gt(n)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/confirmed.png",alt:"displaying_image"})," View Bill"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){Wt(e,n,1)}),(function(){Wt(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/whatsapp.png",alt:"displaying_image"})," Send on Whats App"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){var e,n;e=t.id,n=t.patient.phone_number,(0,u.H)(),m().Confirm.show("Choose Option to Send ","Do you want to send the Bill","With the Prescription ?","Without the Prescription ?",(function(){Mt(e,n,1)}),(function(){Mt(e,n,0)}),{})},children:[(0,h.jsx)("img",{className:"m-2 img-fluid ms-2",src:"/images/message.png",alt:"displaying_image"}),"Send on SMS"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 border-bottom p-0 m-0 align-items-center",onClick:function(){Ht(),ce(n)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/medicine.png",alt:"displaying_image"}),"Buy Medicines"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold border-bottom p-0 m-0 align-items-center p-2  d-".concat(d.appointment_charges_edit?"flex":"none"),onClick:function(){Je(n),qt()},children:[(0,h.jsx)("img",{src:"/images/rupee.png",className:"me-2 img-fluid",alt:"displaying_image"}),"Payments"]}),(0,h.jsxs)("li",{className:"dropdown-item fw-bold d-flex border-1 p-0 m-0 align-items-center",onClick:function(){return Et(t.patient.full_name,t.id)},children:[(0,h.jsx)("img",{className:"m-2 img-fluid",src:"/images/speaker.png",alt:"displaying_image"})," Call Patient"]})]})]})}),V===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"updateappointment shadow-sm border-0 rounded-1 bg-seashell mt-2 start-0 end-0 top-0 col-lg-8 col-md-10 col-sm-11 col-11 col-xl-5 d-".concat(V==n?H:"none"," position-absolute"),children:(0,h.jsx)(x,{fetchapi:e.fetchapi,fetchallAppointmentslist:e.fetchallAppointmentslist,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:null!=t.patient&&null!=t.patient.id?t.patient.id:"",appointmentid:t.id,addappointmentform:Y,closeappointmentform:yt,doctorid:e.doctorid,appointmentdoctorid:t.doctor.id,appointmentdate:t.appointment_date,appointmenttime:Zt(t.timeslot.time_from)})})]}):(0,h.jsx)(h.Fragment,{}),ke===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"vitals position-absolute border-0 d-".concat(ke==n?je:"none"),style:{zIndex:"4"},children:(0,h.jsx)(b,{GetAppointmentVitals:Pt,Appointmentlist:wt,CloseVitals:It,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,appointmentvitalslist:Ae,loadvitals:ze,patientid:t.patient&&null!=t.patient.id?t.patient.id:""})})]}):(0,h.jsx)(h.Fragment,{}),Be==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"bill d-".concat(Be==n?We:"none"," start-0 end-0 mx-auto top-0 border-0 position-absolute p-0 m-0 col-lg-10 col-md-10 col-sm-11 col-11 mt-2 col-xl-6 "),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(N.n,{fetchapi:e.fetchapi,CloseBillForm:Tt,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",phone_number:null!=t.patient&&null!=t.patient.phone_number?t.patient.phone_number:"",patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",Appointmentlist:wt,setsingleload:z,isLoading:q,Data:t,appointmentdata:F,appointmentid:t.id,doctorfee:t.doctor.consulationFee,billform:We})})]}):(0,h.jsx)(h.Fragment,{}),Oe===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"payments start-0 end-0 top-0 position-absolute bg-seashell mx-auto rounded-2 p-0 m-0 col-lg-8 col-md-10 col-sm-11 col-11 mt-2 col-xl-6 d-".concat(Oe==n?tt:"none"),style:{zIndex:"4"},children:(0,h.jsx)(j.H,{ClosePaymentsForm:Bt,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,patientid:t.patient&&null!=t.patient.id?t.patient.id:"",Appointmentlist:wt,setsingleload:z,isLoading:q,appointmentdata:F})})]}):(0,h.jsx)(h.Fragment,{}),me==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"consumables mx-auto  position-absolute top-0 start-0 end-0   d-".concat(me==n?we:"none"," "),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(y,{appointmentdata:F[n],Appointmentlist:wt,existedconsumables:F[n].medicine_used.reverse(),patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",appointmentid:t.id,toggleConsumables:Ut})})]}):(0,h.jsx)(h.Fragment,{}),oe==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"saleentryform mx-auto col-xl-6 col-lg-8 col-md-10 p-0 m-0 position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0  d-".concat(oe==n?oe:"none"),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(w.c3,{data:t,DoctorID:e.DoctorID,DoctorName:e.DoctorName,saleindex:oe,toggle_nsef:Ht,patientname:null!=t.patient&&null!=t.patient.full_name?t.patient.full_name:"",patientid:t.patient&&null!=t.patient.id?t.patient.id:""})})]}):(0,h.jsx)(h.Fragment,{}),ut==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"saleentryform mx-auto col-xl-8 col-lg-10 col-md-11 p-0 m-0 position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0  d-".concat(ut==n?ut:"none"),style:{zIndex:"4",height:"80vh"},children:(0,h.jsx)(_.s,{prescriptions:t.prescription_file,toggle_ScannedPres:Ot})})]}):(0,h.jsx)(h.Fragment,{}),ft==n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"backdrop"}),(0,h.jsx)("td",{className:"saleentryform mx-auto col-xl-6 col-lg-8 col-md-10 p-0 m-0 position-absolute bg-seashell shadow-sm top-0 border border-1 rounded-1 start-0 end-0  d-".concat(ft==n?ft:"none"),style:{zIndex:"4",height:"70vh"},children:(0,h.jsx)(S.R,{bill:t.bill_file,toggle_Scannedbill:Jt})})]}):(0,h.jsx)(h.Fragment,{})]})}))})]})})]})]})})}function C(e){var t=(0,a.useContext)(r.Jx),n=(0,a.useContext)(r.RT),c=(0,a.useContext)(r.q2),d=(0,a.useState)(),u=(0,s.Z)(d,2),p=u[0],x=u[1],f=(0,a.useState)([]),g=(0,s.Z)(f,2),b=g[0],j=g[1];function N(e,t){e=e.split(":"),t=t.split(":");var n=new Date(0,0,0,e[0],e[1],0),s=new Date(0,0,0,t[0],t[1],0).getTime()-n.getTime(),a=Math.floor(s/1e3/60/60);s-=1e3*a*60*60;var i=Math.floor(s/1e3/60);return a<0&&(a+=24),(0!=a?(a<=9?"0":"")+a+"hrs ":"")+(i<=9?"0":"")+i+"mins"}function v(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[3]=+e[0]<12?" AM ":" PM ",e[0]=+e[0]%12||12),e.join("")}var y=(0,a.useState)([]),w=(0,s.Z)(y,2),_=w[0],S=w[1],Z=(0,a.useState)(),k=(0,s.Z)(Z,2),C=k[0],D=k[1],F=(0,a.useState)(!1),A=(0,s.Z)(F,2),I=A[0],P=A[1],L=localStorage.getItem("ClinicId");function z(){return E.apply(this,arguments)}function E(){return(E=(0,l.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return D(!0),n.next=3,o.Z.get("".concat(t,"/todays/doctor/time/list?doctor_id=").concat(e.docid,"&clinic_id=").concat(L)).then((function(e){0==e.data.data.length||S(e.data.data.reverse()),D(!1)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var T=(0,a.useState)(!1),q=(0,s.Z)(T,2),B=q[0],G=q[1],R=(0,a.useState)("1"),V=(0,s.Z)(R,2),W=V[0],M=V[1];function U(){return(U=(0,l.Z)((0,i.Z)().mark((function s(){var a;return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(P(!0),a=localStorage.getItem("id"),!(L&&W&&e.docid&&a)){s.next=16;break}return s.prev=3,s.next=6,o.Z.post("".concat(t,"/doctor/start/time"),{clinic_id:L,room_id:W,doctor_id:e.docid,admin_id:a}).then((function(e){P(!1),m().Notify.success(e.data.message),n()}));case 6:return s.next=8,z();case 8:s.next=14;break;case 10:s.prev=10,s.t0=s.catch(3),m().Notify.failure(s.t0.message),P(!1);case 14:s.next=18;break;case 16:m().Notify.alert("Please fill all details"),P(!1);case 18:case"end":return s.stop()}}),s,null,[[3,10]])})))).apply(this,arguments)}function H(e){return O.apply(this,arguments)}function O(){return(O=(0,l.Z)((0,i.Z)().mark((function e(s){var a,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("id"),G(!0),l=s.id,e.prev=3,e.next=6,o.Z.post("".concat(t,"/doctor/end/time"),{admin_id:a,log_id:l}).then((function(e){m().Notify.success(e.data.message),n()}));case 6:return e.next=8,z();case 8:G(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),m().Notify.failure(e.t0.message),G(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return(0,a.useEffect)((function(){z()}),[e._selected]),(0,a.useEffect)((function(){for(var e=0;e<c.length;e++)c[e].id==Number(L)&&j(c[e].rooms)}),[L]),(0,h.jsxs)("div",{className:"scroll room_timecards align-items-center align-content-center my-auto mb-2 ms-2",children:[(0,h.jsx)("div",{id:"cardslot",className:"d-".concat(C?"none":"inline-flex"),children:(0,h.jsx)("div",{className:"card card1 p-0 m-0 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex align-items-center ms-3",children:[(0,h.jsx)("p",{className:" m-0 p-0 text-charcoal fw-bold me-2",children:"Room"}),(0,h.jsx)("select",{onChange:function(e){M(e.target.value)},className:"form-control bg-charcoal25 text-charcoal my-1 mx-2 p-0 py-2 px-3 w-auto text-center border-0",id:"clinicroom1",children:b.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.room_number})}))}),I?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsx)("button",{className:"btn playbutton p-0 m-0 mx-2",onClick:function(){return U.apply(this,arguments)},children:(0,h.jsx)("img",{className:"img-fluid",src:"images/play.png"})})]})})})}),C?(0,h.jsx)("div",{className:"card bg-pearl text-center ms-3 bg-seashell","aria-hidden":"true",style:{width:"18rem",paddingTop:"0.76rem",paddingBottom:"0.76rem"},children:(0,h.jsxs)("div",{className:" text-start placeholder-glow gx-2",children:[(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-4 ms-2 text-start"}),(0,h.jsx)("span",{className:"placeholder col-2 ms-2 text-start"})]})}):_.map((function(e,t){return(0,h.jsx)("div",{id:"cardslot text-start",className:"d-inline-flex m-1",children:(0,h.jsx)("div",{className:"card p-0 m-0 py-1 text-start border-0",id:"card1",children:(0,h.jsx)("div",{className:"card-body p-0 m-0",children:(0,h.jsxs)("div",{className:"d-flex text-start align-items-center p-0 m-0 ",children:[(0,h.jsx)("p",{className:" p-0 m-0  ms-2 text-charcoal75 fw-bold me-1 ps-2 ",style:{fontSize:"0.75rem"},children:"Room"}),(0,h.jsx)("h5",{className:"text-burntumber fw-semibold my-1 me-2 border-0",id:"clinicroom",children:e.room_id}),B&&t===p?(0,h.jsx)("div",{className:"text-charcoal spinner-border spinner-border-sm me-2 ",role:"status","aria-hidden":"true"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"d-flex p-0 m-0 justify-content-center",children:[(0,h.jsx)("button",{type:"text",className:"btn fromtime p-0 m-0 float-end text-charcoal text-center",style:{fontSize:"0.75rem"},children:e.login_time?v(e.login_time):""}),(0,h.jsx)("div",{className:"mx-1 align-self-center",style:{padding:"0.9px"},children:"-"}),(0,h.jsx)("button",{type:"text",className:"btn totime p-0 m-0 text-charcoal float-end text-center",style:{fontSize:"0.75rem"},children:e.logout_time?v(e.logout_time):"__"})]}),(0,h.jsx)("div",{className:"d-flex mx-2",children:e.logout_time?(0,h.jsx)("div",{id:"totalhrs",className:" p-0 m-0 timediff text-burntumber fw-bold text-center pe-2",defaultValue:"",style:{fontSize:"0.75rem"},children:e.logout_time?N(e.login_time,e.logout_time):""}):(0,h.jsx)("button",{className:"btn p-0 m-0 pausebutton",value:e.id,onClick:function(n){H(e),x(t)},children:(0,h.jsx)("img",{className:"",src:"images/pause.png",onClick:function(e){H(e),x(t)}})})})]})]})})})},t)}))]})}var D=n(2092),F=(n(6202),n(7485)),A=(0,a.createContext)(),I=(0,a.createContext)();var P=function(e){(0,a.useContext)(r.Jx);var t=(0,a.useContext)(r.Pl),n=(0,a.useState)(0),i=(0,s.Z)(n,2),l=i[0],o=i[1],c=(0,a.useState)(0),d=(0,s.Z)(c,2),m=d[0],u=d[1],p=(0,a.useState)(),x=(0,s.Z)(p,2),f=x[0],g=x[1],b=(0,a.useState)(),j=(0,s.Z)(b,2),N=j[0],v=j[1],y=(0,a.useState)(),w=(0,s.Z)(y,2),_=w[0],S=w[1],Z=(0,a.useState)([0]),P=(0,s.Z)(Z,2),L=P[0],z=(P[1],(0,a.useState)("none")),E=(0,s.Z)(z,2),T=E[0],q=E[1],B=function(){"none"===T&&(o(1),q("block")),"block"===T&&(o(0),q("none"))};!function(){for(var e=0;e<L.length&&!L.includes(m);e++)L.push(m)}();var G=function(t){var n=[];if(void 0!=e.appointment_data)for(var s=0;s<e.appointment_data.length;s++)t==e.appointment_data[s].doctor_id&&n.push(e.appointment_data[s]);return n.length};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"container-fluid doctorsection p-0 m-0 mt-1 ps-1 scroll",children:(0,h.jsxs)("div",{className:" hstack gap-3 d-flex p-0 m-0 py-1 ps-1 align-items-center",children:[e.isLoading?(0,h.jsxs)("div",{className:"col-3",children:[(0,h.jsxs)("div",{className:"spinner-border my-auto",style:{width:"2rem",height:"2rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]}),(0,h.jsxs)("div",{className:"spinner-grow my-auto",style:{width:"1.5rem",height:"1.5rem"},role:"status",children:[(0,h.jsx)("span",{className:"sr-only"})," "]})," "]}):e.todayDoc.map((function(e,t){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"col-auto doctors p-0 m-0",children:(0,h.jsxs)("button",{className:" button rounded-1 p-0 m-0 py-1 px-3 btn-sm col-auto shadow-none text-".concat(t===m?"light":"charcoal75 fw-bolder"," button-").concat(t===m?"charcoal":"pearl"," border-").concat(t===m?"secondary":"none"),style:{fontSize:"0.9rem"},autoFocus:t===m,onFocus:function(){g(e[0]),v(e[1]),S(e[2])},value:"".concat(e[0],".").concat(e[1]),onClick:function(n){u(t),g(e[0]),v(e[1])},children:["Dr. ".concat(e[1]),(0,h.jsxs)("span",{className:"ms-2 px-1 text-lightyellow ",children:[G(e[0])," ",1==(0,D.u)(e[0])?(0,h.jsx)("span",{className:"m-0 p-0 ms-2",children:(0,h.jsx)("img",{src:"/images/time_on.png",className:"img-fluid p-0 m-0",style:{width:"0.8rem"}})}):(0,h.jsx)("span",{})]})," "]},t)}),(0,h.jsx)("div",{className:"vr rounded-1 h-75 align-self-center",style:{padding:"0.8px"}})]})})),(0,h.jsx)("div",{className:"col-auto",children:(0,h.jsx)("button",{className:"btn bg-transparent border-0 ",id:"adddoctorbtn",onClick:B,children:(0,h.jsx)("img",{src:"/images/addicon.png",alt:"displaying_image"})})})]})}),(0,h.jsx)("section",{className:"patientsection p-0 m-0 ps-1 position-relative",children:e.Loading?(0,h.jsx)("div",{className:"container-fliud pt-3",children:(0,h.jsxs)("div",{className:"d-flex fs-2 align-items-center justify-content-around",children:[(0,h.jsx)("strong",{className:"text-charcoal",children:"Please Wait..."}),(0,h.jsx)("div",{className:"text-burntumber spinner-border ml-auto",role:"status","aria-hidden":"true"})]})}):e.todayDoc&&0!=e.todayDoc.length?L.map((function(n,s){return n==m?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"p-0 m-0 my-2 d-".concat(1==t.dashboard_all?"":"none"),children:(0,h.jsx)(C,{docid:e.todayDoc[m][0],_selected:m})}),(0,h.jsx)("div",{className:"p-0 m-0 my-2",children:(0,h.jsx)(A.Provider,{value:N,children:(0,h.jsx)(I.Provider,{value:f,children:(0,h.jsx)(k,{todayDoc:e.todayDoc,DoctorID:f,DoctorName:N,_selected:m,fetchapi:e.fetchapi,DocClinic:_,get_appointment_data:e.get_appointment_data})})})})]},s):(0,h.jsx)("div",{})})):(0,h.jsx)("div",{className:"container-fliud pt-3",children:(0,h.jsxs)("div",{className:"d-flex fs-2 align-items-center justify-content-around",children:[(0,h.jsx)("strong",{className:"text-burntumber",children:"Please Wait..."}),(0,h.jsx)("div",{className:"text-burntumber spinner-border ml-auto",role:"status","aria-hidden":"true"})]})})}),1==l?(0,h.jsx)("div",{className:"col-lg-5 col-md-6 col-sm-12 col-12 doctorinfosection d-".concat(T," me-lg-2 top-0  me-md-2 rounded-4 border bg-seashell shadow-sm position-absolute"),style:{zIndex:"2",marginTop:"5.1rem"},children:(0,h.jsx)(A.Provider,{value:N,children:(0,h.jsx)(I.Provider,{value:f,children:(0,h.jsx)(F.c,{toggledoctorform:B,staticBackdrop4:"staticBackdrop4",fetchapi:e.fetchapi})})})}):(0,h.jsx)(h.Fragment,{})]})}},7485:function(e,t,n){n.d(t,{c:function(){return p}});var s=n(4165),a=n(5861),i=n(9439),l=n(9867),o=n(606),c=n(7992),r=n.n(c),d=n(4012),m=n(6626),u=n(2834),p=function(e){var t=(0,l.useContext)(m.Jx),n=((0,l.useContext)(m.U8),(0,l.useContext)(m.j8)),c=(0,l.useContext)(m.zS),p=(0,l.useContext)(m.q2),h=localStorage.getItem("ClinicId"),x=(0,l.useState)(),f=(0,i.Z)(x,2),g=f[0],b=f[1],j=(0,l.useState)(),N=(0,i.Z)(j,2),v=N[0],y=N[1],w=(0,l.useState)(),_=(0,i.Z)(w,2),S=_[0],Z=_[1],k=(0,l.useState)(),C=(0,i.Z)(k,2),D=C[0],F=C[1],A=(0,l.useState)(),I=(0,i.Z)(A,2),P=I[0],L=I[1],z=localStorage.getItem("id");function E(){return(E=(0,a.Z)((0,s.Z)().mark((function n(a){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(g&&v&&S&&D&&h&&z)){n.next=6;break}return L(!0),n.next=4,o.Z.post("".concat(t,"/doctor/add/timeslots"),{doctor_id:g,date:v,time_from:S,time_to:D,clinic_id:h,admin_id:z}).then((function(t){e.toggledoctorform(),B(),L(!1),e.fetchapi(),r().Notify.success(t.data.message)}));case 4:n.next=8;break;case 6:r().Notify.warning("Please Fill all Detais"),L(!1);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var T=(0,l.useState)("none"),q=(0,i.Z)(T,2),B=(q[0],q[1],function(){b(),y(),Z(),F()}),G=function(e){for(var t=0;t<c.length;t++)if(void 0!==c[t][0]&&c[t][0]==e)return"(Already added)"};return(0,u.jsxs)("div",{className:"container px-2 fw-bold",children:[(0,u.jsx)("h5",{className:"text-center mt-2 fw-bold",children:"Slot Details"}),(0,u.jsx)("button",{type:"button",className:"btn-close closebtn position-absolute",disabled:1==P,"aria-label":"Close",onClick:e.toggledoctorform}),(0,u.jsx)("hr",{}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("label",{className:"ps-1",children:"Doctor"}),(0,u.jsxs)("select",{className:"col-10 form-control selectdoctor",value:g||"",onChange:function(e){b(e.target.value)},children:[(0,u.jsx)("option",{defaultValue:"Select Doctor",children:"Select Doctor"}),n.map((function(e){return(0,u.jsxs)("option",{value:e[0],children:["Dr. ",e[1]," ",G(e[0])]})}))]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Clinic"}),(0,u.jsx)("div",{className:"col-12",children:p.map((function(e,t){return(0,u.jsxs)("label",{className:"d-".concat(h==e.id?"block":"none"," text-burntumber"),children:[(0,u.jsx)("input",{type:"checkbox",className:"radio form-check-input me-1",checked:h==e.id})," ",e.title," ",e.address]})}))}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{className:"ps-1",children:"Date"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"date",className:"form-control col-10",value:v||"",onChange:function(e){y(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time From"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:S||"",onChange:function(e){Z(e.target.value)}})}),(0,u.jsx)("hr",{}),(0,u.jsx)("label",{children:"Time To"}),(0,u.jsx)("div",{className:"col-12",children:(0,u.jsx)("input",{type:"time",className:"form-control col-10",value:D||"",onChange:function(e){F(e.target.value)}})}),(0,u.jsx)("hr",{}),P?(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("div",{class:"spinner-border",role:"status",children:(0,u.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-6 py-2 pb-2 m-auto text-center",children:(0,u.jsx)("button",{type:"button",className:"button button-charcoal px-5",onClick:function(e){e.preventDefault(),(0,d.H)(),r().Confirm.show("Add Doctor Time Slots","Do you surely want to add the following Doctor","Yes","No",(function(){!function(e){E.apply(this,arguments)}()}),(function(){return 0}),{})},children:" Done "})}),(0,u.jsx)("div",{className:"col-6 pb-2 m-auto text-center",children:(0,u.jsx)("button",{className:"button button-pearl px-5",onClick:B,children:"Reset"})})]})]})}}}]);
//# sourceMappingURL=414.02c089c7.chunk.js.map