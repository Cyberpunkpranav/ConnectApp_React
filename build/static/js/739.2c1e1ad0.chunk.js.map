{"version":3,"file":"static/js/739.2c1e1ad0.chunk.js","mappings":"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","sources":["components/Today/AmountPaid.jsx","components/Today/Bill.jsx","components/Today/Payments.jsx","components/Today/fetch_apis.jsx","components/Today/generated_bill.jsx","components/Today/prescription.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport '../../css/dashboard.css'\r\nimport '../../css/bootstrap.css'\r\nimport { UpadteStatus } from './fetch_apis'\r\nimport { Payments } from './Payments'\r\nconst AmountPaid = (props) => {\r\n  const adminid = localStorage.getItem('id')\r\n  const [openpayments, setopenpayments] = useState('none')\r\n  const [totalAmount, setTotalAmount] = useState(0)\r\n  const [paidpendingtotal, setpaidpending] = useState(0)\r\n  \r\n  const calculate = () => {\r\n    var data = props.appointmentData;\r\n    if (data.payment_method != null) {\r\n      var payment = Object.values(JSON.parse(data.payment_method_details))\r\n      var val = 0;\r\n      for (let i = 0; i < payment.length; i++) {\r\n        var element = parseFloat(payment[i]);\r\n        val += element\r\n        setTotalAmount(val)\r\n      }\r\n    }\r\n  }\r\n\r\n  const CalculatePaidPendings = () => {\r\n    let totalpaidpendings = []\r\n    let pendingtotal = 0\r\n    if (props.appointmentData.pending_payments && props.appointmentData.pending_payments != null) {\r\n      for (let i = 0; i < props.appointmentData.pending_payments.length; i++) {\r\n        if (props.appointmentData.pending_payments[i].is_paid == 1) {\r\n          totalpaidpendings.push(props.appointmentData.pending_payments[i].paid_amount !== null ? props.appointmentData.pending_payments[i].paid_amount : 0)\r\n        }\r\n      }\r\n    }\r\n\r\n    totalpaidpendings.forEach(item => {\r\n      pendingtotal += Number(item)\r\n    })\r\n    setpaidpending(pendingtotal)\r\n  }\r\n\r\n  const Change_status = async ()=>{\r\n    if(totalAmount != null && totalAmount !=undefined){\r\n      if(totalAmount + paidpendingtotal == props.appointmentData.total_amount && props.appointmentData.appointment_status < 7){\r\n         await UpadteStatus(props.appointmentData.id,8,adminid)\r\n          props.Appointmentlist()\r\n      }\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    Change_status()\r\n  },[totalAmount + paidpendingtotal == props.appointmentData.total_amount])\r\n  useEffect(() => {\r\n    calculate()\r\n    CalculatePaidPendings()\r\n  }, [])\r\n  \r\n  return (\r\n    totalAmount != null ? (\r\n      totalAmount + paidpendingtotal == props.appointmentData.total_amount ? (\r\n        <div className='text-white bg-lightgreen d-inline-block px-2 fw-normal rounded-2' style={{ letterSpacing: '1px' }}>Paid ₹{Number(totalAmount) + Number(paidpendingtotal)}</div>\r\n        // <div className=\"ms-1 btn button-sm rounded-1 button-lightgreen fw-bold\" style={{ fontSize: '0.75rem', letterSpacing: '0.5px', padding: '0.12rem' }}>{Number(totalAmount) + Number(paidpendingtotal)} Done</div>\r\n      ) : (\r\n        <div className=\"text-burntumber bg-seashell fw-bold d-inline-block px-2 fw-normal rounded-2\" style={{ letterSpacing: '1px' }}>Pending ₹{(Number(props.appointmentData.total_amount) - (Number(totalAmount) + Number(paidpendingtotal))).toFixed(1)} </div>\r\n\r\n      )\r\n\r\n    ) : (\r\n      <button className=\"btn button-seashell p-0 m-0\" type=\"button\" disabled>\r\n        <span className=\"spinner-grow spinner-grow-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n      </button>\r\n    )\r\n\r\n  )\r\n}\r\n\r\nexport default AmountPaid","import React, { useState, useEffect, useContext, useRef,useCallback,useDebounceEffect } from \"react\";\r\nimport { URL } from \"../../index\";\r\nimport Notiflix from \"notiflix\";\r\nimport { customconfirm } from \"../features/notiflix/customconfirm\";\r\nimport \"../../css/dashboard.css\";\r\nimport axios from \"axios\";\r\nimport {ReactCrop } from 'react-image-crop'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport '../../css/bootstrap.css'\r\nimport Webcam from 'react-webcam'\r\nimport { Get_Document } from \"./fetch_apis\";\r\nconst Bill = (props) => {\r\n  const url = useContext(URL);\r\n  localStorage.setItem('appointmentid',props.appointmentid)\r\n  const adminid = localStorage.getItem(\"id\");\r\n  const Charges = {\r\n    description: \"\",\r\n    amount: 0,\r\n    discount: 0,\r\n    cgst: 0,\r\n    sgst: 0,\r\n    gross_amount: 0,\r\n    id: \"\",\r\n  };\r\n  const paymentmethoddetails = {\r\n    paymentmethod: \"\",\r\n    amount: 0,\r\n  };\r\n  //Advance payments\r\n  const [loadadvancepayments, setloadadvancepayments] = useState(false);\r\n  const [advancepayments, setadvancepayments] = useState();\r\n\r\n  //ExtraCharge\r\n  const [extrachargecount, setextrachargecount] = useState([{\r\n    description: \"\",\r\n    amount: 0,\r\n    discount: 0,\r\n    cgst: 0,\r\n    sgst: 0,\r\n    gross_amount: 0,\r\n    id: \"\",\r\n  }]);\r\n\r\n  //Bill\r\n  const [constext, setconstext] = useState(\"\");\r\n  const [docdiscount, setdocdiscount] = useState(0);\r\n  const [coupondiscount, setcoupondiscount] = useState(0);\r\n  const [aartasdiscount, setaartasdiscount] = useState(0);\r\n  const [AtC, setAtC] = useState(0);\r\n  const [AddConsAmt, setAddConsAmt] = useState(props.doctorfee);\r\n  const [SGST, setSGST] = useState();\r\n  const [CGST, setCGST] = useState();\r\n  const [paymentmethods, setpaymentmethods] = useState([{\r\n    paymentmethod: \"\",\r\n    amount: '',\r\n  }]);\r\n  const [load, setload] = useState();\r\n  const [ischecked, setischecked] = useState();\r\n\r\n\r\n  async function AddExtraCharges() {\r\n    let extracharges = [];\r\n    for (let i = 0; i < props.appointmentdata.length; i++) {\r\n      if (props.appointmentid == props.appointmentdata[i].id) {\r\n        for ( let j = 0; j < props.appointmentdata[i].other_charges.length; j++ ) {\r\n          extracharges.push({\r\n            description: props.appointmentdata[i].other_charges[j].description != null ? props.appointmentdata[i].other_charges[j].description : \"N/A\",\r\n            amount: props.appointmentdata[i].other_charges[j].total_amount != null ? props.appointmentdata[i].other_charges[j].total_amount : 0,\r\n            discount: props.appointmentdata[i].other_charges[j].discount != null ? props.appointmentdata[i].other_charges[j].discount : 0,\r\n            cgst: props.appointmentdata[i].other_charges[j] != null && props.appointmentdata[i].other_charges[j].gst_rate != null ? props.appointmentdata[i].other_charges[j].gst_rate / 2 : 0, sgst: props.appointmentdata[i].other_charges[j] != null && props.appointmentdata[i].other_charges[j].gst_rate != null ? props.appointmentdata[i].other_charges[j].gst_rate / 2 : 0,\r\n            gross_amount: props.appointmentdata[i].other_charges[j].final_amount && props.appointmentdata[i].other_charges[j].final_amount !== null ? props.appointmentdata[i].other_charges[j].final_amount : \"\",\r\n            id: props.appointmentdata[i].other_charges[j].id && props.appointmentdata[i].other_charges[j].id != null ? props.appointmentdata[i].other_charges[j].id : \"\",\r\n          });\r\n        }\r\n        setaartasdiscount(props.appointmentdata[i].aartas_discount);\r\n        setdocdiscount(props.appointmentdata[i].doc_discount);\r\n        setconstext(props.appointmentdata[i].cons_text);\r\n      }\r\n    }\r\n    if(extracharges.length>0){\r\n      setextrachargecount(extracharges);\r\n    }else{\r\n      setextrachargecount([Charges])\r\n    }\r\n  }\r\n  async function AddPaymentMethods() {\r\n    let Payments = [];\r\n    let amounts = [];\r\n    let allamounts = [];\r\n    for (let i = 0; i < props.appointmentdata.length; i++) {\r\n      if (props.appointmentid == props.appointmentdata[i].id && props.appointmentdata[i].payment_method_details) {\r\n        Payments.push(Object.keys(JSON.parse(props.appointmentdata[i].payment_method_details)));\r\n        amounts.push(Object.values(JSON.parse(props.appointmentdata[i].payment_method_details)));\r\n      }\r\n    }\r\n    let paymentobj = [];\r\n    let p = {\r\n      paymentmethod: \"\",\r\n      amount: 0,\r\n    };\r\n    if (Payments[0]) {\r\n      for (let j = 0; j < Payments[0].length; j++) {\r\n        allamounts.push(\r\n          (p = { paymentmethod: Payments[0][j], amount: amounts[0][j] })\r\n        );\r\n      }\r\n      if(allamounts.length>0){\r\n        setpaymentmethods(allamounts);\r\n      }else{\r\n        setpaymentmethods([paymentmethoddetails]);\r\n      }\r\n    \r\n    }\r\n\r\n    // paymentmethods.push(paymentobj);\r\n  }\r\n\r\n  useEffect(() => {\r\n    AddExtraCharges()\r\n    AddPaymentMethods();\r\n  }, [props.billform])\r\n\r\n  useEffect(() => {\r\n      AddExtraCharges()\r\n  }, [])\r\n\r\n  async function DeleteExtraCharges(i) {\r\n    if (extrachargecount[i].id) {\r\n      setextrachargecount([]);\r\n      await axios\r\n        .post(`${url}/appointment/delete/extra/charges`, {\r\n          id: extrachargecount[i].id,\r\n        })\r\n        .then((response) => {\r\n          setextrachargecount([]);\r\n          extrachargecount.splice(i, i);\r\n          Notiflix.Notify.success(response.data.message);\r\n          props.Appointmentlist();\r\n        });\r\n    } else {\r\n      extrachargecount.splice(i, i);\r\n    }\r\n  }\r\n  function DeletePaymentMethods(i) {\r\n    paymentmethods.splice(i, i);\r\n  }\r\n  function Calculate_gst(amount, discount, cgst, sgst) {\r\n    setextrachargecount((prevState) => [...prevState]);\r\n    let AMOUNT = amount ? amount : 0;\r\n    let DISCOUNT = discount ? discount : 0;\r\n    let CGST = cgst ? cgst : 0;\r\n    let SGST = sgst ? sgst : 0;\r\n    let total = AMOUNT - DISCOUNT;\r\n    CGST = ((CGST + SGST) * total) / 100;\r\n    total = total + CGST;\r\n    total = total.toFixed(2);\r\n    return total;\r\n  }\r\n  function Get_total_Seperate_gsts() {\r\n    let grosstotal = [];\r\n    let total = 0;\r\n    for (let i = 0; i < extrachargecount.length; i++) {\r\n      grosstotal.push( (Number(extrachargecount[i].gross_amount) - (Number(extrachargecount[i].amount) - Number(extrachargecount[i].discount))) / 2);\r\n    }\r\n    grosstotal.forEach((item) => {\r\n      total += item;\r\n    });\r\n    total = total.toFixed(2);\r\n    return total;\r\n  }\r\n  function Get_Grand_Total() {\r\n    let total = 0;\r\n    let discounts =\r\n      Number(aartasdiscount) + Number(docdiscount) + Number(coupondiscount);\r\n    extrachargecount.map((data) => (total += Number(data.gross_amount)));\r\n    total = total + Number(AddConsAmt) - discounts;\r\n    total = total.toFixed(2);\r\n    // if (Addcons == true) {\r\n    //   total = Number(total) + Number(ConsumableAmount())\r\n    // } else {\r\n    //   total = total\r\n    // }\r\n    return total;\r\n  }\r\n  function Total_Amount() {\r\n    let totalarr = [];\r\n    let total = 0;\r\n    if (paymentmethods && paymentmethods.length > 0) {\r\n      for (let i = 0; i < paymentmethods.length; i++) {\r\n        if(paymentmethods[i].amount){\r\n          totalarr.push(Number(paymentmethods[i].amount));\r\n        }\r\n      }\r\n      totalarr.forEach((item) => {\r\n        total += Number(item);\r\n      });\r\n      total = total.toFixed(2)\r\n      return total;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n  function Return_Amount() {\r\n    let totalarr = [];\r\n    let total = 0;\r\n    let Advance = 0;\r\n    for (let i = 0; i < paymentmethods.length; i++) {\r\n      totalarr.push(Number(paymentmethods[i].amount));\r\n    }\r\n    totalarr.forEach((item) => {\r\n      total += item;\r\n    });\r\n    if (total > Get_Grand_Total()) {\r\n      Advance = total - Get_Grand_Total();\r\n      return Advance;\r\n    } else {\r\n      return Advance;\r\n    }\r\n  }\r\n  async function SaveBill() {\r\n    let GrandTotal = Get_Grand_Total();\r\n    GrandTotal = Number(GrandTotal);\r\n    let Docfee = Number(props.doctorfee);\r\n    let DoctorDiscount = Number(docdiscount);\r\n    let AartasDiscount = Number(aartasdiscount);\r\n    let TotalCGST = Get_total_Seperate_gsts();\r\n    let TotalSGST = Get_total_Seperate_gsts();\r\n    let Description = [];\r\n    let TotalAmount = [];\r\n    let Discount = [];\r\n    let Grossamount = [];\r\n    let DiscountedAmount = [];\r\n    let ids = [];\r\n    let gstrate = [];\r\n    for (let i = 0; i < extrachargecount.length; i++) {\r\n      Description.push(extrachargecount[i].description);\r\n      TotalAmount.push(Number(extrachargecount[i].amount));\r\n      Discount.push(Number(extrachargecount[i].discount));\r\n      DiscountedAmount.push(\r\n        Number(extrachargecount[i].amount) -\r\n        Number(extrachargecount[i].discount)\r\n      );\r\n      if (extrachargecount[i].id) {\r\n        ids.push(Number(extrachargecount[i].id));\r\n      }\r\n      if (extrachargecount[i].cgst && extrachargecount[i].sgst) {\r\n        gstrate.push(\r\n          Number(extrachargecount[i].cgst + extrachargecount[i].sgst)\r\n        );\r\n      } else {\r\n        gstrate.push(0);\r\n      }\r\n      Grossamount.push(extrachargecount[i].gross_amount);\r\n    }\r\n    let Paymentmethod = [];\r\n    let Paymentmethodsvalue = [];\r\n    for (let j = 0; j < paymentmethods.length; j++) {\r\n      Paymentmethod.push(paymentmethods[j].paymentmethod);\r\n      Paymentmethodsvalue.push(Number(paymentmethods[j].amount));\r\n    }\r\n    let Data = {\r\n      appointment_id: props.appointmentid,\r\n      g_total_main: GrandTotal,\r\n      cons_fee: Docfee,\r\n      description: Description,\r\n      total_amount: TotalAmount,\r\n      discount: Discount,\r\n      amount: DiscountedAmount,\r\n      doc_dis: DoctorDiscount,\r\n      aartas_discount: AartasDiscount,\r\n      payment_method: Paymentmethod,\r\n      payment_method_main: Paymentmethod,\r\n      payment_method_details: Paymentmethodsvalue,\r\n      SGST: Number(TotalSGST),\r\n      CGST: Number(TotalCGST),\r\n      admin_id: Number(adminid),\r\n      cons_text: constext,\r\n      add_to_cart: AtC,\r\n      show_cons_fee: AddConsAmt == props.doctorfee ? 1 : 0,\r\n      ot_id: ids,\r\n      gst_rate: gstrate,\r\n      final_amount: Grossamount,\r\n      status:props.Data.appointment_status\r\n    };\r\n    async function Payment() {\r\n      try {\r\n        setload(true);  \r\n        await axios\r\n          .post(`${url}/appointment/save/charges`, Data)\r\n          .then((response) => {\r\n            props.Appointmentlist();          \r\n            if(response.data.status == true){\r\n              setload(false);\r\n              toggleStage3()\r\n              toggleStage4()\r\n              Notiflix.Notify.success(response.data.message);  \r\n            }else{\r\n              setload(false);\r\n              Notiflix.Notify.failure(response.data.message);  \r\n            }\r\n               \r\n            \r\n            // props.CloseBillForm();\r\n          });\r\n      } catch (e) {\r\n        Notiflix.Notify.failure(e.message);\r\n        setload(false);\r\n      }\r\n    }\r\n    Payment();\r\n    toggleStage3()\r\n    toggleStage4()\r\n  }\r\n  const confirmmessage = (e) => {\r\n    customconfirm();\r\n    Notiflix.Confirm.show(\r\n      `Add Charges and Payments`,\r\n      `Do you surely want to add the following Charges and Payments with Grand Total ${Get_Grand_Total()}`,\r\n      \"Yes\",\r\n      \"No\",\r\n      () => {\r\n        setAtC(0);\r\n        SaveBill();\r\n      },\r\n      () => {\r\n        toggleStage3()\r\n        toggleStage4()\r\n      },\r\n      {}\r\n    );\r\n  };\r\n  const AddtoCart = async () => {\r\n    customconfirm();\r\n    Notiflix.Confirm.show(\r\n      `Add Charges and Payments in Cart`,\r\n      `Do you surely want to add the following Charges and Payments with Grand Total ${Get_Grand_Total()} in Cart`,\r\n      \"Yes\",\r\n      \"No\",\r\n      () => {\r\n        setAtC(1);\r\n        SaveBill();\r\n      },\r\n      () => {\r\n        setAtC(0);\r\n        SaveBill();\r\n      },\r\n      {}\r\n    );\r\n  };\r\n  async function AdvancePayments() {\r\n    setloadadvancepayments(true);\r\n    axios.post(`${url}/advance/balance`, {\r\n        patient_id: props.patientid,\r\n      })\r\n      .then((response) => {\r\n          setadvancepayments(response.data.data);\r\n          setloadadvancepayments(false);\r\n      }).catch((e)=>{\r\n        Notiflix.Notify.failure(e.message)\r\n      })\r\n  }\r\n  const ConsumableAmount = () => {\r\n    let consumables_amount = []\r\n    let Total = 0;\r\n    for (let i = 0; i < props.appointmentdata.length; i++) {\r\n      if (props.appointmentid == props.appointmentdata[i].id) {\r\n        for (let j = 0; j < props.appointmentdata[i].medicine_used.length; j++) {\r\n          consumables_amount.push(props.appointmentdata[i].medicine_used[j].total_amount)\r\n        }\r\n      }\r\n    }\r\n\r\n    consumables_amount.forEach((data) => (\r\n      Total += data\r\n    ))\r\n    Total = Total.toFixed(2)\r\n    return Total\r\n  }\r\n  useEffect(() => {\r\n    AdvancePayments();\r\n    ConsumableAmount();\r\n  }, []);\r\n  const [stage1, setstage1] = useState('block')\r\n  const toggleStage1 = () => {\r\n    if (stage1 == 'block') {\r\n      setstage1('none')\r\n    }\r\n    if (stage1 == 'none') {\r\n      setstage1('block')\r\n    }\r\n  }\r\n  const [stage2, setstage2] = useState('none')\r\n  const toggleStage2 = () => {\r\n    if (stage2 == 'block') {\r\n      setstage2('none')\r\n    }\r\n    if (stage2 == 'none') {\r\n      setstage2('block')\r\n    }\r\n  }\r\n  const [stage3, setstage3] = useState('none')\r\n\r\n  const toggleStage3 = () => {\r\n    if (stage3 == 'none') {\r\n      setstage3('block')\r\n    }\r\n    if (stage3 == 'block') {\r\n      setstage3('none')\r\n    }\r\n  }\r\n\r\n  const [stage4, setstage4] = useState('none')\r\n  const toggleStage4 = () => {\r\n    if (stage4 == 'none') {\r\n      setstage4('block')\r\n    }\r\n    if (stage4 == 'block') {\r\n      setstage4('none')\r\n    }\r\n  }\r\n  const Go_Back = () => {\r\n    if (stage2 === 'block') {\r\n      toggleStage2()\r\n      toggleStage1()\r\n    }\r\n    if (stage3 === 'block') {\r\n      toggleStage3()\r\n      toggleStage2()\r\n    }\r\n    if (stage4 === 'block') {\r\n      toggleStage4()\r\n      toggleStage3()\r\n    }\r\n  }\r\n    \r\n  function AddMethods() {\r\n    if (paymentmethods && paymentmethods.length > 0) {\r\n      setpaymentmethods((prevState) => [...prevState, paymentmethoddetails]);\r\n    } else {\r\n      setpaymentmethods([paymentmethoddetails]);\r\n    }\r\n  }\r\n  function AddCharges() {\r\n    if (extrachargecount && extrachargecount.length > 0) {\r\n      setextrachargecount((prevState) => [...prevState, Charges]);\r\n    } else {\r\n      setextrachargecount([Charges]);\r\n    }\r\n  }\r\n\r\n  const Generate_Bill = async (id) => {\r\n    Notiflix.Loading.circle('Generating Bill', {\r\n      backgroundColor: 'rgb(242, 242, 242,0.5)',\r\n      svgColor: '#96351E',\r\n      messageColor: '#96351E',\r\n      messageFontSize: '1.5rem'\r\n    })\r\n    try {\r\n      axios.post(`${url}/appointment/bill`, {\r\n        appointment_id: id,\r\n        admin_id: adminid\r\n      }).then((response) => {\r\n        if(response.data.status == true){\r\n          Notiflix.Loading.remove()\r\n          Notiflix.Notify.success(response.data.message)\r\n          props.Appointmentlist();  \r\n          window.open(response.data.data.bill_url, '_blank', 'noreferrer');\r\n        }else{\r\n          Notiflix.Loading.remove()\r\n          Notiflix.Notify.failure(response.data.message)\r\n\r\n        }    \r\n\r\n      })\r\n    } catch (e) {\r\n      Notiflix.Loading.remove()\r\n      Notiflix.Notify.failure(e.message)\r\n  \r\n    }\r\n  }\r\n\r\n  const Generate_Prescription = async (id) => {\r\n    Notiflix.Loading.circle('Generating Prescription', {\r\n      backgroundColor: 'rgb(242, 242, 242,0.5)',\r\n      svgColor: '#96351E',\r\n      messageColor: '#96351E',\r\n      messageFontSize: '1.5rem'\r\n    })\r\n    try {\r\n      axios.post(`${url}/swift/pdf`, {\r\n        appointment_id: id,\r\n      }).then((response) => {\r\n        if(response.data.status == true){\r\n          Notiflix.Notify.success(response.data.message)\r\n          props.Appointmentlist();  \r\n          window.open(response.data.data.prescription_pdf, '_blank', 'noreferrer');\r\n        }else{\r\n          Notiflix.Notify.failure(response.data.message)\r\n        }\r\n      }).catch((e)=>{\r\n        Notiflix.Loading.remove()\r\n        Notiflix.Notify.failure(e.message)\r\n      })\r\n    } catch (e) {\r\n      Notiflix.Loading.remove()\r\n      Notiflix.Notify.failure(e.message)\r\n    }\r\n  }\r\n\r\n  const Send_On_WhatsApp = async (id, phone, check) => {\r\n    let checkpres = check\r\n    if (phone == undefined || phone == null) {\r\n      Notiflix.Notify.failure('Please Add a Phone Number to send the message on WhatsApp')\r\n    } else {\r\n      Notiflix.Loading.circle('Sending Bill on Whats App', {\r\n        backgroundColor: 'rgb(242, 242, 242,0.5)',\r\n        svgColor: '#96351E',\r\n        messageColor: '#96351E',\r\n        messageFontSize: '1.5rem'\r\n      })\r\n      try {\r\n        axios.post(`${url}/send/bill/whatsapp`, {\r\n          appointment_id: id,\r\n          check_pres: checkpres,\r\n          admin_id: adminid\r\n        }).then((response) => {\r\n          if(response.data.status == true){\r\n            Notiflix.Notify.success(`${response.data.message}${checkpres == 1 ? ' with Prescription' : ' without Prescription'}`)\r\n            Notiflix.Loading.remove()\r\n          }else{\r\n            Notiflix.Notify.failure(response.data.message)\r\n            Notiflix.Loading.remove()\r\n          }\r\n\r\n        })\r\n      } catch (e) {\r\n        Notiflix.Notify.failure(e.message)\r\n        Notiflix.Loading.remove()\r\n      }\r\n    }\r\n\r\n  } \r\n  const Send_On_SMS = async (id, phone, check) => {\r\n    let checkpres = check\r\n    if (phone == undefined || phone == null) {\r\n      Notiflix.Notify.failure('Please Add a Phone Number to send the message on SMS')\r\n    } else {\r\n      Notiflix.Loading.circle('Sending Bill on SMS', {\r\n        backgroundColor: 'rgb(242, 242, 242,0.5)',\r\n        svgColor: '#96351E',\r\n        messageColor: '#96351E',\r\n        messageFontSize: '1.5rem'\r\n      })\r\n      try {\r\n        axios.post(`${url}/send/bill/sms`, {\r\n          appointment_id: id,\r\n          check_bill: 1,\r\n          check_pre: checkpres,\r\n        }).then((response) => {\r\n          if(response.data.status == true){\r\n            Notiflix.Notify.success(`${response.data.message}${checkpres == 1 ? ' with Prescription' : ' without Prescription'}`)\r\n            Notiflix.Loading.remove()\r\n          }else{\r\n            Notiflix.Notify.failure(response.data.message)\r\n            Notiflix.Loading.remove()\r\n          }\r\n    \r\n        })\r\n      } catch (e) {\r\n        Notiflix.Notify.failure(e.message)\r\n        Notiflix.Loading.remove()\r\n      }\r\n    }\r\n\r\n  }\r\n  // const [OnWhatsapp,setOnWhatsapp] = useState()\r\n  // const On_Whatsapp = ()=>{\r\n  //   try{\r\n  //     axios.post(`${url}/check/contact/on/whatsapp`,{\r\n  //       phone_number:props.phone_number\r\n  //     }).then((response)=>{\r\n  //       setOnWhatsapp(response.data.data)\r\n  //     })\r\n  //   }catch(e){\r\n  //     Notiflix.Notify.failure(e.message)\r\n  //   }\r\n  // }\r\n\r\nconst togglecamera = ()=>{\r\n  window.open('/scan/prescription','_blank')\r\n}\r\nconst [prescriptions,setprescriptions] =useState([])\r\n\r\n async function get_docs(){\r\n  const data = await Get_Document(props.appointmentid)\r\n  setprescriptions(data)\r\n  }\r\nuseEffect(()=>{\r\n  get_docs()\r\n  // On_Whatsapp()\r\n},[])\r\n\r\n\r\nreturn (\r\n    <>\r\n    <div className=\" position-relative rounded-2 bg-seashell\" style={{minHeight:'100%'}}>\r\n    <div className=\"shadow-sm\">\r\n      <h5 className=\"text-center fw-bold py-2\">{props.patientname} Bill</h5>\r\n      <button className={`btn btn-back position-absolute start-0 top-0 ms-2 d-${stage1 == 'block' ? 'none' : 'block'}`} onClick={() => { Go_Back() }}   ></button>\r\n      <button className=\"btn btn-close position-absolute end-0 top-0 me-2\" onClick={() => { props.CloseBillForm(); }}  ></button>\r\n    </div>\r\n    <div className={`stage1 d-${stage1}`}>\r\n               <div className=\"px-4 pt-4\">\r\n               <label className=\" text-charcoal fw-bolder mt-2 mb-3\">\r\n                 <input className=\"form-check-input me-1 \" type=\"checkbox\" checked={AddConsAmt} onClick={AddConsAmt == props.doctorfee ? () => setAddConsAmt(0) : () => setAddConsAmt(props.doctorfee)} />\r\n                 Add Consultation Amount\r\n               </label>\r\n               <div className=\"row p-0 m-0 justify-content-between\">\r\n                 <div className=\"col-4 ps-0 \">\r\n                   <label className=\"text-charcoal75 fw-bold\"> Doctor's Consultation Charge </label>\r\n                   <input className=\"form-control bg-seashell fw-bold\" disabled={true} value={AddConsAmt} />\r\n                 </div>\r\n                 <div className=\"col-8 pe-0 \">\r\n                   <label className=\"text-charcoal75 fw-bold\"> Consultation text </label>\r\n                   <input className=\"form-control bg-seashell fw-bold\" value={constext ? constext : \"\"} onChange={(e) => setconstext(e.target.value)} />\r\n                 </div>\r\n               </div>\r\n               <div className=\"mt-5 text-start\">\r\n                <h5 className=\"fw-bolder text-charcoal\">Discounts</h5>\r\n                <div className=\"row p-0 m-0\">\r\n                  <div className=\"col-4 ps-0\">\r\n                    <label className=\"text-charcoal75 fw-bold\">Coupon</label>\r\n                    <input\r\n                      className=\"form-control fw-bold text-charcoal text-start\"\r\n                      disabled={true}\r\n                      value={coupondiscount ? coupondiscount : \"\"}\r\n                      onChange={(e) => setcoupondiscount(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <label className=\"text-charcoal75 fw-bold\">Doctor</label>\r\n                    <input className=\"form-control bg-seashell fw-bold text-charcoal text-start\" value={docdiscount ? docdiscount : \"\"} onChange={(e) => setdocdiscount(e.target.value)} />\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <label className=\"text-charcoal75 fw-bold\">Aartas</label>\r\n                    <input className=\"form-control bg-seashell fw-bold text-charcoal text-start\" value={aartasdiscount ? aartasdiscount : \"\"} onChange={(e) => setaartasdiscount(e.target.value)} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n               </div>\r\n               \r\n        \r\n      <div className=\"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar\">\r\n      {\r\n      load ? (\r\n              <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row p-0 m-0 text-center align-items-center mt-1 justify-content-between \">\r\n                <div className=\"col-4 align-self-end text-start\">\r\n                  <label className=\" fw-bolder text-charcoal text-wrap text-start\"> Grand Total </label>\r\n                  <input className=\"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0  bg-pearl\" value={\"₹\" + Get_Grand_Total()} />\r\n                </div>\r\n                {/* <div className=\"col-6 d-flex justify-content-end\">\r\n                  <button className=\"button button-pearl\" onClick={AddtoCart}>\r\n                    Add to Cart\r\n                  </button>\r\n                </div> */}\r\n                <div className=\"col-sm-auto col-2 d-flex justify-content-start ps-2\">\r\n                  <button className=\"button button-charcoal \" onClick={()=>{toggleStage1();toggleStage2();}} >Extra Charges </button>\r\n                </div>\r\n              </div>\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n    <div className={`stage2 d-${stage2} scroll`}>\r\n                <div className=\"container-fluid text-start p-2\">\r\n                <div className=\"bg-seashell position-relative\">\r\n                  <div className=\"row p-0 m-0 align-items-center mb-2\">\r\n                    <div className=\"col-auto p-0 m-0 ps-2 pe-1\">\r\n                      <h5 className=\" p-0 m-0 text-charcoal fw-bolder\"> Extra Charges </h5>\r\n                    </div>\r\n                  </div>\r\n                  {props.isLoading ? (\r\n                    <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n                      <div class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                        <span class=\"visually-hidden\">Loading...</span>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    extrachargecount.map((data, i) => (\r\n                      <div className=\"container-fluid p-0 m-0\">\r\n                        <div className=\"row p-0 m-0 align-items-center\">\r\n                          <div className=\"col-10\">\r\n                          <div className=\"row p-0 m-0\">\r\n                          <div className=\"col-8 ps-0 ms-0\">\r\n                            <label className=\"fw-bold text-charcoal75 text-start ps-1\"> Description </label>\r\n                            <input className=\"form-control bg-seashell m-0 text-start fw-bold \" value={data.description ? data.description : \"\"} onChange={(e) => { data.description = e.target.value; Calculate_gst(data.amount, data.discount, data.cgst, data.sgst); }} />\r\n                          </div>\r\n                          <div className=\"col-4\">\r\n                            <label className=\"fw-bold text-charcoal75 text-start ps-1\">\r\n                              Amount\r\n                            </label>\r\n                            <input type=\"number\" className=\"form-control text-start bg-seashell m-0 fw-bold \" value={data.amount ? data.amount : \"\"} onChange={(e) => { data.amount = e.target.value; data.gross_amount = Calculate_gst(data.amount, data.discount, data.cgst, data.sgst); }} />\r\n                          </div>\r\n                          </div>\r\n                          <div className=\"row p-0 m-0 mt-1\">\r\n                          <div className=\"col-4 ms-0 ps-0\">\r\n                            <label className=\"fw-bold text-charcoal75 text-start ps-1\">\r\n                              Discount ₹\r\n                            </label>\r\n                            <input type=\"number\" className=\"form-control text-start bg-seashell m-0 fw-bold \" value={data.discount ? data.discount : \"\"} onChange={(e) => { data.discount = e.target.value; data.gross_amount = Calculate_gst(data.amount, data.discount, data.cgst, data.sgst); }} />\r\n                          </div>\r\n                          <div className=\"col-4\">\r\n                            <label className=\"fw-bold text-charcoal75 text-start ps-1\"> GST % </label>\r\n                            <input type=\"number\" className=\"form-control text-start bg-seashell m-0 fw-bold \" value={data.cgst && data.sgst ? data.cgst + data.sgst : \"\"} onChange={(e) => { data.cgst = e.target.value / 2; data.sgst = e.target.value / 2; data.gross_amount = Calculate_gst(data.amount, data.discount, data.cgst, data.sgst); }} />\r\n                          </div>\r\n                          <div className=\"col-4 p-0 align-self-end \">\r\n                            <div className=\"row p-0 m-0 \">\r\n                              <div className=\"col-6 p-0 m-0 fw-bold text-charcoal75 text-end\"> Amount: </div>\r\n                              <input type=\"number\" className=\"col-6 p-0 border-0 text-start bg-seashell m-0 ps-1 fw-bold text-burntumber\" style={{ letterSpacing: \"1px\" }} value={data.amount && data.discount ? data.amount - data.discount : \"\"} onChange={(e) => { data.gross_amount = Calculate_gst(data.amount, data.discount, data.cgst, data.sgst); }} />\r\n                            </div>\r\n                            <div className=\"row p-0 m-0\">\r\n                              <div className=\"col-6 p-0 m-0 fw-bold text-charcoal75 text-end\"> incl. gst: </div>\r\n                              <input className=\"col-6 p-0 border-0 m-0 text-start bg-seashell ps-1 fw-bold text-burntumber\" style={{ letterSpacing: \"1px\" }} value={data.gross_amount ? data.gross_amount : \"\"} />\r\n                            </div>\r\n                          </div>\r\n                          </div>\r\n                          </div>\r\n                          <div className=\"col-2\">\r\n                            <button className={`btn btn-sm p-0 m-0 d-${i==0?'none':'block'}`} onClick={() => { DeleteExtraCharges(i); setpaymentmethods((prevState) => [...prevState]); }} >\r\n                              <img src={process.env.PUBLIC_URL + \"/images/minus.png\"} className=\"img-fluid p-0 m-0\" style={{width:'1.5rem'}} />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n           \r\n                      </div>\r\n                    ))\r\n                  )}\r\n                               <div className={`container-fluid text-center mt-2  `}>    \r\n                        <button className=\"btn p-0 m-0 py-0\" onClick={() =>AddCharges()} >\r\n                        <img src={process.env.PUBLIC_URL + \"/images/add.png\"} className=\"img-fluid\" style={{width:'1.8rem'}} />\r\n                      </button>\r\n            </div>\r\n                 \r\n                </div>\r\n              </div>\r\n      <div className=\"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar\">\r\n      {\r\n      load ? (\r\n              <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row p-0 m-0 text-center align-items-center mt-1 \">\r\n                <div className=\"col-3 align-self-end text-start\">\r\n                  <label className=\" fw-bolder text-charcoal text-wrap text-start\"> Grand Total </label>\r\n                  <input className=\"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl\" value={\"₹\" + Get_Grand_Total()} />\r\n                </div>\r\n                <div className=\"col-3 align-self-end text-start\">\r\n                <label className=\"fw-bolder text-charcoal text-wrap text-start\"><small>SGST</small> </label>\r\n                <input className=\"form-control rounded-1 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl\" disabled value={SGST ? SGST : \"₹\" +Get_total_Seperate_gsts()} onChange={(e) => setSGST(e.target.value)} />\r\n                </div>\r\n                <div className=\"col-3 align-self-end text-start\">\r\n                <label className=\"fw-bolder text-charcoal text-wrap text-start\"><small>CGST</small></label>\r\n                <input className=\"form-control rounded-1 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl\" disabled value={CGST ? CGST : \"₹\" + Get_total_Seperate_gsts()} onChange={(e) => setCGST(e.target.value)} />\r\n                </div>\r\n                {/* <div className=\"col-6 d-flex justify-content-end\">\r\n                  <button className=\"button button-pearl\" onClick={AddtoCart}>\r\n                    Add to Cart\r\n                  </button>\r\n                </div> */}\r\n                <div className=\" col-3 d-flex justify-content-end ps-2\">\r\n                  <button className=\"button button-charcoal \" onClick={()=>{toggleStage2();toggleStage3();}} > Payments </button>\r\n                </div>\r\n              </div>\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n    <div className={`stage3 d-${stage3} scroll`}>\r\n\r\n            <div className=\" text-start position-relative px-3\">\r\n            <h5 className=\"text-charcoal fw-bolder text-start ps-1\">Payments</h5>\r\n            {\r\n              paymentmethods && paymentmethods !== undefined ? (\r\n                paymentmethods.map((data, i) =>\r\n                    <>\r\n                      <div className=\" mt-4\">\r\n                        <div className=\"row p-0 m-0 align-items-center\">\r\n                          <div className=\"col-10 ps-0\">\r\n                            <h6 className=\"text-charcoal75 fw-bold\">Enter Amount</h6>\r\n                            <input type=\"number\" placeholder=\"₹00\" value={data.amount} onChange={(e) => { data.amount = e.target.value; setpaymentmethods((prevState) => [...prevState]); }} className=\"form-control rounded-1 fw-bold text-charocoal75 bg-seashell w-25 border-2\" />\r\n                          </div>\r\n                          <div className=\"col-2\">\r\n                            <button className={`btn btn-sm p-0 m-0 d-${i == 0 ? 'none' : 'block'}`} onClick={() => { DeletePaymentMethods(i); setpaymentmethods((prevState) => [...prevState]); }} >\r\n                              <img src={process.env.PUBLIC_URL + \"/images/minus.png\"} className=\"img-fluid\" style={{ width: \"1.5rem\" }}/>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div >\r\n                      <h6 className=\"text-charcoal75 fw-bold mt-2\">Select Payment Method</h6>\r\n                      <div className=\"d-flex flex-horizontal mt-2 scroll\" style={{minHeight:'min-content'}}>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Cash'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Cash' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Cash' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Cash</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Points'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Points' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Points' />\r\n                        <span>\r\n                        <h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Points<div className=\" text-success fw-bold\">{props.Data.patient.reward_points !=undefined  && props.Data.patient.reward_points.points_total!=undefined && props.Data.patient.reward_points.points_total !=null ? props.Data.patient.reward_points.points_total :0}</div></h6>\r\n                        </span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Adjust-Advance'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Adjust-Advance' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Adjust-Advance' />\r\n                        <span>\r\n                        <h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Adjust-Advance                {\r\n                      loadadvancepayments ? (\r\n                        <div className=\" py-2 pb-2 m-auto text-center\">\r\n                          <div class=\"spinner-border spinner-border-sm\" role=\"status\" >\r\n                            <span class=\"visually-hidden\">Loading...</span>\r\n                          </div>\r\n                        </div>\r\n                      ) : advancepayments ? (\r\n                        <div className=\"text-success text-start border-0 rounded-1 fw-bolder p-0  bg-seashell\">\r\n                          {\"₹\" + advancepayments.advnace_total}\r\n                        </div>\r\n                      ) : (\r\n                        // <input className='form-control text-success text-start border-0 rounded-1 fw-bolder p-0  bg-seashell' value= />\r\n                        <div className=\"text-success fw-bold\"> 0 </div>\r\n                      )}</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Card'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Card' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Card' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Card</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Paytm'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Paytm' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Paytm' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Paytm</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Phonepe'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Phonepe' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Phonepe' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Phonepe</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Razorpay'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Razorpay' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Razorpay' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Razorpay</h6></span>\r\n                        <input type=\"checkbox\" className=\"form-check-input p-2 mt-1\" onChange={() => { data.paymentmethod = 'Wire-Transfer'; setpaymentmethods((prevState) => [...prevState]); }} checked={'Wire-Transfer' == data.paymentmethod ? true : false} onClick={(e) => { ischecked != undefined ? setischecked() : setischecked(e.target.value); }} value='Wire-Transfer' /><span><h6 className=\"d-block text-charcoal fw-bold pt-1 ms-2 me-5\">Wire-Transfer</h6></span>\r\n                      </div>\r\n                    </>\r\n                )\r\n              ) : (\r\n                <></>\r\n              )\r\n            }\r\n            <div className={`container-fluid text-center mt-2  `}>    \r\n                  <button className=\"btn py-0\" onClick={AddMethods}>\r\n                    <img src={process.env.PUBLIC_URL + \"/images/add.png\"} className=\"img-fluid\" style={{ width: \"1.8rem\" }} />\r\n                  </button>\r\n            </div>\r\n          </div>\r\n      <div className=\"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar\">\r\n      {\r\n      load ? (\r\n              <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row p-0 m-0 text-center align-items-center mt-1 \">\r\n                <div className=\"col-3 align-self-end text-start\">\r\n                  <label className=\" fw-bolder text-charcoal text-wrap text-start\"> Grand Total </label>\r\n                  <input className=\"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl\" value={\"₹\" + Get_Grand_Total()} />\r\n                </div>\r\n                <div className=\"col-3 align-self-end text-start\">\r\n                <label className=\" fw-bolder text-charcoal text-wrap text-start\"> Amount Recieved</label>\r\n                  <div className=\"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0 bg-pearl\"> {paymentmethods && paymentmethods.length > 0 ? \"₹\" + Total_Amount() : \"₹\" + 0} </div>\r\n                </div>\r\n                <div className=\"col-3 align-self-end text-start fw-bolder text-charcoal text-wrap text-start \">\r\n                 Extra Amount\r\n                 <div className=\"toolTip\">\r\n                 {\r\n                  Return_Amount() > 0 ?(\r\n                    <img src={process.env.PUBLIC_URL+'/images/info.png'} className=\"p-0 m-0 ms-2 img-fluid toolTip\" style={{width:'1rem'}}/>\r\n                  ):(<></>)\r\n                 }\r\n                <span className=\"tooltiptext\">Click to save it as Advance Payment</span>\r\n              </div>\r\n      \r\n                <div className=\"form-control rounded-1 fs-6 text-success text-start border-0 fw-bolder p-0 bg-pearl\">{Return_Amount() > 0 ? `+ ₹${Return_Amount()}` : \"₹\"+0} </div>\r\n                  </div>\r\n                {/* <div className=\"col-6 d-flex justify-content-end\">\r\n                  <button className=\"button button-pearl\" onClick={AddtoCart}>\r\n                    Add to Cart\r\n                  </button>\r\n                </div> */}\r\n                <div className=\"col-sm-auto col-2 d-flex justify-content-start ps-2\">\r\n                  <button className=\"button button-charcoal\" onClick={()=>{confirmmessage();}}> Bill & Prescription </button>\r\n                </div>\r\n              </div>\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n    <div className={`stage4 d-${stage4} scroll`} style={{minHeight:'57vh'}}>\r\n        <div className=\"container px-3\">\r\n        <h5 className=\"text-charcoal fw-bold mb-3\">Bill & Prescription</h5>\r\n        {/* <div className=\"container p-0 m-0 mb-3\">\r\n            <div className=\"row p-0 m-0 bg-pearl rounded-2\">\r\n              {\r\n                prescriptions?(\r\n                  prescriptions && prescriptions.map((Data,i)=>(\r\n                    <div className=\"col \"key={i}><img src={`https://aartas-qaapp-as.azurewebsites.net/aartas_uat/public/assets/scanned_documents/${Data.file}`} className=\"img-fluid\" style={{width:'8rem'}}/></div>\r\n                  ))\r\n                ):(\r\n                  <div className=\"text-center text-charcoal75 py-4 fw-bold d-flex align-items-center justify-content-center\">No prescriptions Scanned</div>\r\n                )\r\n            \r\n              }\r\n            </div>\r\n        </div> */}\r\n\r\n            <button className=\"button button-charcoal\" onClick={()=>{togglecamera()}}>Scan Prescription</button>\r\n\r\n            <div className=\"row p-0 m-0 mt-4\">\r\n              <h6 className=\"fw-bold text-charcoal75 ps-0 ms-0\">Generate Bill & Prescription</h6>\r\n            <div className=\"col-auto ps-0 ms-0\">\r\n            <button className=\"button button-charcoal px-4\" onClick={()=>{Generate_Bill(props.appointmentid)}}>Bill</button>\r\n            </div>\r\n            <div className=\"col-auto\">\r\n            <div className='vr rounded-1 align-self-center' style={{ padding: '0.8px' }}></div>\r\n            </div>\r\n            <div className=\"col-6\">\r\n            <button className=\"button button-charcoal\" onClick={()=>{Generate_Prescription(props.appointmentid)}}>Prescription</button> \r\n            </div>\r\n            </div>\r\n          <div className=\"row p-0 m-0 mt-4\">\r\n            <h6 className=\"fw-bold text-charcoal75 ms-0 ps-0\">Send Bill and Prescription</h6>\r\n            <div className=\"row ps-0 ms-0\">\r\n              <div className={`col-12 ms-0 ps-0 mt-2 `}>\r\n                <div className=\"row ps-0 ms-0\">\r\n                <h6 className=\"ms-0 ps-0 text-charcoal fw-bold\">On WhatsApp <span className=\"ms-2 text-success\">{props.Data.whatsapp_sent==1?'(Already Sent on Whats App)':''}</span></h6>\r\n                  <div className=\"col-6 ms-0 ps-0\">\r\n                  <button className=\"btn border-0 p-0 m-0 fw-bold\" onClick={()=>{Send_On_WhatsApp(props.appointmentid, props.Data.patient.phone_number, 0)}}><img src={process.env.PUBLIC_URL+'/images/whatsapp.png'} className=\"img-fluid\" style={{width:'1.5rem'}}/>Bill</button>\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                  <button className=\"btn border-0 p-0 m-0 fw-bold\" onClick={()=>{Send_On_WhatsApp(props.appointmentid, props.Data.patient.phone_number, 1)}}><img src={process.env.PUBLIC_URL+'/images/whatsapp.png'} className=\"img-fluid\" style={{width:'1.5rem'}}/>Bill with Prescription</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 ms-0 ps-0 mt-2\">\r\n              <div className=\"row ps-0 ms-0\">\r\n                <h6 className=\"ms-0 ps-0 text-charcoal fw-bold\">On SMS</h6>\r\n                  <div className=\"col-6 ms-0 ps-0\">\r\n                  <button className=\"btn border-0 p-0 m-0 fw-bold\" onClick={()=>{Send_On_SMS(props.appointmentid, props.Data.patient.phone_number, 0)}}><img src={process.env.PUBLIC_URL+'/images/message.png'} className=\"img-fluid\" style={{width:'1.2rem'}}/>Bill</button>\r\n                  </div>\r\n                  <div className=\"col-6\">\r\n                  <button className=\"btn border-0 p-0 m-0 fw-bold\" onClick={()=>{ Send_On_SMS(props.appointmentid, props.Data.patient.phone_number, 1)}}><img src={process.env.PUBLIC_URL+'/images/message.png'} className=\"img-fluid\" style={{width:'1.2rem'}}/>Bill with Prescription</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      <div className=\"w-100 position-absolute bottom-0 bg-pearl py-2 bottom_bar\">\r\n      {\r\n      load ? (\r\n              <div className=\"col-6 py-2 pb-2 m-auto text-center\">\r\n                <div class=\"spinner-border\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row p-0 m-0 text-center align-items-center mt-1 justify-content-between \">\r\n                <div className=\"col-4 align-self-end text-start\">\r\n                  <label className=\" fw-bolder text-charcoal text-wrap text-start\"> Grand Total </label>\r\n                  <input className=\"form-control rounded-1 fs-6 text-burntumber text-start border-0 fw-bolder p-0  bg-pearl\" value={\"₹\" + Get_Grand_Total()} />\r\n                </div>\r\n                {/* <div className=\"col-6 d-flex justify-content-end\">\r\n                  <button className=\"button button-pearl\" onClick={AddtoCart}>\r\n                    Add to Cart\r\n                  </button>\r\n                </div> */}\r\n                <div className=\"col-sm-auto col-2 d-flex justify-content-start ps-2\">\r\n                  <button className=\"button button-charcoal \" onClick={()=>{props.setsingleload(0);props.Appointmentlist();props.CloseBillForm()}} > Done </button>\r\n                </div>\r\n              </div>\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n  </div >\r\n  </>\r\n  );\r\n};\r\n\r\nexport { Bill };\r\n","import axios from 'axios'\r\nimport React from 'react'\r\nimport { URL } from '../../index'\r\nimport { useContext } from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport Notiflix from 'notiflix'\r\nimport '../../css/dashboard.css'\r\n\r\nconst Payments = (props) => {\r\n    const url = useContext(URL)\r\n    const adminid = localStorage.getItem('id')\r\n    const [blocksindex, setblocksindex] = useState(props.paymentsi == undefined ? 0 : 1)\r\n    const blocks = ['Advance payments', 'Pending Payments']\r\n    //Pending Payments\r\n    const [pendingpayments, setpendingpayments] = useState([])\r\n    const [pendingpaymentmethods, setpendingpaymentmethods] = useState([])\r\n    //Advance Payments\r\n    const [advancepaymentmethods, setadvancepaymentmethods] = useState([])\r\n    const [loadadvancepayments, setloadadvancepayments] = useState(false)\r\n    const [Description, setDescription] = useState('')\r\n    const [advancepaid, setadvancepaid] = useState()\r\n    const [loadappoint, setloadappoint] = useState(false)\r\n\r\n    const advancepaymentmethoddetails = {\r\n        paymentmethod: '',\r\n        amount: 0\r\n    }\r\n    const pendingpaymentmethoddetails = {\r\n        paymentmethod: '',\r\n        amount: 0\r\n    }\r\n    async function AdvancePayments() {\r\n        setloadadvancepayments(true)\r\n        axios.get(`${url}/get/balance/list?patient_id=${props.patientid?props.patientid:\"\"}`).then((response) => {\r\n            setadvancepaid(response.data.data['Advanve Balance'])\r\n            setloadadvancepayments(false)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        AdvancePayments()\r\n    }, [])\r\n\r\n    async function AddadvancePaymentMethods() {\r\n        let amount = []\r\n        let paymentmethod = []\r\n        for (let j = 0; j < advancepaymentmethods.length; j++) {\r\n            paymentmethod.push(advancepaymentmethods[j].paymentmethod)\r\n            amount.push(advancepaymentmethods[j].amount)\r\n\r\n        }\r\n        let Data = {\r\n            patient_id: props.patientid,\r\n            admin_id: Number(adminid),\r\n            description: Description,\r\n            payment_method: paymentmethod,\r\n            payment_method_main: paymentmethod,\r\n            payment_method_details: amount\r\n        }\r\n        async function Payment() {\r\n            setloadadvancepayments(true)\r\n            await axios.post(`${url}/save/advance`, Data).then((response) => {\r\n                \r\n                props.Appointmentlist()\r\n                setadvancepaymentmethods([])\r\n                setDescription('')\r\n                AdvancePayments()\r\n                Notiflix.Notify.success(response.data.message)\r\n                setloadadvancepayments(false)\r\n            })\r\n        }\r\n        Payment()\r\n    }\r\n\r\n    function DeleteadvancePaymentMethods(i) {\r\n        advancepaymentmethods.splice(i, i)\r\n    }\r\n    function DeletependingPaymentMethods(i) {\r\n        pendingpaymentmethods.splice(i, i)\r\n    }\r\n    async function ExistedPendingPayments() {\r\n        let pendings = []\r\n        for (let i = 0; i < props.appointmentdata.length; i++) {\r\n            if (props.appointmentid == props.appointmentdata[i].id) {\r\n                for (let j = 0; j < props.appointmentdata[i].pending_payments.length; j++) {\r\n                    pendings.push(props.appointmentdata[i].pending_payments[j])\r\n                }\r\n            }\r\n\r\n        }\r\n        setpendingpayments(pendings)\r\n    }\r\n    useEffect(() => {\r\n        ExistedPendingPayments()\r\n    }, [])\r\n\r\n    async function UpdatePendingPayments() {\r\n        let Paymentmethod = [];\r\n        let Paymentmethodsvalue = []\r\n        let pendingid = '';\r\n        for (let i = 0; i < props.appointmentdata.length; i++) {\r\n            for (let j = 0; j < props.appointmentdata[i].pending_payments.length; j++) {\r\n                if (props.appointmentid == props.appointmentdata[i].id) {\r\n                    if (props.appointmentdata[i].pending_payments[j].is_paid == 0) {\r\n                        pendingid = props.appointmentdata[i].pending_payments[j].id\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let j = 0; j < pendingpaymentmethods.length; j++) {\r\n            Paymentmethod.push(pendingpaymentmethods[j].paymentmethod)\r\n            Paymentmethodsvalue.push(Number(pendingpaymentmethods[j].amount))\r\n        }\r\n        let Data = {\r\n            payment_method: Paymentmethod,\r\n            payment_method_main: Paymentmethod,\r\n            payment_method_details: Paymentmethodsvalue,\r\n            admin_id: Number(adminid),\r\n            pending_id: pendingid\r\n        }\r\n        async function Payment() {\r\n            setloadappoint(true)\r\n            await axios.post(`${url}/appointment/save/pending/charges`, Data).then((response) => {\r\n                props.Appointmentlist()\r\n                Notiflix.Notify.success(response.data.message)\r\n                props.setsingleload(0)\r\n                setblocksindex(1)\r\n                setloadappoint(false)\r\n                props.ClosePaymentsForm()\r\n            })\r\n        }\r\n        Payment()\r\n    }\r\n    const reversefunction = (date) => {\r\n        if (date && date != null) {\r\n            date = date.split(\"-\").reverse().join(\"-\")\r\n            return date\r\n        }\r\n    }\r\n    return (\r\n\r\n        <div className='container-fluid p-0 m-0'>\r\n            <div className=\"shadow-sm pt-2 pb-1\">\r\n            <h5 className='text-center fw-bold'>{props.patientname} Payments Section</h5>\r\n            <button className='btn-close position-absolute end-0 p-2 top-0' onClick={props.ClosePaymentsForm}></button>\r\n            </div>\r\n            <div className=\"d-flex justify-content-start p-0 m-0 gx-2 mt-3 ms-3\">\r\n                {\r\n                    blocks.map((Data, i) => (\r\n\r\n                        <button className={`button button-${i === blocksindex ? 'charcoal' : 'seashell'} rounded-1 me-1 border-charcoal rounded-0`} onClick={() => { setblocksindex(i) }}>{Data}</button>\r\n\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className={`container-fluid  p-0 m-0 ps-3 mt-4  d-${blocksindex === 0 ? 'block' : 'none'}`}>\r\n                <h6 className='text-charcoal75 fw-bolder mt-2 mb-2'>Advance Payments from {props.patientname}</h6>\r\n                {\r\n                    loadadvancepayments || props.isLoading ? (\r\n                        <div className=\"col-6 py-2 pb-2 m-auto \">\r\n                            <div class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                                <span class=\"visually-hidden\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"scroll scroll-y\" style={{maxHeight:'25vh'}}>\r\n                            {\r\n                        advancepaid!==undefined && advancepaid ? (\r\n                            \r\n                            <table className='border table rounded-1'>\r\n                                <thead className='bg-seashell position-sticky top-0'>\r\n                                    <th className='ps-2 text-charcoal75'>Description</th>\r\n                                    <th className='ps-2 text-charcoal75'>date recieved</th>\r\n                                    <th className='ps-2 text-charcoal75'>Amount recieved</th>\r\n                                </thead>\r\n                                <tbody className='align-middle'>\r\n                                    {\r\n                                       advancepaid&& advancepaid.map((data)=>(\r\n                                            <tr>\r\n                                            <td className='text-charcoal fw-bold'>{data.description}</td>\r\n                                            <td className='text-charcoal fw-bold'>{reversefunction(data.date)}</td>\r\n                                            <td className='text-charcoal fw-bold'>₹{data.credit_amount}</td>\r\n                                        </tr>\r\n                                        ))\r\n                                    }\r\n                                    <tr className='bg-pearl position-sticky bottom-0'>\r\n                                        <td className='fw-bold'>Total amount</td>\r\n                                        <td></td>\r\n                                        <td className='fw-bold text-success'>₹{advancepaid !=undefined && advancepaid[0] !=undefined ?advancepaid[0].balance:''}</td>\r\n                                    \r\n                                    </tr>\r\n                                </tbody>\r\n\r\n                            </table>\r\n\r\n                            // <div className='row align-items-center p-0 m-0'>\r\n                            //     <h6 className='text-charcoal col-6 fw-bold mt-2'>Advance Amount Balance</h6>\r\n                            //     <input className=' col-6 p-0 m-0 form-control w-50  bg-seashell ' value={advancepaid.advnace_total} />\r\n                            //     <hr />\r\n                            // </div>\r\n\r\n                        ) : (\r\n                            <div className='bg-lightyellow fw-bolder rounded-1 p-2 m-1 mt-2 text-center'>No Advance Payments Found</div>\r\n                        )\r\n}\r\n                        </div>\r\n                    )\r\n                }\r\n                <h6 className='text-charcoal75 fw-bolder mb-2 mt-3'>Add Advance Payment</h6>\r\n                <div className=\"row p-0 m-0 align-items-center\">\r\n                    <div className=\"col-3 ps-0\">\r\n                        <p className='text-charcoal p-0 m-0 fw-bold'>Description</p>\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        <input type='text' className='form-control p-0 m-0 p-1 bg-seashell mx-auto' value={Description ? Description : ''} onChange={(e) => setDescription(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row p-0 m-0 align-items-center\">\r\n                    <div className=\"col-auto p-0 m-0\">\r\n                        <p className='text-charcoal fw-bold mt-3'>Add Payment Method</p>\r\n                    </div>\r\n                    <div className=\"col-auto p-0 m-0\">\r\n                        <button className='btn py-0' onClick={() => setadvancepaymentmethods(prevState => [...prevState, advancepaymentmethoddetails])}><img src={process.env.PUBLIC_URL + '/images/add.png'} className='img-fluid' /></button>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    advancepaymentmethods.map((data, i) => (\r\n                        <div className=\"row p-0 m-0 mt-2 justify-content-around\">\r\n                            <div className=\"col-5 p-0 m-0 \">\r\n                                <select className='form-control bg-seashell py-1' value={data.paymentmethod} onChange={(e) => { data.paymentmethod = e.target.value; setadvancepaymentmethods(prevState => [...prevState]) }}>\r\n                                    <option className='text-charcoal75 fw-bolder'>Payment Method</option>\r\n                                    <option value='Cash'>Cash</option>\r\n                                    <option value='Card'>Card</option>\r\n                                    <option value='Paytm'>Paytm</option>\r\n                                    <option value='Phonepe'>Phone Pe</option>\r\n                                    <option value='Wire-Transfer'>Wire-Transfer</option>\r\n                                    <option value='Razorpay'>Razorpay</option>\r\n                                    <option value='Points'>Points</option>\r\n                                    <option value='Adjust-Advance'>Adjust-Advance Cash</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-4 p-0 m-0 ms-1\">\r\n                                <input className='form-control bg-seashell py-1' value={data.amount} onChange={(e) => { data.amount = e.target.value; setadvancepaymentmethods(prevState => [...prevState]) }} />\r\n                            </div>\r\n                            <div className=\"col-1 col-lg-1 col-md-1 col-sm-1 m-0 p-0 \">\r\n                                <button className='btn p-0 m-0' onClick={() => { DeleteadvancePaymentMethods(i); setadvancepaymentmethods(prevState => [...prevState]) }}><img src={process.env.PUBLIC_URL + '/images/delete.png'} className='img-fluid' style={{ width: '1.5rem' }} /></button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n                <div className=\"container text-center\">\r\n                    <button className='button  button-charcoal rounded-1 mt-3 mb-2' disabled={Description ? false : true} onClick={AddadvancePaymentMethods}>Save</button>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className={`container-fluid p-0 m-0 ps-3 d-${blocksindex === 1 ? 'block' : 'none'} `}>\r\n                {\r\n                    pendingpayments && pendingpayments != null && pendingpayments.length != 0 ? (\r\n                        loadappoint ? (\r\n                            <div className=\"col-6 py-2 pb-2 m-auto \">\r\n                                <div class=\"spinner-border\" role=\"status\">\r\n                                    <span class=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                <h6 className='fw-bolder text-charcoal75 mt-2'>Previous paid payments</h6>\r\n                                <div className='container-fluid overflow-scroll p-0 m-0 rounded-1'>\r\n                                    <table className='table p-0 m-0 border-0 bg-pearl p-2'>\r\n                                        <thead className='p-0 m-0 border-0'>\r\n                                            <tr>\r\n                                                <th className='p-0 m-0 px-1 border-0' rowspan='2'>Amount Paid</th>\r\n                                                <th className='p-0 m-0 px-1 border-0' rowspan='2'>Pending Date</th>\r\n                                                <th className='p-0 m-0 px-1 border-0' rowspan='2'>Paid Date</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 border-bottom' colspan='7' scope='colgroup'>Payment Method</th>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Cash</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Card</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Paytm</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Phonepe</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Razorpay</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Wire-Transfer</th>\r\n                                                <th className='p-0 m-0 px-1 border-0 bg-pearl' scope='col'>Points</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                pendingpayments.map((data) => (\r\n                                                    <tr className={`d-${data.is_paid == 1 ? '' : 'none'}`}>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.paid_amount}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{reversefunction(data.pending_date)}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{reversefunction(data.paid_date)}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Cash : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Card : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Paytm : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Phonepe : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Razorpay : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details)['Wire-Transfer'] : 'N/A'}</td>\r\n                                                        <td className='p-0 m-0 px-1 border-0'>{data.payment_method_details && data.payment_method_details != null ? JSON.parse(data.payment_method_details).Points : 'N/A'}</td>\r\n                                                    </tr>\r\n\r\n                                                ))\r\n                                            }\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                {\r\n                                    pendingpayments.map((Data) => (\r\n                                        <div className={`d-${Data.is_paid == 0 ? 'block' : 'none'} `}>\r\n                                            <div className=\"row p-0 m-0 align-items-center mt-2 justify-content-center\">\r\n                                                <div className=\"col-auto\">\r\n                                                    <span className='text-burntumber fw-bolder'>Pending Amount: {Data.pending_amount}</span>\r\n                                                </div>\r\n                                                <div className=\"col-auto\">\r\n                                                    <button className='btn p-0' onClick={() => setpendingpaymentmethods(prevState => [...prevState, pendingpaymentmethoddetails])}><img src={process.env.PUBLIC_URL + '/images/add.png'} className='img-fluid' /></button>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {\r\n                                                pendingpaymentmethods.map((data, i) => (\r\n                                                    <div className={``}>\r\n                                                        <label className='text-charcoal fw-bold mt-3'>Select Payment Method to Pay Remaining pendings</label>\r\n                                                        <div className=\"row p-0 m-0 justify-content-start\">\r\n                                                            <div className=\"col-5 col-lg-5 col-md-5 col-sm-5 p-0 m-0 \">\r\n                                                                <select className='form-control bg-seashell py-1' value={data.paymentmethod} onChange={(e) => { data.paymentmethod = e.target.value; setpendingpaymentmethods(prevState => [...prevState]) }}>\r\n                                                                    <option className='text-charcoal75 fw-bolder'>Payment Method</option>\r\n                                                                    <option value='Cash'>Cash</option>\r\n                                                                    <option value='Card'>Card</option>\r\n                                                                    <option value='Paytm'>Paytm</option>\r\n                                                                    <option value='Phonepe'>Phone Pe</option>\r\n                                                                    <option value='Wire-Transfer'>Wire Transfer</option>\r\n                                                                    <option value='Razorpay'>Razorpay</option>\r\n                                                                    <option value='Points'>Points</option>\r\n                                                                    <option value='Adjust-Advance'>Adjust-Advance Cash</option>\r\n                                                                </select>\r\n                                                            </div>\r\n                                                            <div className=\"col-5 col-lg-5 col-md-5 col-sm-1 p-0 m-0 ms-1\">\r\n                                                                <input className='form-control bg-seashell py-1' value={data.amount} onChange={(e) => { data.amount = e.target.value; setpendingpaymentmethods(prevState => [...prevState]) }} />\r\n                                                            </div>\r\n                                                            <div className=\"col-1 col-lg-1 col-md-1 col-sm-1 m-0 p-0 ms-2 \">\r\n\r\n                                                                <button className='btn btn-sm p-0 m-0' onClick={() => { DeletependingPaymentMethods(i); setpendingpaymentmethods(prevState => [...prevState]) }}><img src={process.env.PUBLIC_URL + '/images/delete.png'} className='img-fluid' style={{ width: '1.5rem' }} /></button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))\r\n                                            }\r\n                                        </div>\r\n                                    ))\r\n\r\n                                }\r\n\r\n                                <div className=\"container text-center\">\r\n                                    <button className='button button-charcoal mt-lg-4 mt-md-3 mt-1 mb-2' onClick={UpdatePendingPayments}>Save</button>\r\n                                </div>\r\n\r\n                            </>\r\n                        )\r\n                    ) : (\r\n\r\n                        props.paymentsi !== undefined ? (\r\n                            <div className='rounded-1 bg-lightgreen text-white fw-bolder p-2 my-4'>Please see or update the bill first</div>\r\n                        ) : (\r\n                            <div className='rounded-1 bg-lightgreen text-white fw-bolder p-2 my-4'>No Pending Payments Found</div>\r\n                        )\r\n\r\n\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport { Payments }","import axios from \"axios\"\r\nimport Notiflix from \"notiflix\"\r\n\r\nconst url = 'https://aartas-qaapp-as.azurewebsites.net/aartas_uat/public/api/connect'\r\nconst adminid = localStorage.getItem('id')\r\nconst ClinicId = localStorage.getItem(\"ClinicId\");\r\n\r\nexport const Get_Document=async(appointment_id)=>{  \r\n    let data\r\n    try{\r\n     await axios.get(`${url}/all/document?appointment_id=${appointment_id}`).then((response)=>{\r\n        data = response.data.data\r\n      }).catch((e)=>{\r\n        Notiflix.Notify.failure(e.message)\r\n      })\r\n    }catch(e){\r\n      Notiflix.Notify.failure(e.message)\r\n    }\r\n    return data \r\n  }\r\n  export const UpadteStatus=async(appointmentId,status,adminId)=>{\r\n    let res;\r\n    try {\r\n      Notiflix.Loading.circle('Upadating Appointment Status', {\r\n        backgroundColor: 'rgb(242, 242, 242,0.5)',\r\n        svgColor: '#96351E',\r\n        messageColor: '#96351E',\r\n        messageFontSize: '1.5rem'\r\n      })\r\n      await axios.post(`${url}/appointment/change/status`, {\r\n        appointment_id: appointmentId,\r\n        status: status,\r\n        admin_id: adminId\r\n      }).then((response) => {\r\n        Notiflix.Loading.remove()\r\n        res = response\r\n      }).catch((e)=>{\r\n        Notiflix.Notify.failure(e.message)\r\n      })\r\n    } catch (e) {\r\n      Notiflix.Notify.failure(e.message)\r\n    }\r\n\r\n}\r\nexport const appointment_status = async()=>{\r\n  let data ;\r\n  try {\r\n      await axios.get(`${url}/DSR/appointments?admin_id=${adminid}&clinic_id=${ClinicId}`).then((response)=>{\r\n        data = response.data.data.all_appointments_status\r\n      }).catch((e)=>{\r\n        Notiflix.Notify.failure(e.message)\r\n      })\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(error.message)\r\n  }\r\n  return data\r\n}\r\n","import React from 'react'\r\n\r\nconst Generated_bill = (props) => {\r\n    console.log(props.bill);\r\n    return (\r\n      <div className=\"container p-0 m-0 mb-3 bg-seashell\" style={{height:'70vh'}}>\r\n        <button className='btn-close position-absolute top-0 end-0 mt-2 me-2' onClick={()=>props.toggle_Scannedbill()}></button>\r\n        <h5 className='fw-bold text-center shadow-sm pt-2 pb-1'>Generated Bill</h5>\r\n        {\r\n            props.bill &&  props.bill.length >0 ?(\r\n        <div>\r\n         <iframe src={props.bill} width=\"100%\" style={{height:'60vh'}}> </iframe> \r\n        </div>\r\n            ):(\r\n              <h4 className='text-center mt-5 pt-5 fw-bold text-charcoal50'>No Generated bill found</h4>\r\n            )\r\n        }\r\n  \r\n  </div>\r\n    )\r\n}\r\n\r\nexport {Generated_bill}","import React from 'react'\r\n\r\nconst Prescription = (props) => {\r\nconsole.log(props.prescriptions);\r\n  return (\r\n    <div className=\"container p-0 m-0 mb-3 bg-seashell\" style={{height:'80vh'}}>\r\n      <button className='btn-close position-absolute top-0 end-0 mt-2 me-2' onClick={()=>props.toggle_ScannedPres()}></button>\r\n      <h5 className='fw-bold text-center shadow-sm pt-2 pb-1'>Scanned Prescription</h5>\r\n      {\r\n          props.prescriptions &&  props.prescriptions.length >0 ?(\r\n      <div>\r\n       <iframe src={props.prescriptions} width=\"100%\" style={{height:'70vh'}}> </iframe> \r\n      </div>\r\n          ):(\r\n            <h4 className='text-center mt-5 pt-5 fw-bold text-charcoal50'>No Scanned Prescriptions</h4>\r\n          )\r\n      }\r\n\r\n</div>\r\n  )\r\n}\r\n\r\nexport {Prescription}"],"names":["props","adminid","localStorage","getItem","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","totalAmount","setTotalAmount","_useState5","_useState6","paidpendingtotal","setpaidpending","Change_status","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","undefined","appointmentData","total_amount","appointment_status","UpadteStatus","id","Appointmentlist","stop","apply","arguments","useEffect","data","payment_method","payment","Object","values","JSON","parse","payment_method_details","val","i","length","element","parseFloat","calculate","totalpaidpendings","pendingtotal","pending_payments","is_paid","push","paid_amount","forEach","item","Number","CalculatePaidPendings","_jsxs","className","style","letterSpacing","children","toFixed","_jsx","type","disabled","role","Bill","url","useContext","URL","setItem","appointmentid","Charges","description","amount","discount","cgst","sgst","gross_amount","paymentmethoddetails","paymentmethod","loadadvancepayments","setloadadvancepayments","advancepayments","setadvancepayments","extrachargecount","setextrachargecount","_useState7","_useState8","constext","setconstext","_useState9","_useState10","docdiscount","setdocdiscount","_useState11","_useState12","coupondiscount","setcoupondiscount","_useState13","_useState14","aartasdiscount","setaartasdiscount","_useState15","_useState16","AtC","setAtC","_useState17","doctorfee","_useState18","AddConsAmt","setAddConsAmt","_useState19","_useState20","SGST","setSGST","_useState21","_useState22","CGST","setCGST","_useState23","_useState24","paymentmethods","setpaymentmethods","_useState25","_useState26","load","setload","_useState27","_useState28","ischecked","setischecked","AddExtraCharges","_AddExtraCharges","_callee6","extracharges","j","_context6","appointmentdata","other_charges","gst_rate","final_amount","aartas_discount","doc_discount","cons_text","_AddPaymentMethods","_callee7","Payments","amounts","allamounts","_context7","keys","_DeleteExtraCharges","_callee8","_context8","axios","concat","then","response","splice","Notiflix","message","Calculate_gst","prevState","_toConsumableArray","total","Get_total_Seperate_gsts","grosstotal","Get_Grand_Total","discounts","map","Return_Amount","totalarr","Advance","SaveBill","_SaveBill","_callee10","GrandTotal","Docfee","DoctorDiscount","AartasDiscount","TotalCGST","TotalSGST","Description","TotalAmount","Discount","Grossamount","DiscountedAmount","ids","gstrate","Paymentmethod","Paymentmethodsvalue","Data","Payment","_Payment","_context10","_callee9","_context9","status","toggleStage3","toggleStage4","t0","appointment_id","g_total_main","cons_fee","doc_dis","payment_method_main","admin_id","add_to_cart","show_cons_fee","ot_id","AddPaymentMethods","billform","_AdvancePayments","_callee11","_context11","patient_id","patientid","catch","e","AdvancePayments","consumables_amount","Total","medicine_used","ConsumableAmount","_useState29","_useState30","stage1","setstage1","toggleStage1","_useState31","_useState32","stage2","setstage2","toggleStage2","_useState33","_useState34","stage3","setstage3","_useState35","_useState36","stage4","setstage4","Generate_Bill","_ref2","_callee2","_context2","backgroundColor","svgColor","messageColor","messageFontSize","window","open","bill_url","_x2","Generate_Prescription","_ref3","_callee3","_context3","prescription_pdf","_x3","Send_On_WhatsApp","_ref4","_callee4","phone","check","checkpres","_context4","check_pres","_x4","_x5","_x6","Send_On_SMS","_ref5","_callee5","_context5","check_bill","check_pre","_x7","_x8","_x9","_useState37","_useState38","setprescriptions","_get_docs","_callee12","_context12","Get_Document","sent","get_docs","_Fragment","minHeight","patientname","onClick","CloseBillForm","checked","value","onChange","target","class","isLoading","_x","DeleteExtraCharges","src","width","placeholder","DeletePaymentMethods","patient","reward_points","points_total","advnace_total","Total_Amount","customconfirm","padding","whatsapp_sent","phone_number","setsingleload","paymentsi","blocksindex","setblocksindex","pendingpayments","setpendingpayments","pendingpaymentmethods","setpendingpaymentmethods","advancepaymentmethods","setadvancepaymentmethods","setDescription","advancepaid","setadvancepaid","loadappoint","setloadappoint","advancepaymentmethoddetails","pendingpaymentmethoddetails","_AddadvancePaymentMethods","_ExistedPendingPayments","pendings","_UpdatePendingPayments","pendingid","_j","_Payment4","ClosePaymentsForm","pending_id","ExistedPendingPayments","reversefunction","date","split","reverse","join","maxHeight","credit_amount","balance","DeleteadvancePaymentMethods","rowspan","colspan","scope","pending_date","paid_date","Cash","Card","Paytm","Phonepe","Razorpay","Points","pending_amount","DeletependingPaymentMethods","ClinicId","abrupt","appointmentId","adminId","all_appointments_status","Generated_bill","console","log","bill","height","toggle_Scannedbill","Prescription","prescriptions","toggle_ScannedPres"],"sourceRoot":""}