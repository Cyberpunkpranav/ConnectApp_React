{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aartas-WebDesign\\\\Desktop\\\\ConnectApp_React\\\\connect_app\\\\FrontEnd\\\\src\\\\components\\\\pharmacy\\\\Exports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ExportExcel } from '../features/ExportExcel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExportPurchaseEntry = props => {\n  _s();\n  const [ExportPurchaseEntry, setExportPurchaseEntry] = useState([]);\n  const [ExportPurchaseEntry2, setExportPurchaseEntry2] = useState([]);\n  const fileName = 'purchase';\n  const reversefunction = date => {\n    if (date) {\n      date = date.split(\"-\").reverse().join(\"-\");\n      return date;\n    }\n  };\n  function TotalTaxPercent(cgst, sgst, igst) {\n    if (cgst && sgst && igst !== null || undefined) {\n      return Number(cgst) + Number(sgst) + Number(igst);\n    }\n  }\n  function TotalTaxRate(cgst, sgst, igst) {\n    if (cgst && sgst && igst !== null || undefined) {\n      return Number(cgst) + Number(sgst) + Number(igst);\n    }\n  }\n  async function MakePurchaseEntryExport() {\n    if (props.purchaseentryarr.length !== 0) {\n      const vendors = await props.purchaseentryarr.map(data => ({\n        \"PE ID\": \"PE-\" + data.bill_id,\n        \"PO ID\": data.purchase_order_id != null ? data.purchase_order_id : '',\n        'Channel': data.channel == 1 ? 'Pharmacy' : 'Consumables',\n        'Invoice No.': data.invoice_no != null ? data.invoice_no : '',\n        'Bill Date': data.bill_date != null ? data.bill_date : '',\n        'Bill Total': data.bill_total != null ? data.bill_total : '',\n        'Vendor': data.distributor.entity_name && data.distributor.entity_name != null ? data.distributor.entity_name : ''\n      }));\n      var obj = [];\n      for (let i = 0; i < props.purchaseentryarr.length; i++) {\n        var vendorsitems = props.purchaseentryarr[i].medicines.map(Data => ({\n          'Item ID': Data.id != null ? Data.id : '',\n          'Item Name': Data.medicine && Data.medicine.name && Data.medicine.name != null ? Data.medicine.name : '',\n          'Batch No.': Data.batch_no != null ? Data.batch_no : '',\n          'ExpiryDate': Data.expiry_date !== null ? reversefunction(Data.expiry_date) : '',\n          'MRP': Data.mrp != null ? Data.mrp : '',\n          'Rate': Data.rate != null ? Data.rate : '',\n          'Discount': Data.discount != null ? Data.discount : '',\n          'Trade Disc.': Data.trade_discount != null ? Data.trade_discount : '',\n          'CGST %': Data.CGST,\n          'CGST Rs': Data.CGST_rate,\n          'SGST %': Data.SGST,\n          'SGST Rs': Data.SGST_rate,\n          'IGST %': Data.IGST,\n          'IGST Rs': Data.IGST_rate,\n          'Total Tax %': TotalTaxPercent(Data.CGST, Data.SGST, Data.IGST),\n          'Total Tax Rs': TotalTaxPercent(Data.CGST_rate, Data.SGST_rate, Data.IGST_rate)\n        }));\n        obj.push(vendorsitems);\n      }\n      var obj2 = obj.flat();\n      setExportPurchaseEntry(vendors);\n      setExportPurchaseEntry2(obj2);\n      console.log(obj2);\n    }\n  }\n  useEffect(() => {\n    async function func() {\n      await MakePurchaseEntryExport();\n    }\n    func();\n  }, [1]);\n  console.log(props.purchaseentryarr);\n  // console.log(ExportPurchaseEntry, ExportPurchaseEntry2)\n  return /*#__PURE__*/_jsxDEV(ExportExcel, {\n    apiData: ExportPurchaseEntry2,\n    fileName: fileName\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n_s(ExportPurchaseEntry, \"wmkwy/kawiNDBqG+cxij8KnSrqE=\");\n_c = ExportPurchaseEntry;\nexport { ExportPurchaseEntry };\nvar _c;\n$RefreshReg$(_c, \"ExportPurchaseEntry\");","map":{"version":3,"names":["React","useState","useEffect","ExportExcel","ExportPurchaseEntry","props","setExportPurchaseEntry","ExportPurchaseEntry2","setExportPurchaseEntry2","fileName","reversefunction","date","split","reverse","join","TotalTaxPercent","cgst","sgst","igst","undefined","Number","TotalTaxRate","MakePurchaseEntryExport","purchaseentryarr","length","vendors","map","data","bill_id","purchase_order_id","channel","invoice_no","bill_date","bill_total","distributor","entity_name","obj","i","vendorsitems","medicines","Data","id","medicine","name","batch_no","expiry_date","mrp","rate","discount","trade_discount","CGST","CGST_rate","SGST","SGST_rate","IGST","IGST_rate","push","obj2","flat","console","log","func"],"sources":["C:/Users/Aartas-WebDesign/Desktop/ConnectApp_React/connect_app/FrontEnd/src/components/pharmacy/Exports.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { ExportExcel } from '../features/ExportExcel'\r\nconst ExportPurchaseEntry = (props) => {\r\n    const [ExportPurchaseEntry, setExportPurchaseEntry] = useState([])\r\n    const [ExportPurchaseEntry2, setExportPurchaseEntry2] = useState([])\r\n    const fileName = 'purchase'\r\n    const reversefunction = (date) => {\r\n        if (date) {\r\n          date = date.split(\"-\").reverse().join(\"-\")\r\n          return date\r\n        }\r\n    \r\n      }\r\n      function TotalTaxPercent(cgst,sgst,igst){\r\n        if(cgst&&sgst&&igst !==null||undefined){\r\n          return Number(cgst)+Number(sgst)+Number(igst)\r\n        }\r\n     }\r\n     function TotalTaxRate(cgst,sgst,igst){\r\n      if(cgst&&sgst&&igst !==null||undefined){\r\n        return Number(cgst)+Number(sgst)+Number(igst)\r\n      }\r\n    }\r\n    async function MakePurchaseEntryExport() {\r\n        if (props.purchaseentryarr.length !== 0) {\r\n            const vendors = await props.purchaseentryarr.map(data => (\r\n\r\n                {\r\n                    \"PE ID\": \"PE-\" + data.bill_id,\r\n                    \"PO ID\": data.purchase_order_id != null ? data.purchase_order_id : '',\r\n                    'Channel': data.channel == 1 ? 'Pharmacy' : 'Consumables',\r\n                    'Invoice No.': data.invoice_no != null ? data.invoice_no : '',\r\n                    'Bill Date': data.bill_date != null ? data.bill_date : '',\r\n                    'Bill Total': data.bill_total != null ? data.bill_total : '',\r\n                    'Vendor':data.distributor.entity_name && data.distributor.entity_name!=null ?data.distributor.entity_name:''\r\n\r\n                }\r\n            ))\r\n            var obj = []\r\n            for (let i = 0; i < props.purchaseentryarr.length; i++) {\r\n                var vendorsitems = props.purchaseentryarr[i].medicines.map(Data => ({\r\n                    'Item ID': Data.id != null ? Data.id : '',\r\n                    'Item Name': Data.medicine && Data.medicine.name && Data.medicine.name != null ? Data.medicine.name : '',\r\n                    'Batch No.': Data.batch_no != null ? Data.batch_no : '',\r\n                    'ExpiryDate': Data.expiry_date !== null ?reversefunction(Data.expiry_date) : '',\r\n                    'MRP': Data.mrp != null ? Data.mrp : '',\r\n                    'Rate': Data.rate != null ? Data.rate : '',\r\n                    'Discount':Data.discount!=null ? Data.discount:'',\r\n                    'Trade Disc.':Data.trade_discount!=null ? Data.trade_discount:'',\r\n                    'CGST %':Data.CGST,\r\n                    'CGST Rs':Data.CGST_rate,\r\n                    'SGST %':Data.SGST,\r\n                    'SGST Rs':Data.SGST_rate,\r\n                    'IGST %':Data.IGST,\r\n                    'IGST Rs':Data.IGST_rate,\r\n                    'Total Tax %':TotalTaxPercent(Data.CGST,Data.SGST,Data.IGST),\r\n                    'Total Tax Rs':TotalTaxPercent(Data.CGST_rate,Data.SGST_rate,Data.IGST_rate),\r\n                })) \r\n                obj.push(vendorsitems)\r\n          \r\n            }\r\n            var obj2 = obj.flat()\r\n\r\n            setExportPurchaseEntry(vendors)\r\n            setExportPurchaseEntry2(obj2)\r\n            console.log(obj2)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        async function func() {\r\n            await MakePurchaseEntryExport()\r\n        }\r\n        func()\r\n    }, [1])\r\n    console.log(props.purchaseentryarr)\r\n    // console.log(ExportPurchaseEntry, ExportPurchaseEntry2)\r\n    return (\r\n        <ExportExcel apiData={ExportPurchaseEntry2} fileName={fileName} />\r\n    )\r\n}\r\n\r\nexport { ExportPurchaseEntry }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}