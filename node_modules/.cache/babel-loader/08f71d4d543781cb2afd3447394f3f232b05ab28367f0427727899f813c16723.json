{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aartas-WebDesign\\\\Desktop\\\\ConnectApp_React\\\\connect_app\\\\FrontEnd\\\\src\\\\components\\\\features\\\\SearchField.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport '../../css/dashboard.css';\nimport { AddAppointment } from '../Today/AddAppointment';\nimport { URL } from '../../index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchField = props => {\n  _s();\n  const url = useContext(URL);\n  const [searchload, setsearchload] = useState();\n  const [searchlist, setsearchlist] = useState([]);\n  const [displaysearchlist, setdisplaysearchlist] = useState('none');\n  const [patientid, setpatientid] = useState();\n  const [patientname, setpatientname] = useState();\n  const [appointmentform, setappointmentform] = useState(\"none\");\n  async function searchpatient() {\n    setsearchload(true);\n    setpatientid();\n    setpatientname();\n    await axios.get(`${url}/patient/list?search=${props.searchtext}&limit=5&offset=0`).then(response => {\n      setsearchlist(response.data.data);\n      setsearchload(false);\n    });\n    if (props.searchtext.length > 1) {\n      setdisplaysearchlist('block');\n    } else {\n      setdisplaysearchlist('none');\n    }\n  }\n  useEffect(() => {\n    searchpatient();\n  }, [props.searchtext]);\n  const get_value = e => {\n    setpatientid(e.target.name);\n    setpatientname(e.target.value);\n    toggleappointmentform();\n  };\n  const toggleappointmentform = () => {\n    if (appointmentform === \"none\") {\n      setappointmentform(\"block\");\n    } else if (appointmentform === \"block\") {\n      setappointmentform(\"none\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `col-12 d-${displaysearchlist} searchlist `,\n      style: {\n        minHeight: '4rem'\n      },\n      children: searchload ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-0 m-0 text-charcoal75 fs-6 \",\n        style: {\n          width: '50vh'\n        },\n        children: \"Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this) : searchlist.length == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-danger btn fs-6 p-0 m-0\",\n        children: \"Patient not found add as new to book appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this) : searchlist.map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row p-0 m-0 bg-seashell py-1 border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8 col-xl-8 col-lg-8 p-0 m-0\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" p-0 m-0 border-0 text-charcoal text-start\",\n            children: [data.full_name, \" \", data.phone_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4 col-xl-4 col-lg-4 p-0 m-0 align-self-center justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button button border-0 p-0 m-0\",\n            name: data.id,\n            value: data.full_name,\n            onClick: e => get_value(e),\n            style: {\n              fontSize: '0.8rem',\n              zIndex: '2000'\n            },\n            children: \"+_Appoint.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-4 bg-seashell end-0 appointmentinfosection d-${appointmentform} border-start border-top border-2 position-absolute`,\n      style: {\n        width: '30rem',\n        top: '-2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(AddAppointment, {\n        fetchapi: props.fetchapi,\n        toggleappointmentform: toggleappointmentform,\n        patientidfromsearch: patientid,\n        patientnamefromsearch: patientname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(SearchField, \"LnvSB9tVlZsVLIf/TG+PGCDa7L0=\");\n_c = SearchField;\nexport { SearchField };\nvar _c;\n$RefreshReg$(_c, \"SearchField\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","AddAppointment","URL","SearchField","props","url","searchload","setsearchload","searchlist","setsearchlist","displaysearchlist","setdisplaysearchlist","patientid","setpatientid","patientname","setpatientname","appointmentform","setappointmentform","searchpatient","get","searchtext","then","response","data","length","get_value","e","target","name","value","toggleappointmentform","minHeight","width","map","full_name","phone_number","id","fontSize","zIndex","top","fetchapi"],"sources":["C:/Users/Aartas-WebDesign/Desktop/ConnectApp_React/connect_app/FrontEnd/src/components/features/SearchField.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport axios from 'axios'\r\nimport '../../css/dashboard.css'\r\nimport { AddAppointment } from '../Today/AddAppointment'\r\nimport { URL } from '../../index'\r\n\r\nconst SearchField = (props) => {\r\n    const url = useContext(URL)\r\n    const [searchload, setsearchload] = useState()\r\n    const [searchlist, setsearchlist] = useState([])\r\n    const [displaysearchlist, setdisplaysearchlist] = useState('none')\r\n    const [patientid, setpatientid] = useState()\r\n    const [patientname, setpatientname] = useState()\r\n    \r\n    const [appointmentform, setappointmentform] = useState(\"none\");\r\n    async function searchpatient() {\r\n        setsearchload(true)\r\n        setpatientid();\r\n        setpatientname();\r\n        await axios.get(`${url}/patient/list?search=${props.searchtext}&limit=5&offset=0`).then((response) => {\r\n            setsearchlist(response.data.data)\r\n            setsearchload(false)\r\n        })\r\n\r\n        if (props.searchtext.length > 1) {\r\n            setdisplaysearchlist('block');\r\n        } else {\r\n            setdisplaysearchlist('none');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        searchpatient()\r\n    }, [props.searchtext])\r\n\r\n    const get_value = (e) => {\r\n        setpatientid(e.target.name);\r\n        setpatientname(e.target.value);\r\n        toggleappointmentform()\r\n    }\r\n\r\n\r\n    const toggleappointmentform = () => {\r\n      if (appointmentform === \"none\") {\r\n        setappointmentform(\"block\");\r\n      } else if (appointmentform === \"block\") {\r\n        setappointmentform(\"none\");\r\n      }\r\n    };\r\n    return (\r\n        <>\r\n        <div className={`col-12 d-${displaysearchlist} searchlist `} style={{ minHeight: '4rem' }}>\r\n            {\r\n                searchload ? (\r\n                    <div className=\"row p-0 m-0 text-charcoal75 fs-6 \" style={{width:'50vh'}}>Loading... </div>\r\n                ) : (\r\n                    searchlist.length == 0 ? (\r\n                        <div className=\"text-danger btn fs-6 p-0 m-0\">Patient not found add as new to book appointments</div>\r\n                    ) : (\r\n                        searchlist.map((data) => (\r\n                            <div className='row p-0 m-0 bg-seashell py-1 border'>\r\n                                <div className=\"col-8 col-xl-8 col-lg-8 p-0 m-0\">\r\n                                    <button className=' p-0 m-0 border-0 text-charcoal text-start' >{data.full_name} {data.phone_number}</button>\r\n                                </div>\r\n                                <div className=\"col-4 col-xl-4 col-lg-4 p-0 m-0 align-self-center justify-content-center\">\r\n                                    <button className=\"button button border-0 p-0 m-0\" name={data.id} value={data.full_name} onClick={(e) => get_value(e)} style={{fontSize:'0.8rem',zIndex:'2000' }}>+_Appoint.</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        )))\r\n\r\n                )\r\n\r\n            }\r\n        </div>\r\n        <div className={`rounded-4 bg-seashell end-0 appointmentinfosection d-${appointmentform} border-start border-top border-2 position-absolute`} style={{width:'30rem',top:'-2rem'}} >\r\n        <AddAppointment fetchapi={props.fetchapi} toggleappointmentform={toggleappointmentform} patientidfromsearch={patientid} patientnamefromsearch={patientname}/>\r\n       </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport { SearchField }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}